/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["DashviewV2"] = factory();
	else
		root["DashviewV2"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 38:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  DASHVIEW_VERSION: () => (/* binding */ DASHVIEW_VERSION)\n});\n\n// NAMESPACE OBJECT: ./src/layouts/base-layout.ts\nvar base_layout_namespaceObject = {};\n__webpack_require__.r(base_layout_namespaceObject);\n__webpack_require__.d(base_layout_namespaceObject, {\n  Y: () => (BaseLayout)\n});\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.mjs\nvar tslib_es6 = __webpack_require__(635);\n// EXTERNAL MODULE: ./node_modules/lit/index.js + 2 modules\nvar lit = __webpack_require__(174);\n// EXTERNAL MODULE: ./node_modules/lit/decorators.js + 3 modules\nvar decorators = __webpack_require__(791);\n;// ./src/core/base-element.ts\n\n\n\nclass DashviewBaseElement extends lit/* LitElement */.WF {\n    shouldUpdate(changedProps) {\n        if (!this.hass) {\n            console.warn('DashviewBaseElement: hass object not available');\n            return false;\n        }\n        return super.shouldUpdate(changedProps);\n    }\n    async callWebSocket(command, data) {\n        if (!this.hass) {\n            throw new Error('Home Assistant connection not available');\n        }\n        try {\n            const result = await this.hass.callWS({\n                type: `dashview_v2/${command}`,\n                ...data,\n            });\n            return result;\n        }\n        catch (error) {\n            console.error(`WebSocket call failed for ${command}:`, error);\n            throw error;\n        }\n    }\n    handleError(error, context) {\n        console.error(`[Dashview V2] Error in ${context}:`, error);\n        // In the future, we can show user-friendly error messages here\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        console.log('DashviewBaseElement connected');\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        console.log('DashviewBaseElement disconnected');\n    }\n}\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ attribute: false }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewBaseElement.prototype, \"hass\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: Object }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewBaseElement.prototype, \"config\", void 0);\n\n;// ./src/core/websocket-connection.ts\nclass WebSocketConnection {\n    constructor(hass) {\n        this.hass = hass;\n    }\n    async getHomeInfo() {\n        try {\n            const result = await this.hass.callWS({\n                type: 'dashview_v2/get_home_info',\n            });\n            return result;\n        }\n        catch (error) {\n            console.error('Failed to get home info:', error);\n            throw error;\n        }\n    }\n    async subscribeToStateChanges(callback, entityIds) {\n        if (!this.hass.connection) {\n            throw new Error('WebSocket connection not available');\n        }\n        const unsubscribe = await this.hass.connection.subscribeEvents((event) => {\n            if (!entityIds || entityIds.includes(event.data.entity_id)) {\n                callback(event);\n            }\n        }, 'state_changed');\n        return unsubscribe;\n    }\n    isConnected() {\n        return !!this.hass && !!this.hass.connection;\n    }\n}\n\n;// ./src/utils/logger.ts\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 1] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 3] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nclass Logger {\n    constructor() {\n        this.level = LogLevel.INFO;\n        this.prefix = '[Dashview V2]';\n        // Check if we're in development mode\n        if (false) // removed by dead control flow\n{}\n    }\n    static getInstance() {\n        if (!Logger.instance) {\n            Logger.instance = new Logger();\n        }\n        return Logger.instance;\n    }\n    setLevel(level) {\n        this.level = level;\n    }\n    debug(...args) {\n        if (this.level <= LogLevel.DEBUG) {\n            console.debug(this.prefix, ...args);\n        }\n    }\n    info(...args) {\n        if (this.level <= LogLevel.INFO) {\n            console.info(this.prefix, ...args);\n        }\n    }\n    warn(...args) {\n        if (this.level <= LogLevel.WARN) {\n            console.warn(this.prefix, ...args);\n        }\n    }\n    error(...args) {\n        if (this.level <= LogLevel.ERROR) {\n            console.error(this.prefix, ...args);\n        }\n    }\n}\nconst logger = Logger.getInstance();\n\n;// ./src/core/state-manager.ts\n/**\n * State management for Dashview V2 dashboard.\n * Handles efficient state updates with diffing and batching.\n */\n\nconst state_manager_logger = new Logger('StateManager');\nclass StateManager {\n    constructor(config = {}) {\n        this.updateQueue = [];\n        this.rafId = null;\n        this.lastState = new Map();\n        this.listeners = new Map();\n        this.globalListeners = new Set();\n        this.config = {\n            batchInterval: config.batchInterval ?? 16, // 60fps\n            maxBatchSize: config.maxBatchSize ?? 100,\n        };\n    }\n    /**\n     * Compute differences between old and new state.\n     */\n    computeStateDiff(entityId, newState) {\n        const oldState = this.lastState.get(entityId);\n        if (!oldState) {\n            return {\n                type: 'added',\n                entityId,\n                newState,\n            };\n        }\n        // Quick equality check\n        if (oldState.state === newState.state &&\n            JSON.stringify(oldState.attributes) === JSON.stringify(newState.attributes)) {\n            return null;\n        }\n        // Find changed properties\n        const changedProps = this.getChangedProps(oldState, newState);\n        if (changedProps.length === 0) {\n            return null;\n        }\n        return {\n            type: 'changed',\n            entityId,\n            oldState,\n            newState,\n            changedProps,\n        };\n    }\n    /**\n     * Get list of changed properties between states.\n     */\n    getChangedProps(oldState, newState) {\n        const changed = [];\n        // Check main state\n        if (oldState.state !== newState.state) {\n            changed.push('state');\n        }\n        // Check attributes\n        const oldAttrs = oldState.attributes || {};\n        const newAttrs = newState.attributes || {};\n        const allKeys = new Set([...Object.keys(oldAttrs), ...Object.keys(newAttrs)]);\n        for (const key of allKeys) {\n            if (JSON.stringify(oldAttrs[key]) !== JSON.stringify(newAttrs[key])) {\n                changed.push(`attributes.${key}`);\n            }\n        }\n        // Check last_changed and last_updated\n        if (oldState.last_changed !== newState.last_changed) {\n            changed.push('last_changed');\n        }\n        if (oldState.last_updated !== newState.last_updated) {\n            changed.push('last_updated');\n        }\n        return changed;\n    }\n    /**\n     * Batch state updates for efficient rendering.\n     */\n    batchUpdate(updates) {\n        this.updateQueue.push(...updates);\n        // If we have too many updates, process immediately\n        if (this.updateQueue.length >= this.config.maxBatchSize) {\n            this.processBatch();\n            return;\n        }\n        // Otherwise, schedule processing\n        if (!this.rafId) {\n            this.rafId = requestAnimationFrame(() => {\n                this.processBatch();\n                this.rafId = null;\n            });\n        }\n    }\n    /**\n     * Process a single state update immediately.\n     */\n    updateState(entityId, newState) {\n        this.batchUpdate([{\n                entityId,\n                state: newState,\n                timestamp: Date.now(),\n            }]);\n    }\n    /**\n     * Process all batched updates.\n     */\n    processBatch() {\n        if (this.updateQueue.length === 0) {\n            return;\n        }\n        const startTime = performance.now();\n        const updateMap = new Map();\n        const diffs = [];\n        // Deduplicate updates (keep latest for each entity)\n        for (const update of this.updateQueue) {\n            updateMap.set(update.entityId, update);\n        }\n        // Process each unique update\n        for (const [entityId, update] of updateMap) {\n            const diff = this.computeStateDiff(entityId, update.state);\n            if (diff) {\n                diffs.push(diff);\n                this.lastState.set(entityId, update.state);\n                // Notify entity-specific listeners\n                const entityListeners = this.listeners.get(entityId);\n                if (entityListeners) {\n                    for (const listener of entityListeners) {\n                        try {\n                            listener(diff);\n                        }\n                        catch (error) {\n                            state_manager_logger.error(`Error in entity listener for ${entityId}:`, error);\n                        }\n                    }\n                }\n            }\n        }\n        // Notify global listeners\n        if (diffs.length > 0) {\n            for (const listener of this.globalListeners) {\n                try {\n                    listener(diffs);\n                }\n                catch (error) {\n                    state_manager_logger.error('Error in global state listener:', error);\n                }\n            }\n        }\n        // Clear queue\n        this.updateQueue = [];\n        // Log performance\n        const processingTime = performance.now() - startTime;\n        if (processingTime > this.config.batchInterval) {\n            state_manager_logger.warn(`Batch processing took ${processingTime.toFixed(2)}ms for ${updateMap.size} updates`);\n        }\n    }\n    /**\n     * Subscribe to state changes for a specific entity.\n     */\n    subscribeToEntity(entityId, callback) {\n        if (!this.listeners.has(entityId)) {\n            this.listeners.set(entityId, new Set());\n        }\n        this.listeners.get(entityId).add(callback);\n        // Return unsubscribe function\n        return () => {\n            const listeners = this.listeners.get(entityId);\n            if (listeners) {\n                listeners.delete(callback);\n                if (listeners.size === 0) {\n                    this.listeners.delete(entityId);\n                }\n            }\n        };\n    }\n    /**\n     * Subscribe to all state changes.\n     */\n    subscribeToAll(callback) {\n        this.globalListeners.add(callback);\n        // Return unsubscribe function\n        return () => {\n            this.globalListeners.delete(callback);\n        };\n    }\n    /**\n     * Get current state for an entity.\n     */\n    getState(entityId) {\n        return this.lastState.get(entityId);\n    }\n    /**\n     * Get all current states.\n     */\n    getAllStates() {\n        return new Map(this.lastState);\n    }\n    /**\n     * Initialize state from Home Assistant.\n     */\n    initializeFromHass(hass) {\n        const updates = [];\n        for (const [entityId, state] of Object.entries(hass.states)) {\n            updates.push({\n                entityId,\n                state,\n                timestamp: Date.now(),\n            });\n        }\n        this.batchUpdate(updates);\n        state_manager_logger.info(`Initialized state for ${updates.length} entities`);\n    }\n    /**\n     * Clear all state and listeners.\n     */\n    clear() {\n        if (this.rafId) {\n            cancelAnimationFrame(this.rafId);\n            this.rafId = null;\n        }\n        this.updateQueue = [];\n        this.lastState.clear();\n        this.listeners.clear();\n        this.globalListeners.clear();\n    }\n    /**\n     * Get statistics about the state manager.\n     */\n    getStats() {\n        return {\n            entityCount: this.lastState.size,\n            listenerCount: this.listeners.size + this.globalListeners.size,\n            queueSize: this.updateQueue.length,\n        };\n    }\n}\n\n;// ./src/core/subscription-manager.ts\n/**\n * Subscription manager for smart entity subscriptions.\n * Only subscribes to visible entities to optimize performance.\n */\n\nconst subscription_manager_logger = new Logger('SubscriptionManager');\nclass SubscriptionManager {\n    constructor(websocket, stateManager, config = {}) {\n        this.visibleEntities = new Set();\n        this.subscribedEntities = new Set();\n        this.debounceTimer = null;\n        this.unsubscribeHandler = null;\n        this.websocket = websocket;\n        this.stateManager = stateManager;\n        this.config = {\n            debounceDelay: config.debounceDelay ?? 300,\n            maxSubscriptions: config.maxSubscriptions ?? 500,\n        };\n    }\n    /**\n     * Update the list of visible entities.\n     * This will trigger subscription updates after debouncing.\n     */\n    updateVisibleEntities(entities) {\n        const newVisible = new Set(entities);\n        // Check if there's actually a change\n        const hasChanges = entities.length !== this.visibleEntities.size ||\n            entities.some(id => !this.visibleEntities.has(id));\n        if (!hasChanges) {\n            return;\n        }\n        // Update visible set\n        this.visibleEntities = newVisible;\n        // Debounce the sync operation\n        if (this.debounceTimer) {\n            clearTimeout(this.debounceTimer);\n        }\n        this.debounceTimer = window.setTimeout(() => {\n            this.syncSubscriptions();\n            this.debounceTimer = null;\n        }, this.config.debounceDelay);\n    }\n    /**\n     * Sync subscriptions with the backend.\n     * Subscribes to newly visible entities and unsubscribes from hidden ones.\n     */\n    async syncSubscriptions() {\n        if (!this.websocket.isConnected()) {\n            subscription_manager_logger.warn('WebSocket not connected, skipping subscription sync');\n            return;\n        }\n        try {\n            // Limit subscriptions if needed\n            const targetEntities = Array.from(this.visibleEntities).slice(0, this.config.maxSubscriptions);\n            // Call backend to update subscriptions\n            const result = await this.callUpdateSubscriptions(targetEntities);\n            // Update local tracking\n            this.subscribedEntities = new Set([\n                ...this.subscribedEntities,\n                ...result.subscribed\n            ]);\n            for (const entityId of result.unsubscribed) {\n                this.subscribedEntities.delete(entityId);\n            }\n            subscription_manager_logger.info(`Subscription sync complete: ${result.subscribed.length} added, ` +\n                `${result.unsubscribed.length} removed, ${this.subscribedEntities.size} total`);\n            // Log any failures\n            if (result.failed.length > 0) {\n                subscription_manager_logger.warn(`Failed to subscribe to ${result.failed.length} entities:`, result.failed);\n            }\n        }\n        catch (error) {\n            subscription_manager_logger.error('Failed to sync subscriptions:', error);\n        }\n    }\n    /**\n     * Call the backend WebSocket command to update subscriptions.\n     */\n    async callUpdateSubscriptions(entities) {\n        const hass = this.websocket.hass;\n        const response = await hass.callWS({\n            type: 'dashview_v2/update_subscriptions',\n            entities: entities,\n        });\n        return response;\n    }\n    /**\n     * Subscribe to specific entities immediately.\n     */\n    async subscribeToEntities(entities) {\n        const hass = this.websocket.hass;\n        const response = await hass.callWS({\n            type: 'dashview_v2/subscribe_visible_entities',\n            entities: entities,\n        });\n        // Update local tracking\n        for (const entityId of response.subscribed) {\n            this.subscribedEntities.add(entityId);\n        }\n        return {\n            subscribed: response.subscribed,\n            unsubscribed: [],\n            failed: response.failed || [],\n        };\n    }\n    /**\n     * Unsubscribe from specific entities immediately.\n     */\n    async unsubscribeFromEntities(entities) {\n        const hass = this.websocket.hass;\n        const response = await hass.callWS({\n            type: 'dashview_v2/unsubscribe_hidden_entities',\n            entities: entities,\n        });\n        // Update local tracking\n        for (const entityId of response.unsubscribed) {\n            this.subscribedEntities.delete(entityId);\n        }\n        return {\n            subscribed: [],\n            unsubscribed: response.unsubscribed,\n            failed: response.failed || [],\n        };\n    }\n    /**\n     * Start listening for state changes.\n     * This sets up the WebSocket event listener for state updates.\n     */\n    async startListening() {\n        if (this.unsubscribeHandler) {\n            subscription_manager_logger.warn('Already listening for state changes');\n            return;\n        }\n        try {\n            // Set up WebSocket event listener\n            this.unsubscribeHandler = await this.websocket.subscribeToStateChanges((event) => {\n                if (event.event_type === 'state_changed' && event.data) {\n                    const { entity_id, new_state } = event.data;\n                    // Only process if we're subscribed to this entity\n                    if (this.subscribedEntities.has(entity_id) && new_state) {\n                        this.stateManager.updateState(entity_id, new_state);\n                    }\n                }\n            });\n            subscription_manager_logger.info('Started listening for state changes');\n        }\n        catch (error) {\n            subscription_manager_logger.error('Failed to start listening:', error);\n            throw error;\n        }\n    }\n    /**\n     * Stop listening for state changes.\n     */\n    stopListening() {\n        if (this.unsubscribeHandler) {\n            this.unsubscribeHandler();\n            this.unsubscribeHandler = null;\n            subscription_manager_logger.info('Stopped listening for state changes');\n        }\n    }\n    /**\n     * Get the current list of subscribed entities.\n     */\n    getSubscribedEntities() {\n        return Array.from(this.subscribedEntities);\n    }\n    /**\n     * Get the current list of visible entities.\n     */\n    getVisibleEntities() {\n        return Array.from(this.visibleEntities);\n    }\n    /**\n     * Check if an entity is currently subscribed.\n     */\n    isSubscribed(entityId) {\n        return this.subscribedEntities.has(entityId);\n    }\n    /**\n     * Get subscription statistics.\n     */\n    getStats() {\n        return {\n            visibleCount: this.visibleEntities.size,\n            subscribedCount: this.subscribedEntities.size,\n            maxSubscriptions: this.config.maxSubscriptions,\n        };\n    }\n    /**\n     * Clear all subscriptions and stop listening.\n     */\n    async clear() {\n        // Stop listening\n        this.stopListening();\n        // Clear debounce timer\n        if (this.debounceTimer) {\n            clearTimeout(this.debounceTimer);\n            this.debounceTimer = null;\n        }\n        // Unsubscribe from all entities\n        if (this.subscribedEntities.size > 0) {\n            await this.unsubscribeFromEntities(Array.from(this.subscribedEntities));\n        }\n        // Clear sets\n        this.visibleEntities.clear();\n        this.subscribedEntities.clear();\n        subscription_manager_logger.info('Cleared all subscriptions');\n    }\n}\n\n;// ./src/layouts/base-layout.ts\n/**\n * Base layout class for Dashview V2 dashboard layouts.\n * Provides grid system and responsive breakpoint handling.\n */\nclass BaseLayout {\n    constructor() {\n        this.currentBreakpoint = 'desktop';\n        this.containerWidth = 0;\n        this.config = this.getLayoutConfig();\n    }\n    /**\n     * Get current breakpoint based on container width.\n     */\n    getBreakpoint(width) {\n        const w = width || this.containerWidth;\n        if (w < this.config.breakpoints.tablet) {\n            return 'mobile';\n        }\n        else if (w < this.config.breakpoints.desktop) {\n            return 'tablet';\n        }\n        else if (w < this.config.breakpoints.large) {\n            return 'desktop';\n        }\n        else {\n            return 'large';\n        }\n    }\n    /**\n     * Update container width and return if breakpoint changed.\n     */\n    updateContainerWidth(width) {\n        this.containerWidth = width;\n        const newBreakpoint = this.getBreakpoint(width);\n        if (newBreakpoint !== this.currentBreakpoint) {\n            this.currentBreakpoint = newBreakpoint;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Get number of columns for current breakpoint.\n     */\n    getColumnCount(breakpoint) {\n        const bp = breakpoint || this.currentBreakpoint;\n        switch (bp) {\n            case 'mobile':\n                return 4;\n            case 'tablet':\n                return 8;\n            case 'desktop':\n                return 12;\n            case 'large':\n                return 12;\n            default:\n                return 12;\n        }\n    }\n    /**\n     * Get grid gap size for current breakpoint.\n     */\n    getGridGap(breakpoint) {\n        const bp = breakpoint || this.currentBreakpoint;\n        switch (bp) {\n            case 'mobile':\n                return '8px';\n            case 'tablet':\n                return '12px';\n            case 'desktop':\n                return '16px';\n            case 'large':\n                return '20px';\n            default:\n                return '16px';\n        }\n    }\n    /**\n     * Get container padding for current breakpoint.\n     */\n    getContainerPadding(breakpoint) {\n        const bp = breakpoint || this.currentBreakpoint;\n        switch (bp) {\n            case 'mobile':\n                return '8px';\n            case 'tablet':\n                return '16px';\n            case 'desktop':\n                return '24px';\n            case 'large':\n                return '32px';\n            default:\n                return '24px';\n        }\n    }\n    /**\n     * Check if layout is suitable for given area count.\n     */\n    isSuitableForAreaCount(areaCount) {\n        return areaCount >= this.config.minAreas &&\n            areaCount <= this.config.maxAreas;\n    }\n    /**\n     * Sort widgets by priority for placement.\n     */\n    sortWidgetsByPriority(widgets) {\n        // Priority order: room > climate > device-group > quick-controls\n        const priorityMap = {\n            'room': 4,\n            'climate': 3,\n            'device-group': 2,\n            'quick-controls': 1,\n        };\n        return [...widgets].sort((a, b) => {\n            const priorityA = priorityMap[a.type] || 0;\n            const priorityB = priorityMap[b.type] || 0;\n            // Sort by priority first\n            if (priorityA !== priorityB) {\n                return priorityB - priorityA;\n            }\n            // Then by entity count\n            return b.entities.length - a.entities.length;\n        });\n    }\n    /**\n     * Group widgets by type.\n     */\n    groupWidgetsByType(widgets) {\n        const groups = new Map();\n        for (const widget of widgets) {\n            const type = widget.type;\n            if (!groups.has(type)) {\n                groups.set(type, []);\n            }\n            groups.get(type).push(widget);\n        }\n        return groups;\n    }\n    /**\n     * Generate CSS for grid template.\n     */\n    generateGridCSS(breakpoint) {\n        const bp = breakpoint || this.currentBreakpoint;\n        const template = this.generateGridTemplate(bp);\n        const gap = this.getGridGap(bp);\n        const padding = this.getContainerPadding(bp);\n        return `\n      display: grid;\n      grid-template: ${template};\n      gap: ${gap};\n      padding: ${padding};\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    `;\n    }\n    /**\n     * Get layout metadata.\n     */\n    getMetadata() {\n        return {\n            name: this.config.name,\n            description: this.config.description,\n            currentBreakpoint: this.currentBreakpoint,\n            supportedAreaRange: [this.config.minAreas, this.config.maxAreas],\n        };\n    }\n}\n\n;// ./src/layouts/standard-layout.ts\n/**\n * Standard layout for 2-3 bedroom homes.\n * Optimized grid layout with room widgets in main area,\n * device groups in sidebar, climate in header, and quick controls in footer.\n */\n\nclass StandardLayout extends BaseLayout {\n    getLayoutConfig() {\n        return {\n            name: 'Standard',\n            description: 'Optimized layout for 2-3 bedroom homes',\n            minAreas: 2,\n            maxAreas: 5,\n            breakpoints: {\n                mobile: 768,\n                tablet: 1024,\n                desktop: 1440,\n                large: 1920,\n            },\n        };\n    }\n    generateGridTemplate(breakpoint) {\n        switch (breakpoint) {\n            case 'mobile':\n                // Single column layout\n                return `\n          \"header\" auto\n          \"main\" 1fr\n          \"sidebar\" auto\n          \"footer\" auto\n          / 1fr\n        `;\n            case 'tablet':\n                // Two column layout\n                return `\n          \"header header\" auto\n          \"main main\" 1fr\n          \"sidebar sidebar\" auto\n          \"footer footer\" auto\n          / 1fr 1fr\n        `;\n            case 'desktop':\n                // Three column layout with sidebar\n                return `\n          \"header header header\" auto\n          \"main main sidebar\" 1fr\n          \"footer footer footer\" auto\n          / 1fr 1fr minmax(280px, 0.5fr)\n        `;\n            case 'large':\n                // Three column layout with larger sidebar\n                return `\n          \"header header header\" auto\n          \"main main sidebar\" 1fr\n          \"footer footer footer\" auto\n          / 1fr 1fr minmax(320px, 0.6fr)\n        `;\n            default:\n                return this.generateGridTemplate('desktop');\n        }\n    }\n    getGridAreas(breakpoint) {\n        const areas = [\n            {\n                name: 'header',\n                gridArea: 'header',\n                minWidgets: 0,\n                maxWidgets: 2,\n                widgetTypes: ['climate', 'quick-controls'],\n            },\n            {\n                name: 'main',\n                gridArea: 'main',\n                minWidgets: 1,\n                maxWidgets: 6,\n                widgetTypes: ['room'],\n            },\n            {\n                name: 'sidebar',\n                gridArea: 'sidebar',\n                minWidgets: 0,\n                maxWidgets: 4,\n                widgetTypes: ['device-group', 'quick-controls'],\n            },\n            {\n                name: 'footer',\n                gridArea: 'footer',\n                minWidgets: 0,\n                maxWidgets: 1,\n                widgetTypes: ['quick-controls'],\n            },\n        ];\n        // Adjust for mobile\n        if (breakpoint === 'mobile') {\n            // On mobile, everything stacks vertically\n            areas.forEach(area => {\n                if (area.name === 'main') {\n                    area.maxWidgets = 4; // Limit room widgets on mobile\n                }\n            });\n        }\n        return areas;\n    }\n    calculateWidgetPositions(widgets, areaCount) {\n        const positions = [];\n        const sortedWidgets = this.sortWidgetsByPriority(widgets);\n        const widgetsByType = this.groupWidgetsByType(sortedWidgets);\n        // Place climate widgets in header\n        const climateWidgets = widgetsByType.get('climate') || [];\n        climateWidgets.slice(0, 1).forEach((widget, index) => {\n            positions.push({\n                widgetId: this.generateWidgetId(widget),\n                gridArea: 'header',\n                order: index,\n            });\n        });\n        // Place room widgets in main area\n        const roomWidgets = widgetsByType.get('room') || [];\n        const mainColumns = this.currentBreakpoint === 'mobile' ? 1 : 2;\n        const mainRows = Math.ceil(roomWidgets.length / mainColumns);\n        roomWidgets.slice(0, 6).forEach((widget, index) => {\n            const col = (index % mainColumns) + 1;\n            const row = Math.floor(index / mainColumns) + 1;\n            positions.push({\n                widgetId: this.generateWidgetId(widget),\n                gridArea: 'main',\n                gridColumn: this.currentBreakpoint === 'mobile'\n                    ? '1'\n                    : `${col} / span 1`,\n                gridRow: `${row} / span 1`,\n                order: index,\n            });\n        });\n        // Place device groups in sidebar\n        const deviceGroups = widgetsByType.get('device-group') || [];\n        deviceGroups.slice(0, 3).forEach((widget, index) => {\n            positions.push({\n                widgetId: this.generateWidgetId(widget),\n                gridArea: 'sidebar',\n                order: index,\n            });\n        });\n        // Place quick controls\n        const quickControls = widgetsByType.get('quick-controls') || [];\n        if (quickControls.length > 0) {\n            // First quick controls in footer\n            positions.push({\n                widgetId: this.generateWidgetId(quickControls[0]),\n                gridArea: 'footer',\n                order: 0,\n            });\n            // Additional quick controls in sidebar\n            quickControls.slice(1, 3).forEach((widget, index) => {\n                positions.push({\n                    widgetId: this.generateWidgetId(widget),\n                    gridArea: 'sidebar',\n                    order: deviceGroups.length + index,\n                });\n            });\n        }\n        return positions;\n    }\n    /**\n     * Generate a unique widget ID.\n     */\n    generateWidgetId(widget) {\n        // Use type and first entity as ID\n        const firstEntity = widget.entities[0] || 'unknown';\n        return `${widget.type}-${firstEntity.replace(/\\./g, '_')}`;\n    }\n    /**\n     * Get recommended widget configuration for area count.\n     */\n    getRecommendedWidgets(areaCount) {\n        // Base recommendations\n        const config = {\n            roomWidgets: Math.min(areaCount, 4),\n            deviceGroups: 2,\n            climateWidgets: 1,\n            quickControls: 1,\n        };\n        // Adjust based on area count\n        if (areaCount <= 2) {\n            // Small home: fewer widgets\n            config.roomWidgets = areaCount;\n            config.deviceGroups = 1;\n        }\n        else if (areaCount >= 4) {\n            // Larger home: more widgets\n            config.deviceGroups = 3;\n            config.quickControls = 2;\n        }\n        // Adjust for breakpoint\n        if (this.currentBreakpoint === 'mobile') {\n            config.roomWidgets = Math.min(config.roomWidgets, 3);\n            config.deviceGroups = Math.min(config.deviceGroups, 2);\n        }\n        return config;\n    }\n    /**\n     * Get CSS for specific grid areas.\n     */\n    getAreaStyles(breakpoint) {\n        const bp = breakpoint || this.currentBreakpoint;\n        const baseStyles = {\n            header: `\n        grid-area: header;\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16px;\n        align-items: center;\n      `,\n            main: `\n        grid-area: main;\n        display: grid;\n        gap: 16px;\n        align-content: start;\n      `,\n            sidebar: `\n        grid-area: sidebar;\n        display: flex;\n        flex-direction: column;\n        gap: 16px;\n      `,\n            footer: `\n        grid-area: footer;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      `,\n        };\n        // Adjust main grid for different breakpoints\n        if (bp === 'mobile') {\n            baseStyles.main += `\n        grid-template-columns: 1fr;\n      `;\n        }\n        else {\n            baseStyles.main += `\n        grid-template-columns: repeat(2, 1fr);\n      `;\n        }\n        return baseStyles;\n    }\n}\n\n;// ./src/layouts/layout-engine.ts\n/**\n * Layout engine for Dashview V2.\n * Handles layout selection, widget organization, and overflow management.\n */\n\n\nconst layout_engine_logger = new Logger('LayoutEngine');\nclass LayoutEngine {\n    constructor(config = {}) {\n        this.currentLayout = null;\n        this.config = {\n            maxWidgetsPerArea: config.maxWidgetsPerArea ?? 2,\n            prioritizeByUsage: config.prioritizeByUsage ?? true,\n        };\n        // Initialize available layouts\n        this.layouts = new Map();\n        this.registerLayout('standard', new StandardLayout());\n        // Future layouts can be registered here:\n        // this.registerLayout('compact', new CompactLayout());\n        // this.registerLayout('complex', new ComplexLayout());\n        // this.registerLayout('estate', new EstateLayout());\n    }\n    /**\n     * Register a layout.\n     */\n    registerLayout(name, layout) {\n        this.layouts.set(name, layout);\n        layout_engine_logger.info(`Registered layout: ${name}`);\n    }\n    /**\n     * Select optimal layout based on complexity score.\n     */\n    selectLayout(complexityScore, areaCount) {\n        // For now, we only have StandardLayout\n        // In the future, this will select based on complexity\n        let selectedLayout;\n        let selectedName = '';\n        // Find suitable layout for area count\n        for (const [name, layout] of this.layouts) {\n            if (layout.isSuitableForAreaCount(areaCount)) {\n                selectedLayout = layout;\n                selectedName = name;\n                break;\n            }\n        }\n        // Fallback to standard if no suitable layout found\n        if (!selectedLayout) {\n            selectedLayout = this.layouts.get('standard');\n            selectedName = 'standard';\n            layout_engine_logger.warn(`No suitable layout for ${areaCount} areas, using standard layout`);\n        }\n        this.currentLayout = selectedLayout;\n        layout_engine_logger.info(`Selected ${selectedName} layout for complexity ${complexityScore} and ${areaCount} areas`);\n        return selectedLayout;\n    }\n    /**\n     * Organize widgets based on areas and layout.\n     */\n    organizeWidgets(areas) {\n        const widgets = [];\n        // Sort areas by entity count and priority\n        const sortedAreas = this.sortAreasByPriority(areas);\n        // Create room widgets for each area\n        for (const area of sortedAreas) {\n            if (area.entityCount === 0)\n                continue;\n            const roomWidget = {\n                type: 'room',\n                entities: area.entities,\n                title: area.name,\n            };\n            widgets.push(roomWidget);\n        }\n        // Create device group widgets\n        const deviceGroups = this.createDeviceGroups(areas);\n        widgets.push(...deviceGroups);\n        // Create climate widget if climate entities exist\n        const climateWidget = this.createClimateWidget(areas);\n        if (climateWidget) {\n            widgets.push(climateWidget);\n        }\n        // Create quick controls widget\n        const quickControls = this.createQuickControlsWidget(areas);\n        if (quickControls) {\n            widgets.push(quickControls);\n        }\n        layout_engine_logger.info(`Organized ${widgets.length} widgets from ${areas.length} areas`);\n        return widgets;\n    }\n    /**\n     * Handle widget overflow for current layout.\n     */\n    handleOverflow(widgets, layout, breakpoint) {\n        const areas = layout.getGridAreas(breakpoint);\n        const visible = [];\n        const overflow = [];\n        // Group widgets by type\n        const widgetsByType = new Map();\n        for (const widget of widgets) {\n            if (!widgetsByType.has(widget.type)) {\n                widgetsByType.set(widget.type, []);\n            }\n            widgetsByType.get(widget.type).push(widget);\n        }\n        // Place widgets according to area constraints\n        for (const area of areas) {\n            let remainingSlots = area.maxWidgets || 999;\n            for (const widgetType of area.widgetTypes || []) {\n                const availableWidgets = widgetsByType.get(widgetType) || [];\n                for (const widget of availableWidgets) {\n                    if (remainingSlots > 0 && !visible.includes(widget)) {\n                        visible.push(widget);\n                        remainingSlots--;\n                    }\n                    else if (!visible.includes(widget) && !overflow.includes(widget)) {\n                        overflow.push(widget);\n                    }\n                }\n            }\n        }\n        layout_engine_logger.info(`Layout overflow: ${visible.length} visible, ${overflow.length} overflow`);\n        return { visible, overflow };\n    }\n    /**\n     * Sort areas by priority.\n     */\n    sortAreasByPriority(areas) {\n        return [...areas].sort((a, b) => {\n            // Prioritize named areas over \"unassigned\"\n            if (a.areaId === 'unassigned')\n                return 1;\n            if (b.areaId === 'unassigned')\n                return -1;\n            // Prioritize by entity count\n            if (a.entityCount !== b.entityCount) {\n                return b.entityCount - a.entityCount;\n            }\n            // Then by device count\n            return b.deviceCount - a.deviceCount;\n        });\n    }\n    /**\n     * Create device group widgets.\n     */\n    createDeviceGroups(areas) {\n        const groups = [];\n        const allEntities = [];\n        // Collect all entities\n        for (const area of areas) {\n            allEntities.push(...area.entities);\n        }\n        // Group by domain\n        const entityByDomain = new Map();\n        for (const entityId of allEntities) {\n            const domain = entityId.split('.')[0];\n            if (!entityByDomain.has(domain)) {\n                entityByDomain.set(domain, []);\n            }\n            entityByDomain.get(domain).push(entityId);\n        }\n        // Create groups for specific domains\n        const groupableDomains = ['light', 'switch', 'cover', 'fan'];\n        for (const domain of groupableDomains) {\n            const entities = entityByDomain.get(domain) || [];\n            if (entities.length >= 3) { // Only create group if enough entities\n                groups.push({\n                    type: 'device-group',\n                    entities: entities,\n                    title: `All ${domain}s`,\n                });\n            }\n        }\n        return groups;\n    }\n    /**\n     * Create climate widget.\n     */\n    createClimateWidget(areas) {\n        const climateEntities = [];\n        for (const area of areas) {\n            for (const entityId of area.entities) {\n                if (entityId.startsWith('climate.') ||\n                    entityId.includes('temperature') ||\n                    entityId.includes('humidity')) {\n                    climateEntities.push(entityId);\n                }\n            }\n        }\n        if (climateEntities.length === 0) {\n            return null;\n        }\n        return {\n            type: 'climate',\n            entities: climateEntities,\n            title: 'Climate Control',\n        };\n    }\n    /**\n     * Create quick controls widget.\n     */\n    createQuickControlsWidget(areas) {\n        const quickEntities = [];\n        // Find most important entities (scenes, main lights, etc.)\n        for (const area of areas) {\n            for (const entityId of area.entities) {\n                if (entityId.startsWith('scene.') ||\n                    entityId.includes('main') ||\n                    entityId.includes('all')) {\n                    quickEntities.push(entityId);\n                }\n            }\n        }\n        // Limit to reasonable number\n        const limitedEntities = quickEntities.slice(0, 8);\n        if (limitedEntities.length === 0) {\n            return null;\n        }\n        return {\n            type: 'quick-controls',\n            entities: limitedEntities,\n            title: 'Quick Controls',\n        };\n    }\n    /**\n     * Get current layout.\n     */\n    getCurrentLayout() {\n        return this.currentLayout;\n    }\n    /**\n     * Calculate widget positions for current layout.\n     */\n    calculatePositions(widgets, areaCount) {\n        if (!this.currentLayout) {\n            layout_engine_logger.error('No layout selected');\n            return [];\n        }\n        return this.currentLayout.calculateWidgetPositions(widgets, areaCount);\n    }\n    /**\n     * Update container width and check for breakpoint changes.\n     */\n    updateContainerWidth(width) {\n        if (!this.currentLayout) {\n            return false;\n        }\n        return this.currentLayout.updateContainerWidth(width);\n    }\n}\n\n;// ./src/styles/theme.ts\n\nconst dashviewTheme = (0,lit/* css */.AH) `\n  :host {\n    --dashview-primary-color: var(--primary-color);\n    --dashview-primary-text-color: var(--primary-text-color);\n    --dashview-secondary-text-color: var(--secondary-text-color);\n    --dashview-disabled-text-color: var(--disabled-text-color);\n    --dashview-divider-color: var(--divider-color);\n    --dashview-error-color: var(--error-color);\n    --dashview-success-color: var(--success-color);\n    --dashview-warning-color: var(--warning-color);\n    --dashview-info-color: var(--info-color);\n    --dashview-background: var(--lovelace-background, var(--primary-background-color));\n    --dashview-card-background: var(--card-background-color);\n    --dashview-spacing-xs: 4px;\n    --dashview-spacing-sm: 8px;\n    --dashview-spacing-md: 16px;\n    --dashview-spacing-lg: 24px;\n    --dashview-spacing-xl: 32px;\n    --dashview-border-radius: var(--ha-card-border-radius, 12px);\n    --dashview-box-shadow: var(--ha-card-box-shadow, none);\n  }\n`;\nconst dashviewStyles = (0,lit/* css */.AH) `\n  * {\n    box-sizing: border-box;\n  }\n\n  .dashview-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: var(--dashview-background);\n  }\n\n  .dashview-header {\n    padding: var(--dashview-spacing-lg);\n    background: var(--dashview-card-background);\n    border-bottom: 1px solid var(--dashview-divider-color);\n    box-shadow: var(--dashview-box-shadow);\n  }\n\n  .dashview-content {\n    flex: 1;\n    padding: var(--dashview-spacing-lg);\n    overflow-y: auto;\n  }\n\n  .dashview-card {\n    background: var(--dashview-card-background);\n    border-radius: var(--dashview-border-radius);\n    padding: var(--dashview-spacing-lg);\n    margin-bottom: var(--dashview-spacing-md);\n    box-shadow: var(--dashview-box-shadow);\n  }\n\n  .dashview-loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    color: var(--dashview-secondary-text-color);\n  }\n\n  .dashview-error {\n    color: var(--dashview-error-color);\n    padding: var(--dashview-spacing-md);\n    text-align: center;\n  }\n\n  @media (max-width: 768px) {\n    .dashview-header {\n      padding: var(--dashview-spacing-md);\n    }\n\n    .dashview-content {\n      padding: var(--dashview-spacing-md);\n    }\n  }\n`;\n\n;// ./src/utils/gestures.ts\n/**\n * Touch gesture utilities for Dashview V2.\n * Provides swipe detection, long press handling, and haptic feedback.\n */\nconst DEFAULT_OPTIONS = {\n    swipeThreshold: 50,\n    longPressDelay: 500,\n    velocityThreshold: 0.3,\n    preventScroll: false\n};\nclass GestureHandler {\n    constructor(element, options = {}) {\n        this.startX = 0;\n        this.startY = 0;\n        this.startTime = 0;\n        this.isLongPress = false;\n        this.isSwiping = false;\n        this.element = element;\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n        this.bindEvents();\n    }\n    onSwipeDetected(callback) {\n        this.onSwipe = callback;\n    }\n    onLongPressDetected(callback) {\n        this.onLongPress = callback;\n    }\n    onTapDetected(callback) {\n        this.onTap = callback;\n    }\n    bindEvents() {\n        this.element.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: !this.options.preventScroll });\n        this.element.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: !this.options.preventScroll });\n        this.element.addEventListener('touchend', this.handleTouchEnd.bind(this), { passive: true });\n        this.element.addEventListener('touchcancel', this.handleTouchCancel.bind(this), { passive: true });\n    }\n    handleTouchStart(event) {\n        const touch = event.touches[0];\n        this.startX = touch.clientX;\n        this.startY = touch.clientY;\n        this.startTime = Date.now();\n        this.isLongPress = false;\n        this.isSwiping = false;\n        // Start long press timer\n        if (this.onLongPress) {\n            this.longPressTimeout = window.setTimeout(() => {\n                this.isLongPress = true;\n                this.onLongPress({\n                    element: this.element,\n                    x: this.startX,\n                    y: this.startY\n                });\n                this.triggerHapticFeedback('medium');\n            }, this.options.longPressDelay);\n        }\n    }\n    handleTouchMove(event) {\n        if (this.isLongPress)\n            return;\n        const touch = event.touches[0];\n        const deltaX = Math.abs(touch.clientX - this.startX);\n        const deltaY = Math.abs(touch.clientY - this.startY);\n        // Cancel long press if moving too much\n        if ((deltaX > 10 || deltaY > 10) && this.longPressTimeout) {\n            clearTimeout(this.longPressTimeout);\n            this.longPressTimeout = undefined;\n        }\n        // Detect swipe start\n        if (!this.isSwiping && (deltaX > this.options.swipeThreshold || deltaY > this.options.swipeThreshold)) {\n            this.isSwiping = true;\n            if (this.options.preventScroll) {\n                event.preventDefault();\n            }\n        }\n    }\n    handleTouchEnd(event) {\n        const touch = event.changedTouches[0];\n        const endTime = Date.now();\n        const deltaX = touch.clientX - this.startX;\n        const deltaY = touch.clientY - this.startY;\n        const duration = endTime - this.startTime;\n        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n        // Clear long press timer\n        if (this.longPressTimeout) {\n            clearTimeout(this.longPressTimeout);\n            this.longPressTimeout = undefined;\n        }\n        if (this.isLongPress) {\n            // Long press already handled\n            return;\n        }\n        if (this.isSwiping && distance >= this.options.swipeThreshold) {\n            // Handle swipe\n            const velocity = distance / duration;\n            if (velocity >= this.options.velocityThreshold) {\n                const direction = this.getSwipeDirection(deltaX, deltaY);\n                if (this.onSwipe) {\n                    this.onSwipe({\n                        direction,\n                        distance,\n                        velocity,\n                        element: this.element\n                    });\n                }\n                this.triggerHapticFeedback('light');\n            }\n        }\n        else if (!this.isSwiping && duration < 200) {\n            // Handle tap\n            if (this.onTap) {\n                this.onTap(event);\n            }\n        }\n        this.reset();\n    }\n    handleTouchCancel() {\n        if (this.longPressTimeout) {\n            clearTimeout(this.longPressTimeout);\n            this.longPressTimeout = undefined;\n        }\n        this.reset();\n    }\n    getSwipeDirection(deltaX, deltaY) {\n        const absDeltaX = Math.abs(deltaX);\n        const absDeltaY = Math.abs(deltaY);\n        if (absDeltaX > absDeltaY) {\n            return deltaX > 0 ? 'right' : 'left';\n        }\n        else {\n            return deltaY > 0 ? 'down' : 'up';\n        }\n    }\n    reset() {\n        this.isLongPress = false;\n        this.isSwiping = false;\n    }\n    triggerHapticFeedback(intensity) {\n        if ('vibrate' in navigator) {\n            const patterns = {\n                light: 10,\n                medium: 20,\n                heavy: 50\n            };\n            navigator.vibrate(patterns[intensity]);\n        }\n    }\n    destroy() {\n        if (this.longPressTimeout) {\n            clearTimeout(this.longPressTimeout);\n        }\n        this.element.removeEventListener('touchstart', this.handleTouchStart.bind(this));\n        this.element.removeEventListener('touchmove', this.handleTouchMove.bind(this));\n        this.element.removeEventListener('touchend', this.handleTouchEnd.bind(this));\n        this.element.removeEventListener('touchcancel', this.handleTouchCancel.bind(this));\n    }\n}\n/**\n * Simple swipe detection for elements\n */\nfunction addSwipeListener(element, callback, options) {\n    const handler = new GestureHandler(element, options);\n    handler.onSwipeDetected(callback);\n    return () => handler.destroy();\n}\n/**\n * Simple long press detection for elements\n */\nfunction addLongPressListener(element, callback, options) {\n    const handler = new GestureHandler(element, options);\n    handler.onLongPressDetected(callback);\n    return () => handler.destroy();\n}\n/**\n * Haptic feedback utilities\n */\nclass HapticFeedback {\n    static isSupported() {\n        return 'vibrate' in navigator;\n    }\n    static light() {\n        if (this.isSupported()) {\n            navigator.vibrate(10);\n        }\n    }\n    static medium() {\n        if (this.isSupported()) {\n            navigator.vibrate(20);\n        }\n    }\n    static heavy() {\n        if (this.isSupported()) {\n            navigator.vibrate([50, 50, 50]);\n        }\n    }\n    static success() {\n        if (this.isSupported()) {\n            navigator.vibrate([10, 100, 10]);\n        }\n    }\n    static error() {\n        if (this.isSupported()) {\n            navigator.vibrate([100, 50, 100, 50, 100]);\n        }\n    }\n    static selection() {\n        if (this.isSupported()) {\n            navigator.vibrate(5);\n        }\n    }\n    static custom(pattern) {\n        if (this.isSupported()) {\n            navigator.vibrate(pattern);\n        }\n    }\n}\n/**\n * Touch target size helpers\n */\nconst TouchTarget = {\n    /**\n     * Minimum touch target size (44px) as per WCAG guidelines\n     */\n    MIN_SIZE: 44,\n    /**\n     * Check if an element meets minimum touch target requirements\n     */\n    meetsMinimumSize(element) {\n        const rect = element.getBoundingClientRect();\n        return rect.width >= this.MIN_SIZE && rect.height >= this.MIN_SIZE;\n    },\n    /**\n     * Add touch target padding to an element if needed\n     */\n    ensureMinimumSize(element) {\n        const rect = element.getBoundingClientRect();\n        if (rect.width < this.MIN_SIZE) {\n            const padding = (this.MIN_SIZE - rect.width) / 2;\n            element.style.paddingLeft = `${padding}px`;\n            element.style.paddingRight = `${padding}px`;\n        }\n        if (rect.height < this.MIN_SIZE) {\n            const padding = (this.MIN_SIZE - rect.height) / 2;\n            element.style.paddingTop = `${padding}px`;\n            element.style.paddingBottom = `${padding}px`;\n        }\n    }\n};\n/**\n * Gesture-enabled base class for Lit elements\n */\nclass GestureElement extends (/* unused pure expression or super */ null && (EventTarget)) {\n    enableGestures(element, options) {\n        this.gestureHandler = new GestureHandler(element, options);\n        this.gestureHandler.onSwipeDetected((event) => {\n            this.dispatchEvent(new CustomEvent('gesture-swipe', { detail: event }));\n        });\n        this.gestureHandler.onLongPressDetected((event) => {\n            this.dispatchEvent(new CustomEvent('gesture-longpress', { detail: event }));\n        });\n        this.gestureHandler.onTapDetected((event) => {\n            this.dispatchEvent(new CustomEvent('gesture-tap', { detail: event }));\n        });\n    }\n    disableGestures() {\n        if (this.gestureHandler) {\n            this.gestureHandler.destroy();\n            this.gestureHandler = undefined;\n        }\n    }\n}\n\n;// ./src/styles/animations.ts\n/**\n * Animation constants and utilities for Dashview V2 widgets.\n * Provides consistent timing, easing, and keyframe animations.\n */\n\nconst ANIMATION_DURATION = {\n    fast: '150ms',\n    normal: '250ms',\n    slow: '350ms'\n};\nconst EASING = {\n    standard: 'cubic-bezier(0.4, 0.0, 0.2, 1)',\n    decelerate: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n    accelerate: 'cubic-bezier(0.4, 0.0, 1, 1)',\n    sharp: 'cubic-bezier(0.4, 0.0, 0.6, 1)'\n};\n/**\n * Skeleton loading animation styles\n */\nconst skeletonStyles = (0,lit/* css */.AH) `\n  @keyframes skeleton-loading {\n    0% { background-position: -200% 0; }\n    100% { background-position: 200% 0; }\n  }\n  \n  .skeleton {\n    background: linear-gradient(\n      90deg,\n      var(--card-background-color) 0%,\n      var(--divider-color) 50%,\n      var(--card-background-color) 100%\n    );\n    background-size: 200% 100%;\n    animation: skeleton-loading 1.5s ease-in-out infinite;\n    border-radius: 4px;\n  }\n  \n  .skeleton-text {\n    height: 16px;\n    margin: 4px 0;\n  }\n  \n  .skeleton-text.large {\n    height: 20px;\n  }\n  \n  .skeleton-text.small {\n    height: 12px;\n  }\n  \n  .skeleton-button {\n    height: 36px;\n    width: 100px;\n  }\n  \n  .skeleton-icon {\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n  }\n  \n  .skeleton-card {\n    height: 120px;\n    width: 100%;\n    border-radius: 8px;\n  }\n`;\n/**\n * Smooth expand/collapse animation styles\n */\nconst expandCollapseStyles = (0,lit/* css */.AH) `\n  @keyframes expand {\n    from {\n      max-height: 0;\n      opacity: 0;\n    }\n    to {\n      max-height: 600px;\n      opacity: 1;\n    }\n  }\n  \n  @keyframes collapse {\n    from {\n      max-height: 600px;\n      opacity: 1;\n    }\n    to {\n      max-height: 0;\n      opacity: 0;\n    }\n  }\n  \n  .expand-enter {\n    animation: expand 250ms cubic-bezier(0.0, 0.0, 0.2, 1);\n    overflow: hidden;\n  }\n  \n  .collapse-exit {\n    animation: collapse 250ms cubic-bezier(0.4, 0.0, 1, 1);\n    overflow: hidden;\n  }\n  \n  .content-expandable {\n    overflow: hidden;\n    transition: max-height 250ms cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n  \n  .content-collapsed {\n    max-height: 0;\n  }\n  \n  .content-expanded {\n    max-height: 600px;\n  }\n`;\n/**\n * Touch interaction animations\n */\nconst touchStyles = (0,lit/* css */.AH) `\n  @keyframes touch-feedback {\n    0% { transform: scale(1); }\n    50% { transform: scale(0.95); }\n    100% { transform: scale(1); }\n  }\n  \n  .touch-target {\n    min-height: 44px;\n    min-width: 44px;\n    cursor: pointer;\n    -webkit-tap-highlight-color: transparent;\n    transition: transform 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n  }\n  \n  .touch-target:active {\n    animation: touch-feedback 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n  }\n  \n  .touch-target:hover {\n    background: var(--secondary-background-color);\n  }\n  \n  @media (prefers-reduced-motion: reduce) {\n    .touch-target:active {\n      animation: none;\n      transform: scale(0.98);\n    }\n  }\n`;\n/**\n * Loading spinner animation\n */\nconst spinnerStyles = (0,lit/* css */.AH) `\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n  \n  .spinner {\n    animation: spin 1s linear infinite;\n  }\n  \n  .loading-dots {\n    display: inline-flex;\n    gap: 4px;\n  }\n  \n  .loading-dots::after {\n    content: '';\n    animation: loading-dots 1.5s ease-in-out infinite;\n  }\n  \n  @keyframes loading-dots {\n    0%, 20% { content: ''; }\n    40% { content: '.'; }\n    60% { content: '..'; }\n    80%, 100% { content: '...'; }\n  }\n`;\n/**\n * Fade in/out animations\n */\nconst fadeStyles = (0,lit/* css */.AH) `\n  @keyframes fade-in {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  \n  @keyframes fade-out {\n    from { opacity: 1; }\n    to { opacity: 0; }\n  }\n  \n  .fade-in {\n    animation: fade-in 250ms cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n  \n  .fade-out {\n    animation: fade-out 250ms cubic-bezier(0.4, 0.0, 1, 1);\n  }\n  \n  .fade-transition {\n    transition: opacity 250ms cubic-bezier(0.4, 0.0, 0.2, 1);\n  }\n`;\n/**\n * Slide animations for mobile interactions\n */\nconst slideStyles = (0,lit/* css */.AH) `\n  @keyframes slide-in-right {\n    from { transform: translateX(100%); }\n    to { transform: translateX(0); }\n  }\n  \n  @keyframes slide-in-left {\n    from { transform: translateX(-100%); }\n    to { transform: translateX(0); }\n  }\n  \n  @keyframes slide-out-right {\n    from { transform: translateX(0); }\n    to { transform: translateX(100%); }\n  }\n  \n  @keyframes slide-out-left {\n    from { transform: translateX(0); }\n    to { transform: translateX(-100%); }\n  }\n  \n  .slide-in-right {\n    animation: slide-in-right 250ms cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n  \n  .slide-in-left {\n    animation: slide-in-left 250ms cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n  \n  .slide-out-right {\n    animation: slide-out-right 250ms cubic-bezier(0.4, 0.0, 1, 1);\n  }\n  \n  .slide-out-left {\n    animation: slide-out-left 250ms cubic-bezier(0.4, 0.0, 1, 1);\n  }\n`;\n/**\n * Combined animation styles for easy import\n */\nconst animationStyles = (0,lit/* css */.AH) `\n  ${skeletonStyles}\n  ${expandCollapseStyles}\n  ${touchStyles}\n  ${spinnerStyles}\n  ${fadeStyles}\n  ${slideStyles}\n  \n  /* Respect user's motion preferences */\n  @media (prefers-reduced-motion: reduce) {\n    * {\n      animation-duration: 0.01ms !important;\n      animation-iteration-count: 1 !important;\n      transition-duration: 0.01ms !important;\n    }\n  }\n`;\n\n;// ./src/core/widget-base.ts\n/**\n * Base class for all Dashview widgets.\n * Provides lifecycle management, state handling, and visibility tracking.\n */\nvar _a;\n\n\n\n\n\n\nclass DashviewWidget extends DashviewBaseElement {\n    constructor() {\n        super(...arguments);\n        this.entityStates = new Map();\n        this.isVisible = false;\n        this.isLoading = true;\n        this.error = null;\n        this.stateUnsubscribers = [];\n        this.keyboardHandlers = new Map();\n    }\n    /**\n     * Get the list of entity IDs this widget wants to subscribe to.\n     * Can be overridden by subclasses for dynamic subscriptions.\n     */\n    subscribedEntities() {\n        return this.widgetConfig?.entities || [];\n    }\n    /**\n     * Called when widget configuration is set.\n     * Subclasses should override to validate their specific config.\n     */\n    setConfig(config) {\n        if (!config) {\n            throw new Error('Invalid configuration');\n        }\n        const errors = this.validateConfig(config);\n        if (errors.length > 0) {\n            throw new Error(`Configuration errors: ${errors.join(', ')}`);\n        }\n        this.widgetConfig = config;\n    }\n    /**\n     * Validate widget configuration.\n     * Returns array of error messages, empty if valid.\n     */\n    validateConfig(config) {\n        const errors = [];\n        if (!config.type) {\n            errors.push('Widget type is required');\n        }\n        if (!config.entities || !Array.isArray(config.entities)) {\n            errors.push('Entities must be an array');\n        }\n        return errors;\n    }\n    /**\n     * Called when entity state changes.\n     * Subclasses can override to handle state changes.\n     */\n    onStateChanged(entityId, newState, oldState) {\n        // Default implementation updates the local state map\n        if (newState) {\n            this.entityStates.set(entityId, newState);\n        }\n        else {\n            this.entityStates.delete(entityId);\n        }\n    }\n    /**\n     * Lifecycle: Called when element is added to DOM.\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.setupVisibilityObserver();\n        this.setupKeyboardHandlers();\n    }\n    /**\n     * Lifecycle: Called after first update.\n     */\n    firstUpdated(changedProps) {\n        super.firstUpdated(changedProps);\n        this.initializeWidget();\n    }\n    /**\n     * Lifecycle: Called when element is removed from DOM.\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.cleanup();\n    }\n    /**\n     * Initialize the widget.\n     */\n    async initializeWidget() {\n        try {\n            this.isLoading = true;\n            this.error = null;\n            // Get managers from dashboard context\n            this.stateManager = this.getStateManager();\n            this.subscriptionManager = this.getSubscriptionManager();\n            if (!this.stateManager || !this.subscriptionManager) {\n                throw new Error('State or subscription manager not available');\n            }\n            // Load initial entity states\n            await this.loadInitialStates();\n            // Subscribe to state changes\n            this.subscribeToStateChanges();\n            this.isLoading = false;\n        }\n        catch (error) {\n            this.error = error instanceof Error ? error.message : 'Unknown error';\n            this.isLoading = false;\n            this.handleError(error, 'Widget initialization');\n        }\n    }\n    /**\n     * Get state manager from dashboard context.\n     * This should be provided by the parent dashboard.\n     */\n    getStateManager() {\n        // Try to get from parent dashboard element\n        const dashboard = this.closest('dashview-dashboard');\n        return dashboard?.stateManager;\n    }\n    /**\n     * Get subscription manager from dashboard context.\n     */\n    getSubscriptionManager() {\n        const dashboard = this.closest('dashview-dashboard');\n        return dashboard?.subscriptionManager;\n    }\n    /**\n     * Load initial states for all entities.\n     */\n    async loadInitialStates() {\n        const entities = this.subscribedEntities();\n        for (const entityId of entities) {\n            const state = this.hass.states[entityId];\n            if (state) {\n                this.entityStates.set(entityId, state);\n            }\n        }\n    }\n    /**\n     * Subscribe to state changes for our entities.\n     */\n    subscribeToStateChanges() {\n        if (!this.stateManager)\n            return;\n        const entities = this.subscribedEntities();\n        for (const entityId of entities) {\n            const unsubscribe = this.stateManager.subscribeToEntity(entityId, (diff) => {\n                this.onStateChanged(diff.entityId, diff.newState, diff.oldState);\n            });\n            this.stateUnsubscribers.push(unsubscribe);\n        }\n    }\n    /**\n     * Setup intersection observer for visibility tracking.\n     */\n    setupVisibilityObserver() {\n        this.intersectionObserver = new IntersectionObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.target === this) {\n                    this.handleVisibilityChange(entry.isIntersecting);\n                }\n            }\n        }, {\n            root: null,\n            rootMargin: '50px', // Start loading slightly before visible\n            threshold: 0.01,\n        });\n        this.intersectionObserver.observe(this);\n    }\n    /**\n     * Handle visibility changes.\n     */\n    handleVisibilityChange(isVisible) {\n        if (this.isVisible === isVisible)\n            return;\n        this.isVisible = isVisible;\n        if (isVisible) {\n            this.onBecameVisible();\n        }\n        else {\n            this.onBecameHidden();\n        }\n        // Update subscriptions based on visibility\n        this.updateSubscriptions();\n    }\n    /**\n     * Called when widget becomes visible.\n     * Subclasses can override for custom behavior.\n     */\n    onBecameVisible() {\n        // Default: no action\n    }\n    /**\n     * Called when widget becomes hidden.\n     * Subclasses can override for custom behavior.\n     */\n    onBecameHidden() {\n        // Default: no action\n    }\n    /**\n     * Update subscriptions based on current visibility.\n     */\n    updateSubscriptions() {\n        if (!this.subscriptionManager)\n            return;\n        const entities = this.subscribedEntities();\n        if (this.isVisible) {\n            // Widget is visible, ensure we're subscribed\n            const visibleEntities = this.subscriptionManager.getVisibleEntities();\n            const allVisible = new Set([...visibleEntities, ...entities]);\n            this.subscriptionManager.updateVisibleEntities(Array.from(allVisible));\n        }\n        else {\n            // Widget is hidden, we could unsubscribe\n            // But this is handled globally by the dashboard\n        }\n    }\n    /**\n     * Clean up resources.\n     */\n    cleanup() {\n        // Unsubscribe from state changes\n        for (const unsubscribe of this.stateUnsubscribers) {\n            unsubscribe();\n        }\n        this.stateUnsubscribers = [];\n        // Clean up intersection observer\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n            this.intersectionObserver = undefined;\n        }\n        // Clean up keyboard handlers\n        this.removeKeyboardHandlers();\n        // Cancel any pending animation frames\n        if (this.animationFrameId) {\n            cancelAnimationFrame(this.animationFrameId);\n        }\n        // Clear state\n        this.entityStates.clear();\n    }\n    /**\n     * Helper to call Home Assistant service.\n     */\n    async callService(domain, service, data) {\n        try {\n            await this.hass.callService(domain, service, data);\n        }\n        catch (error) {\n            this.handleError(error, `Service call ${domain}.${service}`);\n            throw error;\n        }\n    }\n    /**\n     * Helper to toggle an entity.\n     */\n    async toggleEntity(entityId) {\n        const domain = entityId.split('.')[0];\n        await this.callService(domain, 'toggle', { entity_id: entityId });\n    }\n    /**\n     * Helper to turn on an entity.\n     */\n    async turnOn(entityId, data) {\n        const domain = entityId.split('.')[0];\n        await this.callService(domain, 'turn_on', { entity_id: entityId, ...data });\n    }\n    /**\n     * Helper to turn off an entity.\n     */\n    async turnOff(entityId) {\n        const domain = entityId.split('.')[0];\n        await this.callService(domain, 'turn_off', { entity_id: entityId });\n    }\n    /**\n     * Trigger haptic feedback with the specified intensity.\n     */\n    triggerHapticFeedback(intensity) {\n        HapticFeedback[intensity]();\n    }\n    /**\n     * Animate an element with the specified animation.\n     */\n    animateElement(element, animation, duration) {\n        return new Promise((resolve) => {\n            const animationDuration = duration || ANIMATION_DURATION.normal;\n            element.style.animation = `${animation} ${animationDuration} ${EASING.standard}`;\n            const handleAnimationEnd = () => {\n                element.style.animation = '';\n                element.removeEventListener('animationend', handleAnimationEnd);\n                resolve();\n            };\n            element.addEventListener('animationend', handleAnimationEnd);\n        });\n    }\n    /**\n     * Focus management helper.\n     */\n    focusElement(element, options) {\n        element.focus(options);\n    }\n    /**\n     * Set up keyboard event handlers for accessibility.\n     */\n    setupKeyboardHandlers() {\n        // Default keyboard handlers\n        this.addKeyboardHandler('Escape', this.handleEscapeKey.bind(this));\n        this.addKeyboardHandler('Tab', this.handleTabKey.bind(this));\n        this.addEventListener('keydown', this.handleKeydown.bind(this));\n    }\n    /**\n     * Remove keyboard event handlers.\n     */\n    removeKeyboardHandlers() {\n        this.keyboardHandlers.clear();\n        this.removeEventListener('keydown', this.handleKeydown.bind(this));\n    }\n    /**\n     * Add a keyboard event handler.\n     */\n    addKeyboardHandler(key, handler) {\n        this.keyboardHandlers.set(key, handler);\n    }\n    /**\n     * Handle keyboard events.\n     */\n    handleKeydown(event) {\n        const handler = this.keyboardHandlers.get(event.key);\n        if (handler) {\n            handler(event);\n        }\n    }\n    /**\n     * Handle Escape key (default: blur active element).\n     */\n    handleEscapeKey(_event) {\n        const activeElement = this.shadowRoot?.activeElement;\n        if (activeElement) {\n            activeElement.blur();\n        }\n    }\n    /**\n     * Handle Tab key for focus management.\n     */\n    handleTabKey(_event) {\n        // Default behavior - could be overridden by subclasses\n    }\n    /**\n     * Get all focusable elements within the widget.\n     */\n    getFocusableElements() {\n        const focusableSelectors = [\n            'button:not([disabled])',\n            'input:not([disabled])',\n            'select:not([disabled])',\n            'textarea:not([disabled])',\n            'a[href]',\n            '[tabindex]:not([tabindex=\"-1\"])',\n            'ha-icon-button:not([disabled])',\n            'mwc-button:not([disabled])',\n            'ha-switch:not([disabled])'\n        ].join(', ');\n        const elements = this.shadowRoot?.querySelectorAll(focusableSelectors) || [];\n        return Array.from(elements);\n    }\n}\n/**\n * Base styles for all widgets.\n */\nDashviewWidget.styles = (0,lit/* css */.AH) `\n    :host {\n      display: block;\n      position: relative;\n    }\n\n    .widget-container {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .widget-loading {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      color: var(--primary-text-color);\n    }\n\n    .widget-error {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      color: var(--error-color, #f44336);\n      padding: 16px;\n      text-align: center;\n    }\n  `;\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: Object }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewWidget.prototype, \"widgetConfig\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", typeof (_a = typeof Map !== \"undefined\" && Map) === \"function\" ? _a : Object)\n], DashviewWidget.prototype, \"entityStates\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewWidget.prototype, \"isVisible\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewWidget.prototype, \"isLoading\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewWidget.prototype, \"error\", void 0);\n\n;// ./src/utils/icons.ts\n/**\n * Entity type to icon mapping utility.\n * Maps entity types and domains to Material Design Icons.\n */\nconst ENTITY_ICONS = {\n    // Lights\n    'light': 'mdi:lightbulb',\n    'light.ceiling': 'mdi:ceiling-light',\n    'light.floor': 'mdi:floor-lamp',\n    'light.desk': 'mdi:desk-lamp',\n    'light.strip': 'mdi:led-strip-variant',\n    'light.spot': 'mdi:spotlight-beam',\n    // Climate\n    'climate': 'mdi:thermostat',\n    'temperature': 'mdi:thermometer',\n    'humidity': 'mdi:water-percent',\n    'air_quality': 'mdi:air-filter',\n    // Security\n    'lock': 'mdi:lock',\n    'door': 'mdi:door',\n    'window': 'mdi:window-closed',\n    'motion': 'mdi:motion-sensor',\n    'presence': 'mdi:home-account',\n    'camera': 'mdi:cctv',\n    'alarm': 'mdi:shield-home',\n    // Media\n    'media_player': 'mdi:television',\n    'speaker': 'mdi:speaker',\n    'remote': 'mdi:remote',\n    // Switches & Controls\n    'switch': 'mdi:light-switch',\n    'fan': 'mdi:fan',\n    'cover': 'mdi:window-shutter',\n    'blind': 'mdi:blinds',\n    'curtain': 'mdi:curtains',\n    // Sensors\n    'sensor': 'mdi:eye',\n    'binary_sensor': 'mdi:radiobox-marked',\n    'battery': 'mdi:battery',\n    'power': 'mdi:flash',\n    'energy': 'mdi:lightning-bolt',\n    // Other devices\n    'vacuum': 'mdi:robot-vacuum',\n    'person': 'mdi:account',\n    'device_tracker': 'mdi:cellphone',\n    'sun': 'mdi:weather-sunny',\n    'weather': 'mdi:weather-partly-cloudy',\n    // Default\n    'default': 'mdi:home-assistant'\n};\nfunction getEntityIcon(entityId, state) {\n    // Check custom icon first\n    if (state?.attributes?.icon) {\n        return state.attributes.icon;\n    }\n    // Check device class for more specific icons\n    const deviceClass = state?.attributes?.device_class;\n    if (deviceClass && ENTITY_ICONS[deviceClass]) {\n        return ENTITY_ICONS[deviceClass];\n    }\n    // Match by entity ID patterns\n    for (const [pattern, icon] of Object.entries(ENTITY_ICONS)) {\n        if (entityId.includes(pattern)) {\n            return icon;\n        }\n    }\n    // Domain fallback\n    const domain = entityId.split('.')[0];\n    return ENTITY_ICONS[domain] || ENTITY_ICONS.default;\n}\n/**\n * Get icon color based on entity state and domain.\n */\nfunction getEntityIconColor(entityId, state) {\n    const domain = entityId.split('.')[0];\n    const isOn = state?.state === 'on';\n    const isActive = ['playing', 'open', 'unlocked', 'home', 'detected'].includes(state?.state);\n    const isUnavailable = state?.state === 'unavailable';\n    if (isUnavailable) {\n        return 'var(--disabled-text-color)';\n    }\n    // Domain-specific colors when active\n    if (isOn || isActive) {\n        switch (domain) {\n            case 'light':\n                return state?.attributes?.rgb_color\n                    ? `rgb(${state.attributes.rgb_color.join(',')})`\n                    : 'var(--primary-color)';\n            case 'climate':\n                const mode = state?.state;\n                if (mode === 'heat')\n                    return '#ff6b00';\n                if (mode === 'cool')\n                    return '#0288d1';\n                if (mode === 'heat_cool' || mode === 'auto')\n                    return '#388e3c';\n                return 'var(--primary-color)';\n            case 'lock':\n                return state?.state === 'locked' ? '#4caf50' : '#f44336';\n            case 'alarm_control_panel':\n                if (state?.state === 'armed_away')\n                    return '#f44336';\n                if (state?.state === 'armed_home')\n                    return '#ff9800';\n                if (state?.state === 'disarmed')\n                    return '#4caf50';\n                return 'var(--primary-color)';\n            default:\n                return 'var(--primary-color)';\n        }\n    }\n    return 'var(--secondary-text-color)';\n}\n/**\n * Get a mini icon for entity summaries.\n */\nfunction getMiniIcon(entityType) {\n    const miniIcons = {\n        'lights': 'mdi:lightbulb',\n        'temperature': 'mdi:thermometer',\n        'humidity': 'mdi:water-percent',\n        'motion': 'mdi:motion-sensor',\n        'doors': 'mdi:door',\n        'windows': 'mdi:window-closed',\n        'media': 'mdi:television',\n        'climate': 'mdi:thermostat'\n    };\n    return miniIcons[entityType] || 'mdi:circle';\n}\n\n;// ./src/widgets/room-widget.ts\n/**\n * Room widget for Dashview V2.\n * Displays all entities in a room with summary and controls.\n */\nvar room_widget_a, _b;\n\n\n\n\n\n\nlet RoomWidget = class RoomWidget extends DashviewWidget {\n    constructor() {\n        super(...arguments);\n        this.expanded = false;\n        this.lightCount = 0;\n        this.lightsOn = 0;\n        this.groupedEntities = {};\n    }\n    subscribedEntities() {\n        // Subscribe to all entities when expanded, or just key entities when collapsed\n        if (this.expanded || this.entityStates.size < 10) {\n            return this.widgetConfig?.entities || [];\n        }\n        // When collapsed with many entities, only subscribe to key entities\n        const entities = this.widgetConfig?.entities || [];\n        return entities.filter(id => id.includes('motion') ||\n            id.includes('door') ||\n            id.includes('presence') ||\n            id.includes('temperature') ||\n            id.includes('humidity') ||\n            id.startsWith('light.'));\n    }\n    getDefaultConfig() {\n        return {\n            type: 'room',\n            entities: [],\n            showEmpty: false,\n        };\n    }\n    firstUpdated(changedProps) {\n        super.firstUpdated(changedProps);\n        this.updateSummary();\n    }\n    onStateChanged(entityId, newState, oldState) {\n        super.onStateChanged(entityId, newState, oldState);\n        this.updateSummary();\n    }\n    updateSummary() {\n        let lightCount = 0;\n        let lightsOn = 0;\n        let temperature;\n        let humidity;\n        let lastMotion;\n        // Group entities by type for better organization\n        this.groupedEntities = this.groupEntitiesByType();\n        for (const [entityId, state] of this.entityStates) {\n            if (entityId.startsWith('light.')) {\n                lightCount++;\n                if (state.state === 'on') {\n                    lightsOn++;\n                }\n            }\n            else if (entityId.includes('temperature') && state.state !== 'unavailable') {\n                const temp = parseFloat(state.state);\n                if (!isNaN(temp)) {\n                    temperature = temp;\n                }\n            }\n            else if (entityId.includes('humidity') && state.state !== 'unavailable') {\n                const hum = parseFloat(state.state);\n                if (!isNaN(hum)) {\n                    humidity = hum;\n                }\n            }\n            else if (entityId.includes('motion') || entityId.includes('presence')) {\n                if (state.state === 'on' && state.last_changed) {\n                    const motionTime = new Date(state.last_changed);\n                    if (!lastMotion || motionTime > lastMotion) {\n                        lastMotion = motionTime;\n                    }\n                }\n            }\n        }\n        this.lightCount = lightCount;\n        this.lightsOn = lightsOn;\n        this.temperature = temperature;\n        this.humidity = humidity;\n        this.lastMotion = lastMotion;\n    }\n    render() {\n        const roomName = this.areaName || this.widgetConfig?.title || 'Unknown Room';\n        if (this.isLoading) {\n            return this.renderSkeleton();\n        }\n        if (this.error) {\n            return (0,lit/* html */.qy) `\n        <div class=\"widget-error\">\n          ${this.error}\n        </div>\n      `;\n        }\n        return (0,lit/* html */.qy) `\n      <ha-card role=\"region\" aria-label=\"${roomName} room controls\">\n        <div class=\"header touch-target\" @click=${this.toggleExpanded} @keydown=${this.handleHeaderKeydown}>\n          <h2>${roomName}</h2>\n          <div class=\"summary\">\n            ${this.renderSummary()}\n          </div>\n          <ha-icon\n            class=\"expand-icon ${this.expanded ? 'expanded' : ''}\"\n            icon=\"mdi:chevron-down\"\n            aria-label=\"${this.expanded ? 'Collapse' : 'Expand'} room details\"\n          ></ha-icon>\n        </div>\n        \n        <div class=\"content ${this.expanded ? 'expanded' : 'collapsed'}\">\n          ${this.renderExpanded()}\n        </div>\n        \n        <div class=\"actions\">\n          ${this.lightCount > 0 ? (0,lit/* html */.qy) `\n            <mwc-button @click=${this.turnAllLightsOff} aria-label=\"Turn all lights off\">\n              <ha-icon icon=\"mdi:lightbulb-off\"></ha-icon>\n              All Off\n            </mwc-button>\n          ` : ''}\n        </div>\n      </ha-card>\n    `;\n    }\n    renderSummary() {\n        const summary = [];\n        // Light status\n        if (this.lightCount > 0) {\n            summary.push((0,lit/* html */.qy) `\n        <span class=\"summary-item\">\n          <ha-icon icon=\"mdi:lightbulb\"></ha-icon>\n          ${this.lightsOn}/${this.lightCount}\n        </span>\n      `);\n        }\n        // Temperature\n        if (this.temperature !== undefined) {\n            summary.push((0,lit/* html */.qy) `\n        <span class=\"summary-item\">\n          <ha-icon icon=\"mdi:thermometer\"></ha-icon>\n          ${this.temperature.toFixed(1)}\n        </span>\n      `);\n        }\n        // Humidity\n        if (this.humidity !== undefined) {\n            summary.push((0,lit/* html */.qy) `\n        <span class=\"summary-item\">\n          <ha-icon icon=\"mdi:water-percent\"></ha-icon>\n          ${this.humidity.toFixed(0)}%\n        </span>\n      `);\n        }\n        // Last motion\n        if (this.lastMotion) {\n            const minutesAgo = Math.floor((Date.now() - this.lastMotion.getTime()) / 60000);\n            const timeStr = minutesAgo < 1 ? 'now' :\n                minutesAgo < 60 ? `${minutesAgo}m ago` :\n                    `${Math.floor(minutesAgo / 60)}h ago`;\n            summary.push((0,lit/* html */.qy) `\n        <span class=\"summary-item\">\n          <ha-icon icon=\"mdi:motion-sensor\"></ha-icon>\n          ${timeStr}\n        </span>\n      `);\n        }\n        return summary;\n    }\n    renderExpanded() {\n        return (0,lit/* html */.qy) `\n      <div class=\"entity-list\">\n        ${Object.entries(this.groupedEntities).map(([type, entities]) => this.renderEntityGroup(type, entities))}\n      </div>\n    `;\n    }\n    renderEntity(entityId) {\n        const state = this.entityStates.get(entityId);\n        if (!state)\n            return (0,lit/* html */.qy) ``;\n        const name = state.attributes.friendly_name || entityId;\n        const domain = entityId.split('.')[0];\n        const isToggleable = ['light', 'switch', 'fan', 'input_boolean'].includes(domain);\n        const icon = getEntityIcon(entityId, state);\n        const iconColor = getEntityIconColor(entityId, state);\n        return (0,lit/* html */.qy) `\n      <div class=\"entity-item touch-target\" @click=${isToggleable ? () => this.toggleEntity(entityId) : undefined}>\n        <ha-icon \n          class=\"entity-icon ${state.state} ${state.state === 'unavailable' ? 'unavailable' : ''}\"\n          icon=\"${icon}\"\n          style=\"color: ${iconColor}\"\n        ></ha-icon>\n        <span class=\"entity-name\">${name}</span>\n        <div class=\"entity-controls\">\n          ${isToggleable ? (0,lit/* html */.qy) `\n            <ha-switch\n              .checked=${state.state === 'on'}\n              @change=${(e) => {\n            e.stopPropagation();\n            this.toggleEntity(entityId);\n        }}\n              aria-label=\"Toggle ${name}\"\n            ></ha-switch>\n          ` : (0,lit/* html */.qy) `\n            <span class=\"entity-state\">${state.state}</span>\n          `}\n        </div>\n      </div>\n    `;\n    }\n    getSortedEntities() {\n        const entities = Array.from(this.entityStates.keys());\n        // Sort by domain priority, then by name\n        const domainPriority = {\n            'light': 1,\n            'switch': 2,\n            'fan': 3,\n            'climate': 4,\n            'cover': 5,\n            'sensor': 6,\n            'binary_sensor': 7,\n        };\n        return entities.sort((a, b) => {\n            const domainA = a.split('.')[0];\n            const domainB = b.split('.')[0];\n            const priorityA = domainPriority[domainA] || 999;\n            const priorityB = domainPriority[domainB] || 999;\n            if (priorityA !== priorityB) {\n                return priorityA - priorityB;\n            }\n            return a.localeCompare(b);\n        });\n    }\n    toggleExpanded() {\n        this.expanded = !this.expanded;\n        // Update subscriptions when expanding/collapsing\n        if (this.expanded) {\n            this.updateSubscriptions();\n        }\n    }\n    handleHeaderKeydown(event) {\n        if (event.key === 'Enter' || event.key === ' ') {\n            event.preventDefault();\n            this.toggleExpanded();\n        }\n    }\n    groupEntitiesByType() {\n        const groups = {};\n        for (const entityId of this.entityStates.keys()) {\n            const domain = entityId.split('.')[0];\n            // Group by domain with friendly names\n            const groupName = this.getDomainGroupName(domain);\n            if (!groups[groupName]) {\n                groups[groupName] = [];\n            }\n            groups[groupName].push(entityId);\n        }\n        // Sort entities within each group\n        for (const [groupName, entities] of Object.entries(groups)) {\n            groups[groupName] = entities.sort((a, b) => {\n                const stateA = this.entityStates.get(a);\n                const stateB = this.entityStates.get(b);\n                const nameA = stateA?.attributes?.friendly_name || a;\n                const nameB = stateB?.attributes?.friendly_name || b;\n                return nameA.localeCompare(nameB);\n            });\n        }\n        return groups;\n    }\n    getDomainGroupName(domain) {\n        const domainNames = {\n            'light': 'Lights',\n            'switch': 'Switches',\n            'fan': 'Fans',\n            'climate': 'Climate',\n            'cover': 'Covers',\n            'lock': 'Locks',\n            'sensor': 'Sensors',\n            'binary_sensor': 'Binary Sensors',\n            'media_player': 'Media',\n            'camera': 'Cameras',\n            'alarm_control_panel': 'Security'\n        };\n        return domainNames[domain] || domain.charAt(0).toUpperCase() + domain.slice(1);\n    }\n    renderEntityGroup(type, entities) {\n        if (entities.length === 0)\n            return (0,lit/* html */.qy) ``;\n        const typeIcons = {\n            'Lights': 'mdi:lightbulb',\n            'Switches': 'mdi:light-switch',\n            'Sensors': 'mdi:eye',\n            'Climate': 'mdi:thermostat',\n            'Media': 'mdi:television',\n            'Covers': 'mdi:window-shutter',\n            'Locks': 'mdi:lock',\n            'Fans': 'mdi:fan',\n            'Cameras': 'mdi:cctv',\n            'Security': 'mdi:shield-home'\n        };\n        return (0,lit/* html */.qy) `\n      <div class=\"entity-group\">\n        <div class=\"entity-group-header\">\n          <ha-icon icon=${typeIcons[type] || 'mdi:home'}></ha-icon>\n          <span>${type}</span>\n          <span class=\"count\">(${entities.length})</span>\n        </div>\n        ${entities.map(entity => this.renderEntity(entity))}\n      </div>\n    `;\n    }\n    renderSkeleton() {\n        return (0,lit/* html */.qy) `\n      <ha-card>\n        <div class=\"header\">\n          <div class=\"skeleton skeleton-text large\" style=\"width: 120px;\"></div>\n          <div class=\"summary\">\n            <div class=\"skeleton skeleton-text\" style=\"width: 40px;\"></div>\n            <div class=\"skeleton skeleton-text\" style=\"width: 50px;\"></div>\n            <div class=\"skeleton skeleton-text\" style=\"width: 45px;\"></div>\n          </div>\n          <div class=\"skeleton skeleton-icon\"></div>\n        </div>\n      </ha-card>\n    `;\n    }\n    async turnAllLightsOff() {\n        const lights = Array.from(this.entityStates.keys()).filter(id => id.startsWith('light.') && this.entityStates.get(id)?.state === 'on');\n        for (const light of lights) {\n            await this.turnOff(light);\n        }\n    }\n};\nRoomWidget.styles = (0,lit/* css */.AH) `\n    ${DashviewWidget.styles}\n    ${skeletonStyles}\n    ${touchStyles}\n      ha-card {\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n\n      .header {\n        padding: 16px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        border-radius: 8px;\n        -webkit-tap-highlight-color: transparent;\n        transition: background 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n      }\n\n      .header:hover {\n        background: var(--secondary-background-color);\n      }\n\n      .header:focus {\n        outline: 2px solid var(--primary-color);\n        outline-offset: 2px;\n      }\n\n      .header h2 {\n        margin: 0;\n        font-size: 1.2em;\n        font-weight: 500;\n        flex: 1;\n      }\n\n      .summary {\n        display: flex;\n        gap: 16px;\n        align-items: center;\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n      }\n\n      .summary-item {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n      }\n\n      .summary-item ha-icon {\n        --mdc-icon-size: 16px;\n      }\n\n      .expand-icon {\n        transition: transform 250ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        --mdc-icon-size: 24px;\n      }\n\n      .expand-icon.expanded {\n        transform: rotate(180deg);\n      }\n\n      /* Enhanced content with smooth animations */\n      .content {\n        overflow: hidden;\n        transition: max-height 250ms cubic-bezier(0.0, 0.0, 0.2, 1);\n      }\n\n      .content.collapsed {\n        max-height: 0;\n      }\n\n      .content.expanded {\n        max-height: 600px;\n      }\n\n      .entity-list {\n        display: flex;\n        flex-direction: column;\n        gap: 2px;\n        max-height: 400px;\n        overflow-y: auto;\n        scrollbar-width: thin;\n        padding: 0 16px 16px;\n      }\n\n      .entity-group {\n        margin-bottom: 16px;\n      }\n\n      .entity-group:last-child {\n        margin-bottom: 0;\n      }\n\n      .entity-group-header {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px 0;\n        font-weight: 500;\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n        border-bottom: 1px solid var(--divider-color);\n        margin-bottom: 8px;\n      }\n\n      .entity-group-header ha-icon {\n        --mdc-icon-size: 18px;\n      }\n\n      .count {\n        opacity: 0.7;\n        font-size: 0.85em;\n      }\n\n      .entity-item {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        padding: 12px;\n        border-radius: 8px;\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        min-height: 44px;\n        cursor: pointer;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      .entity-item:hover {\n        background: var(--secondary-background-color);\n      }\n\n      .entity-item:active {\n        transform: scale(0.98);\n      }\n\n      .entity-icon {\n        --mdc-icon-size: 24px;\n        transition: color 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        flex-shrink: 0;\n      }\n\n      .entity-icon.unavailable {\n        color: var(--disabled-text-color);\n      }\n\n      .entity-name {\n        flex: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        font-size: 0.95em;\n      }\n\n      .entity-controls {\n        display: flex;\n        align-items: center;\n        flex-shrink: 0;\n      }\n\n      .entity-state {\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n        text-align: right;\n        min-width: 60px;\n      }\n\n      .actions {\n        padding: 8px 16px;\n        border-top: 1px solid var(--divider-color);\n        display: flex;\n        justify-content: flex-end;\n        gap: 8px;\n      }\n\n      .actions:empty {\n        display: none;\n      }\n\n      mwc-button {\n        --mdc-theme-primary: var(--primary-color);\n        min-height: 44px;\n      }\n\n      mwc-button ha-icon {\n        margin-right: 4px;\n      }\n\n      /* Mobile optimizations */\n      @media (max-width: 768px) {\n        .header {\n          padding: 12px;\n        }\n\n        .summary {\n          gap: 12px;\n          font-size: 0.85em;\n        }\n\n        .entity-item {\n          padding: 10px 12px;\n        }\n\n        .entity-name {\n          font-size: 0.9em;\n        }\n      }\n\n      /* Accessibility enhancements */\n      @media (prefers-reduced-motion: reduce) {\n        .header,\n        .expand-icon,\n        .entity-item,\n        .entity-icon,\n        .content {\n          transition: none;\n        }\n\n        .entity-item:active {\n          transform: none;\n        }\n      }\n\n      /* Focus indicators */\n      .entity-item:focus,\n      ha-switch:focus {\n        outline: 2px solid var(--primary-color);\n        outline-offset: 2px;\n      }\n    `;\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: String }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], RoomWidget.prototype, \"areaId\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: String }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], RoomWidget.prototype, \"areaName\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], RoomWidget.prototype, \"expanded\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], RoomWidget.prototype, \"lightCount\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], RoomWidget.prototype, \"lightsOn\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], RoomWidget.prototype, \"temperature\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], RoomWidget.prototype, \"humidity\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", typeof (room_widget_a = typeof Date !== \"undefined\" && Date) === \"function\" ? room_widget_a : Object)\n], RoomWidget.prototype, \"lastMotion\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", typeof (_b = typeof Record !== \"undefined\" && Record) === \"function\" ? _b : Object)\n], RoomWidget.prototype, \"groupedEntities\", void 0);\nRoomWidget = (0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* customElement */.EM)('dashview-room-widget')\n], RoomWidget);\n\n\n;// ./src/widgets/device-group-widget.ts\n/**\n * Device group widget for Dashview V2.\n * Groups and displays devices by type (switches, sensors, etc).\n */\n\n\n\n\nlet DeviceGroupWidget = class DeviceGroupWidget extends DashviewWidget {\n    constructor() {\n        super(...arguments);\n        this.deviceType = 'switch';\n        this.expanded = false;\n        this.groupedEntities = [];\n        this.onlineCount = 0;\n        this.activeCount = 0;\n    }\n    subscribedEntities() {\n        // Subscribe to all entities when expanded, or just active ones when collapsed\n        const entities = this.widgetConfig?.entities || [];\n        if (this.expanded) {\n            return entities;\n        }\n        // When collapsed, only subscribe to active entities\n        return entities.filter(id => {\n            const state = this.entityStates.get(id);\n            return state && state.state !== 'unavailable' && state.state !== 'unknown';\n        });\n    }\n    getDefaultConfig() {\n        return {\n            type: 'device-group',\n            deviceType: 'switch',\n            entities: [],\n            showOffline: false,\n            showGroupControls: true,\n        };\n    }\n    firstUpdated(changedProps) {\n        super.firstUpdated(changedProps);\n        this.updateGroupedEntities();\n    }\n    onStateChanged(entityId, newState, oldState) {\n        super.onStateChanged(entityId, newState, oldState);\n        this.updateGroupedEntities();\n    }\n    updateGroupedEntities() {\n        const grouped = [];\n        let onlineCount = 0;\n        let activeCount = 0;\n        for (const [entityId, state] of this.entityStates) {\n            const isOnline = state.state !== 'unavailable' && state.state !== 'unknown';\n            const isToggleable = this.isToggleableEntity(entityId);\n            const isActive = isToggleable ? state.state === 'on' : isOnline;\n            if (isOnline)\n                onlineCount++;\n            if (isActive)\n                activeCount++;\n            grouped.push({\n                entityId,\n                name: state.attributes.friendly_name || entityId.split('.')[1].replace(/_/g, ' '),\n                state: state.state,\n                icon: state.attributes.icon || this.getDefaultIcon(entityId),\n                lastChanged: state.last_changed ? new Date(state.last_changed) : undefined,\n                isToggleable,\n                isOnline,\n            });\n        }\n        // Sort by online status, then by state, then by name\n        grouped.sort((a, b) => {\n            if (a.isOnline !== b.isOnline)\n                return b.isOnline ? 1 : -1;\n            if (a.state !== b.state) {\n                if (a.state === 'on')\n                    return -1;\n                if (b.state === 'on')\n                    return 1;\n            }\n            return a.name.localeCompare(b.name);\n        });\n        this.groupedEntities = grouped;\n        this.onlineCount = onlineCount;\n        this.activeCount = activeCount;\n    }\n    isToggleableEntity(entityId) {\n        const domain = entityId.split('.')[0];\n        return ['switch', 'light', 'fan', 'input_boolean', 'cover'].includes(domain);\n    }\n    getDefaultIcon(entityId) {\n        const domain = entityId.split('.')[0];\n        const iconMap = {\n            'switch': 'mdi:toggle-switch',\n            'sensor': 'mdi:eye',\n            'binary_sensor': 'mdi:radiobox-blank',\n            'cover': 'mdi:window-shutter',\n            'fan': 'mdi:fan',\n            'light': 'mdi:lightbulb',\n        };\n        return iconMap[domain] || 'mdi:devices';\n    }\n    render() {\n        const title = this.groupName ||\n            this.widgetConfig?.title ||\n            `${this.deviceType.charAt(0).toUpperCase() + this.deviceType.slice(1)}s`;\n        if (this.isLoading) {\n            return (0,lit/* html */.qy) `\n        <div class=\"widget-loading\">\n          Loading devices...\n        </div>\n      `;\n        }\n        if (this.error) {\n            return (0,lit/* html */.qy) `\n        <div class=\"widget-error\">\n          ${this.error}\n        </div>\n      `;\n        }\n        const config = this.widgetConfig;\n        const showOffline = config?.showOffline ?? false;\n        const filteredEntities = showOffline ?\n            this.groupedEntities :\n            this.groupedEntities.filter(e => e.isOnline);\n        return (0,lit/* html */.qy) `\n      <ha-card>\n        <div class=\"header\" @click=${this.toggleExpanded}>\n          <div class=\"header-content\">\n            <h2>${title}</h2>\n            <div class=\"device-count\">\n              ${this.activeCount}/${this.onlineCount}\n            </div>\n          </div>\n          <ha-icon\n            class=\"expand-icon ${this.expanded ? 'expanded' : ''}\"\n            icon=\"mdi:chevron-down\"\n          ></ha-icon>\n        </div>\n\n        ${this.expanded ? (0,lit/* html */.qy) `\n          <div class=\"entities\">\n            ${filteredEntities.length === 0 ? (0,lit/* html */.qy) `\n              <div class=\"empty-state\">\n                No ${showOffline ? '' : 'online'} devices found\n              </div>\n            ` : filteredEntities.map(entity => this.renderEntity(entity))}\n          </div>\n        ` : ''}\n\n        ${this.renderActions()}\n      </ha-card>\n    `;\n    }\n    renderEntity(entity) {\n        const stateDisplay = this.getStateDisplay(entity);\n        const stateClass = entity.isOnline ? '' : 'offline';\n        return (0,lit/* html */.qy) `\n      <div class=\"entity-row ${stateClass}\">\n        <ha-icon \n          icon=\"${entity.icon}\"\n          class=\"entity-icon ${entity.state === 'on' ? 'active' : ''}\"\n        ></ha-icon>\n        <span class=\"entity-name\">${entity.name}</span>\n        ${entity.isToggleable && entity.isOnline ? (0,lit/* html */.qy) `\n          <ha-switch\n            .checked=${entity.state === 'on'}\n            @change=${() => this.toggleEntity(entity.entityId)}\n          ></ha-switch>\n        ` : (0,lit/* html */.qy) `\n          <span class=\"entity-state\">${stateDisplay}</span>\n        `}\n      </div>\n    `;\n    }\n    getStateDisplay(entity) {\n        if (!entity.isOnline)\n            return 'Offline';\n        // For sensors, show the value with unit\n        if (entity.entityId.includes('sensor')) {\n            const state = this.entityStates.get(entity.entityId);\n            const unit = state?.attributes?.unit_of_measurement || '';\n            return `${entity.state}${unit ? ' ' + unit : ''}`;\n        }\n        // For binary sensors, show more descriptive text\n        if (entity.entityId.includes('binary_sensor')) {\n            return entity.state === 'on' ? 'Detected' : 'Clear';\n        }\n        return entity.state;\n    }\n    renderActions() {\n        const config = this.widgetConfig;\n        const showGroupControls = config?.showGroupControls ?? true;\n        if (!showGroupControls || !this.hasToggleableEntities()) {\n            return (0,lit/* html */.qy) ``;\n        }\n        const hasActiveDevices = this.groupedEntities.some(e => e.isToggleable && e.isOnline && e.state === 'on');\n        return (0,lit/* html */.qy) `\n      <div class=\"actions\">\n        ${hasActiveDevices ? (0,lit/* html */.qy) `\n          <mwc-button @click=${this.turnAllOff}>\n            <ha-icon icon=\"mdi:power-off\"></ha-icon>\n            All Off\n          </mwc-button>\n        ` : ''}\n        <mwc-button @click=${this.turnAllOn}>\n          <ha-icon icon=\"mdi:power-on\"></ha-icon>\n          All On\n        </mwc-button>\n      </div>\n    `;\n    }\n    hasToggleableEntities() {\n        return this.groupedEntities.some(e => e.isToggleable && e.isOnline);\n    }\n    toggleExpanded() {\n        this.expanded = !this.expanded;\n        // Update subscriptions when expanding/collapsing\n        if (this.expanded) {\n            this.updateSubscriptions();\n        }\n    }\n    async turnAllOff() {\n        const toggleable = this.groupedEntities.filter(e => e.isToggleable && e.isOnline && e.state === 'on');\n        for (const entity of toggleable) {\n            await this.turnOff(entity.entityId);\n        }\n    }\n    async turnAllOn() {\n        const toggleable = this.groupedEntities.filter(e => e.isToggleable && e.isOnline && e.state === 'off');\n        for (const entity of toggleable) {\n            await this.turnOn(entity.entityId);\n        }\n    }\n};\nDeviceGroupWidget.styles = [\n    DashviewWidget.styles,\n    (0,lit/* css */.AH) `\n      ha-card {\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n\n      .header {\n        padding: 16px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        background: linear-gradient(to bottom, rgba(var(--rgb-primary-color), 0.05), transparent);\n      }\n\n      .header-content {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .header h2 {\n        margin: 0;\n        font-size: 1.2em;\n        font-weight: 500;\n      }\n\n      .device-count {\n        background: var(--primary-color);\n        color: var(--text-primary-color, white);\n        padding: 2px 8px;\n        border-radius: 12px;\n        font-size: 0.8em;\n        font-weight: 500;\n      }\n\n      .expand-icon {\n        transition: transform 0.3s ease;\n        color: var(--secondary-text-color);\n      }\n\n      .expand-icon.expanded {\n        transform: rotate(180deg);\n      }\n\n      .entities {\n        flex: 1;\n        overflow-y: auto;\n        padding: 0 16px;\n        max-height: 400px;\n      }\n\n      .entity-row {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        padding: 12px 0;\n        border-bottom: 1px solid var(--divider-color);\n        transition: opacity 0.2s ease;\n      }\n\n      .entity-row:last-child {\n        border-bottom: none;\n      }\n\n      .entity-row.offline {\n        opacity: 0.5;\n      }\n\n      .entity-icon {\n        --mdc-icon-size: 20px;\n        color: var(--secondary-text-color);\n        transition: color 0.2s ease;\n      }\n\n      .entity-icon.active {\n        color: var(--primary-color);\n      }\n\n      .entity-name {\n        flex: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      .entity-state {\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n        min-width: 60px;\n        text-align: right;\n      }\n\n      .empty-state {\n        padding: 32px;\n        text-align: center;\n        color: var(--secondary-text-color);\n        font-style: italic;\n      }\n\n      .actions {\n        padding: 8px 16px;\n        border-top: 1px solid var(--divider-color);\n        display: flex;\n        justify-content: flex-end;\n        gap: 8px;\n      }\n\n      .actions:empty {\n        display: none;\n      }\n\n      mwc-button {\n        --mdc-theme-primary: var(--primary-color);\n      }\n\n      mwc-button ha-icon {\n        margin-right: 4px;\n      }\n    `\n];\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: String }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], DeviceGroupWidget.prototype, \"deviceType\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: String }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], DeviceGroupWidget.prototype, \"groupName\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DeviceGroupWidget.prototype, \"expanded\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Array)\n], DeviceGroupWidget.prototype, \"groupedEntities\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DeviceGroupWidget.prototype, \"onlineCount\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DeviceGroupWidget.prototype, \"activeCount\", void 0);\nDeviceGroupWidget = (0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* customElement */.EM)('dashview-device-group-widget')\n], DeviceGroupWidget);\n\n\n;// ./src/widgets/climate-widget.ts\n/**\n * Climate widget for Dashview V2.\n * Controls HVAC systems, thermostats, and climate entities.\n */\n\n\n\n\n\nlet ClimateWidget = class ClimateWidget extends DashviewWidget {\n    constructor() {\n        super(...arguments);\n        this.hvacMode = 'off';\n        this.availableModes = [];\n        this.availablePresets = [];\n        this.isAdjusting = false;\n        this.showTempDial = true;\n    }\n    subscribedEntities() {\n        const entities = [];\n        // Primary climate entity\n        const climateId = this.climateEntityId || this.widgetConfig?.entities?.[0];\n        if (climateId) {\n            entities.push(climateId);\n        }\n        // Related humidity sensor if any\n        const humidityEntity = this.widgetConfig?.entities?.find(e => e.includes('humidity') && !e.includes('climate'));\n        if (humidityEntity) {\n            entities.push(humidityEntity);\n        }\n        return entities;\n    }\n    getDefaultConfig() {\n        return {\n            type: 'climate',\n            entities: [],\n            showHumidity: true,\n            showPresets: true,\n            temperatureStep: 0.5,\n        };\n    }\n    firstUpdated(changedProps) {\n        super.firstUpdated(changedProps);\n        this.updateClimateState();\n    }\n    onStateChanged(entityId, newState, oldState) {\n        super.onStateChanged(entityId, newState, oldState);\n        this.updateClimateState();\n    }\n    updateClimateState() {\n        const climateId = this.climateEntityId || this.widgetConfig?.entities?.[0];\n        if (!climateId)\n            return;\n        const climateState = this.entityStates.get(climateId);\n        if (!climateState)\n            return;\n        // Update temperature values\n        this.currentTemp = climateState.attributes.current_temperature;\n        this.hvacMode = climateState.state;\n        this.presetMode = climateState.attributes.preset_mode;\n        // Handle different temperature control modes\n        if (climateState.attributes.target_temp_low && climateState.attributes.target_temp_high) {\n            this.targetTempLow = climateState.attributes.target_temp_low;\n            this.targetTempHigh = climateState.attributes.target_temp_high;\n            this.targetTemp = undefined;\n        }\n        else {\n            this.targetTemp = climateState.attributes.temperature;\n            this.targetTempLow = undefined;\n            this.targetTempHigh = undefined;\n        }\n        // Available modes\n        this.availableModes = climateState.attributes.hvac_modes || [];\n        this.availablePresets = climateState.attributes.preset_modes || [];\n        // Check for humidity sensor\n        const humidityEntity = this.widgetConfig?.entities?.find(e => e.includes('humidity') && !e.includes('climate'));\n        if (humidityEntity) {\n            const humidityState = this.entityStates.get(humidityEntity);\n            if (humidityState && humidityState.state !== 'unavailable') {\n                this.humidity = parseFloat(humidityState.state);\n            }\n        }\n    }\n    render() {\n        const climateId = this.climateEntityId || this.widgetConfig?.entities?.[0];\n        const title = this.widgetConfig?.title || 'Climate Control';\n        if (this.isLoading) {\n            return this.renderSkeleton();\n        }\n        if (this.error || !climateId) {\n            return (0,lit/* html */.qy) `\n        <div class=\"widget-error\">\n          ${this.error || 'No climate entity configured'}\n        </div>\n      `;\n        }\n        return (0,lit/* html */.qy) `\n      <ha-card>\n        <div class=\"header\">\n          <h2>${title}</h2>\n          <div class=\"hvac-mode ${this.hvacMode}\">\n            ${this.hvacMode.toUpperCase()}\n          </div>\n        </div>\n\n        <div class=\"temperature-display\">\n          ${this.showTempDial ? this.renderTemperatureDial() : this.renderTemperatureDisplay()}\n        </div>\n\n        ${this.renderTemperatureControls()}\n        ${this.renderModeSelector()}\n        ${this.renderPresetSelector()}\n        ${this.renderHumidity()}\n      </ha-card>\n    `;\n    }\n    renderTemperatureDisplay() {\n        if (this.currentTemp === undefined) {\n            return (0,lit/* html */.qy) `<span class=\"temp-unavailable\">--</span>`;\n        }\n        return (0,lit/* html */.qy) `\n      <div class=\"current-temp\">\n        <span class=\"temp-value\">${this.currentTemp.toFixed(1)}</span>\n        <span class=\"temp-unit\">C</span>\n      </div>\n      ${this.renderTargetTemp()}\n    `;\n    }\n    renderTemperatureDial() {\n        if (this.currentTemp === undefined) {\n            return (0,lit/* html */.qy) `<div class=\"temp-dial-unavailable\">Temperature Unavailable</div>`;\n        }\n        const minTemp = 10;\n        const maxTemp = 35;\n        const currentPercent = Math.max(0, Math.min(100, ((this.currentTemp - minTemp) / (maxTemp - minTemp)) * 100));\n        const targetPercent = this.targetTemp ? Math.max(0, Math.min(100, ((this.targetTemp - minTemp) / (maxTemp - minTemp)) * 100)) : currentPercent;\n        return (0,lit/* html */.qy) `\n      <div class=\"temp-dial-container\">\n        <div class=\"temp-dial\">\n          <svg viewBox=\"0 0 200 200\" class=\"dial-svg\">\n            <!-- Background circle -->\n            <circle cx=\"100\" cy=\"100\" r=\"80\" class=\"dial-bg\" />\n            <!-- Current temperature arc -->\n            <circle \n              cx=\"100\" \n              cy=\"100\" \n              r=\"80\" \n              class=\"dial-current\"\n              stroke-dasharray=\"${(currentPercent / 100) * 502.6} 502.6\"\n              transform=\"rotate(-90 100 100)\"\n            />\n            <!-- Target temperature indicator -->\n            ${this.targetTemp ? (0,lit/* html */.qy) `\n              <circle \n                cx=\"100\" \n                cy=\"100\" \n                r=\"80\" \n                class=\"dial-target\"\n                stroke-dasharray=\"3 502.6\"\n                stroke-dashoffset=\"${-((targetPercent / 100) * 502.6)}\"\n                transform=\"rotate(-90 100 100)\"\n              />\n            ` : ''}\n          </svg>\n          <div class=\"dial-center\">\n            <div class=\"current-temp-dial\">\n              <span class=\"temp-value-dial\">${this.currentTemp.toFixed(1)}</span>\n              <span class=\"temp-unit-dial\">C</span>\n            </div>\n            ${this.targetTemp ? (0,lit/* html */.qy) `\n              <div class=\"target-temp-dial\">\n                Target: ${this.targetTemp.toFixed(1)}C\n              </div>\n            ` : ''}\n          </div>\n        </div>\n        <div class=\"temp-trend\">\n          ${this.renderTemperatureTrend()}\n        </div>\n      </div>\n    `;\n    }\n    renderTemperatureTrend() {\n        // Placeholder for temperature trend mini-graph\n        // In a real implementation, this would show historical data\n        return (0,lit/* html */.qy) `\n      <div class=\"trend-indicator\">\n        <ha-icon icon=\"mdi:trending-up\" class=\"trend-icon\"></ha-icon>\n        <span class=\"trend-text\">Trending up</span>\n      </div>\n    `;\n    }\n    renderTargetTemp() {\n        if (this.hvacMode === 'off') {\n            return (0,lit/* html */.qy) ``;\n        }\n        if (this.targetTempLow !== undefined && this.targetTempHigh !== undefined) {\n            return (0,lit/* html */.qy) `\n        <div class=\"target-temp-range\">\n          <span class=\"target-label\">Target:</span>\n          <span class=\"target-value\">${this.targetTempLow.toFixed(1)} - ${this.targetTempHigh.toFixed(1)}C</span>\n        </div>\n      `;\n        }\n        if (this.targetTemp !== undefined) {\n            return (0,lit/* html */.qy) `\n        <div class=\"target-temp\">\n          <span class=\"target-label\">Target:</span>\n          <span class=\"target-value\">${this.targetTemp.toFixed(1)}C</span>\n        </div>\n      `;\n        }\n        return (0,lit/* html */.qy) ``;\n    }\n    renderTemperatureControls() {\n        if (this.hvacMode === 'off' || this.hvacMode === 'fan_only') {\n            return (0,lit/* html */.qy) ``;\n        }\n        const config = this.widgetConfig;\n        const step = config?.temperatureStep || 0.5;\n        if (this.targetTempLow !== undefined && this.targetTempHigh !== undefined) {\n            return (0,lit/* html */.qy) `\n        <div class=\"temp-controls-dual\">\n          <div class=\"temp-control\">\n            <span class=\"control-label\">Cool to</span>\n            <div class=\"control-buttons\">\n              <ha-icon-button\n                icon=\"mdi:minus\"\n                @click=${() => this.adjustTargetTemp('low', -step)}\n              ></ha-icon-button>\n              <span class=\"control-value\">${this.targetTempLow.toFixed(1)}C</span>\n              <ha-icon-button\n                icon=\"mdi:plus\"\n                @click=${() => this.adjustTargetTemp('low', step)}\n              ></ha-icon-button>\n            </div>\n          </div>\n          <div class=\"temp-control\">\n            <span class=\"control-label\">Heat to</span>\n            <div class=\"control-buttons\">\n              <ha-icon-button\n                icon=\"mdi:minus\"\n                @click=${() => this.adjustTargetTemp('high', -step)}\n              ></ha-icon-button>\n              <span class=\"control-value\">${this.targetTempHigh.toFixed(1)}C</span>\n              <ha-icon-button\n                icon=\"mdi:plus\"\n                @click=${() => this.adjustTargetTemp('high', step)}\n              ></ha-icon-button>\n            </div>\n          </div>\n        </div>\n      `;\n        }\n        if (this.targetTemp !== undefined) {\n            return (0,lit/* html */.qy) `\n        <div class=\"temp-controls\">\n          <ha-icon-button\n            icon=\"mdi:minus\"\n            @click=${() => this.adjustTargetTemp('single', -step)}\n          ></ha-icon-button>\n          <span class=\"control-value\">${this.targetTemp.toFixed(1)}C</span>\n          <ha-icon-button\n            icon=\"mdi:plus\"\n            @click=${() => this.adjustTargetTemp('single', step)}\n          ></ha-icon-button>\n        </div>\n      `;\n        }\n        return (0,lit/* html */.qy) ``;\n    }\n    renderModeSelector() {\n        if (this.availableModes.length <= 1) {\n            return (0,lit/* html */.qy) ``;\n        }\n        const modeIcons = {\n            'off': 'mdi:power',\n            'heat': 'mdi:fire',\n            'cool': 'mdi:snowflake',\n            'heat_cool': 'mdi:autorenew',\n            'auto': 'mdi:calendar-sync',\n            'dry': 'mdi:water-percent',\n            'fan_only': 'mdi:fan',\n        };\n        const modeColors = {\n            'off': 'var(--secondary-text-color)',\n            'heat': '#ff6b00',\n            'cool': '#0288d1',\n            'heat_cool': '#388e3c',\n            'auto': '#388e3c',\n            'dry': '#9c27b0',\n            'fan_only': '#607d8b',\n        };\n        return (0,lit/* html */.qy) `\n      <div class=\"mode-selector\">\n        ${this.availableModes.map(mode => (0,lit/* html */.qy) `\n          <button\n            class=\"mode-button touch-target ${mode === this.hvacMode ? 'active' : ''}\"\n            @click=${() => this.setHvacMode(mode)}\n            aria-label=\"Set ${mode.replace('_', ' ')} mode\"\n            style=\"--mode-color: ${modeColors[mode]}\"\n          >\n            <ha-icon icon=\"${modeIcons[mode]}\"></ha-icon>\n            <span>${mode.replace('_', ' ')}</span>\n          </button>\n        `)}\n      </div>\n    `;\n    }\n    renderPresetSelector() {\n        const config = this.widgetConfig;\n        if (!config?.showPresets || this.availablePresets.length === 0) {\n            return (0,lit/* html */.qy) ``;\n        }\n        const presetIcons = {\n            'eco': 'mdi:leaf',\n            'away': 'mdi:home-export-outline',\n            'boost': 'mdi:rocket-launch',\n            'comfort': 'mdi:sofa',\n            'home': 'mdi:home',\n            'sleep': 'mdi:sleep',\n            'activity': 'mdi:run'\n        };\n        return (0,lit/* html */.qy) `\n      <div class=\"preset-selector\">\n        <span class=\"preset-label\">Presets:</span>\n        <div class=\"preset-buttons\">\n          <button \n            class=\"preset-button touch-target ${!this.presetMode ? 'active' : ''}\"\n            @click=${() => this.setPresetMode(null)}\n            aria-label=\"No preset\"\n          >\n            <ha-icon icon=\"mdi:close\"></ha-icon>\n            <span>None</span>\n          </button>\n          ${this.availablePresets.map(preset => (0,lit/* html */.qy) `\n            <button\n              class=\"preset-button touch-target ${preset === this.presetMode ? 'active' : ''}\"\n              @click=${() => this.setPresetMode(preset)}\n              aria-label=\"Set ${preset} preset\"\n            >\n              <ha-icon icon=\"${presetIcons[preset] || 'mdi:cog'}\"></ha-icon>\n              <span>${preset}</span>\n            </button>\n          `)}\n        </div>\n      </div>\n    `;\n    }\n    renderHumidity() {\n        const config = this.widgetConfig;\n        if (!config?.showHumidity || this.humidity === undefined) {\n            return (0,lit/* html */.qy) ``;\n        }\n        return (0,lit/* html */.qy) `\n      <div class=\"humidity-display\">\n        <ha-icon icon=\"mdi:water-percent\"></ha-icon>\n        <span>Humidity: ${this.humidity.toFixed(0)}%</span>\n      </div>\n    `;\n    }\n    async adjustTargetTemp(type, change) {\n        if (this.isAdjusting)\n            return;\n        const climateId = this.climateEntityId || this.widgetConfig?.entities?.[0];\n        if (!climateId)\n            return;\n        this.isAdjusting = true;\n        try {\n            const service_data = {};\n            if (type === 'single' && this.targetTemp !== undefined) {\n                service_data.temperature = Math.round((this.targetTemp + change) * 2) / 2;\n            }\n            else if (type === 'low' && this.targetTempLow !== undefined) {\n                service_data.target_temp_low = Math.round((this.targetTempLow + change) * 2) / 2;\n                service_data.target_temp_high = this.targetTempHigh;\n            }\n            else if (type === 'high' && this.targetTempHigh !== undefined) {\n                service_data.target_temp_low = this.targetTempLow;\n                service_data.target_temp_high = Math.round((this.targetTempHigh + change) * 2) / 2;\n            }\n            await this.hass.callService('climate', 'set_temperature', {\n                entity_id: climateId,\n                ...service_data\n            });\n        }\n        catch (error) {\n            console.error('Failed to adjust temperature:', error);\n        }\n        finally {\n            this.isAdjusting = false;\n        }\n    }\n    async setHvacMode(mode) {\n        const climateId = this.climateEntityId || this.widgetConfig?.entities?.[0];\n        if (!climateId)\n            return;\n        try {\n            await this.hass.callService('climate', 'set_hvac_mode', {\n                entity_id: climateId,\n                hvac_mode: mode\n            });\n        }\n        catch (error) {\n            console.error('Failed to set HVAC mode:', error);\n        }\n    }\n    async setPresetMode(preset) {\n        const climateId = this.climateEntityId || this.widgetConfig?.entities?.[0];\n        if (!climateId)\n            return;\n        try {\n            await this.hass.callService('climate', 'set_preset_mode', {\n                entity_id: climateId,\n                preset_mode: preset\n            });\n        }\n        catch (error) {\n            console.error('Failed to set preset mode:', error);\n        }\n    }\n    renderSkeleton() {\n        return (0,lit/* html */.qy) `\n      <ha-card>\n        <div class=\"header\">\n          <div class=\"skeleton skeleton-text large\" style=\"width: 140px;\"></div>\n          <div class=\"skeleton skeleton-button\" style=\"width: 80px; height: 28px;\"></div>\n        </div>\n        <div class=\"temperature-display\">\n          <div class=\"skeleton skeleton-card\" style=\"height: 200px; margin: 16px;\"></div>\n        </div>\n        <div class=\"mode-selector\">\n          <div class=\"skeleton skeleton-button\" style=\"margin: 8px;\"></div>\n          <div class=\"skeleton skeleton-button\" style=\"margin: 8px;\"></div>\n          <div class=\"skeleton skeleton-button\" style=\"margin: 8px;\"></div>\n        </div>\n      </ha-card>\n    `;\n    }\n};\nClimateWidget.styles = (0,lit/* css */.AH) `\n    ${DashviewWidget.styles}\n    ${skeletonStyles}\n    ${touchStyles}\n      ha-card {\n        height: 100%;\n        min-height: 250px;\n        display: flex;\n        flex-direction: column;\n      }\n\n      .header {\n        padding: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      }\n\n      .header h2 {\n        margin: 0;\n        font-size: 1.2em;\n        font-weight: 500;\n      }\n\n      .hvac-mode {\n        padding: 4px 12px;\n        border-radius: 16px;\n        font-size: 0.8em;\n        font-weight: 500;\n        text-transform: uppercase;\n        letter-spacing: 0.05em;\n      }\n\n      .hvac-mode.off {\n        background: var(--secondary-background-color);\n        color: var(--secondary-text-color);\n      }\n\n      .hvac-mode.heat {\n        background: rgba(255, 152, 0, 0.2);\n        color: #ff6b00;\n      }\n\n      .hvac-mode.cool {\n        background: rgba(33, 150, 243, 0.2);\n        color: #0288d1;\n      }\n\n      .hvac-mode.heat_cool,\n      .hvac-mode.auto {\n        background: rgba(76, 175, 80, 0.2);\n        color: #388e3c;\n      }\n\n      .temperature-display {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding: 16px;\n      }\n\n      .current-temp {\n        display: flex;\n        align-items: baseline;\n        gap: 4px;\n      }\n\n      .temp-value {\n        font-size: 3.5em;\n        font-weight: 300;\n        color: var(--primary-color);\n        line-height: 1;\n      }\n\n      .temp-unit {\n        font-size: 1.5em;\n        color: var(--secondary-text-color);\n      }\n\n      .temp-unavailable {\n        font-size: 3em;\n        color: var(--secondary-text-color);\n      }\n\n      .target-temp,\n      .target-temp-range {\n        margin-top: 8px;\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n      }\n\n      .target-label {\n        opacity: 0.8;\n        margin-right: 4px;\n      }\n\n      .temp-controls {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 16px;\n        padding: 16px;\n        border-top: 1px solid var(--divider-color);\n      }\n\n      .temp-controls-dual {\n        display: flex;\n        gap: 24px;\n        padding: 16px;\n        border-top: 1px solid var(--divider-color);\n      }\n\n      .temp-control {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n      }\n\n      .control-label {\n        font-size: 0.85em;\n        color: var(--secondary-text-color);\n      }\n\n      .control-buttons {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .control-value {\n        font-size: 1.4em;\n        min-width: 60px;\n        text-align: center;\n      }\n\n      .mode-selector {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n        gap: 8px;\n        padding: 16px;\n        border-top: 1px solid var(--divider-color);\n      }\n\n      .mode-button {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 4px;\n        padding: 12px 8px;\n        border: 2px solid var(--divider-color);\n        border-radius: 12px;\n        background: var(--card-background-color);\n        cursor: pointer;\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        font-size: 0.75em;\n        text-transform: capitalize;\n        min-height: 44px;\n        min-width: 44px;\n      }\n\n      .mode-button:hover {\n        background: var(--secondary-background-color);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      .mode-button.active {\n        background: var(--mode-color, var(--primary-color));\n        color: white;\n        border-color: var(--mode-color, var(--primary-color));\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n      }\n\n      .mode-button:active {\n        transform: translateY(0) scale(0.95);\n      }\n\n      .mode-button ha-icon {\n        --mdc-icon-size: 24px;\n      }\n\n      .preset-selector {\n        padding: 12px 16px;\n        border-top: 1px solid var(--divider-color);\n      }\n\n      .preset-label {\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n        margin-bottom: 8px;\n        display: block;\n      }\n\n      .preset-buttons {\n        display: flex;\n        gap: 8px;\n        flex-wrap: wrap;\n      }\n\n      .preset-button {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 2px;\n        padding: 8px 12px;\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        background: var(--card-background-color);\n        cursor: pointer;\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        font-size: 0.7em;\n        text-transform: capitalize;\n        min-height: 44px;\n        min-width: 44px;\n      }\n\n      .preset-button:hover {\n        background: var(--secondary-background-color);\n      }\n\n      .preset-button.active {\n        background: var(--primary-color);\n        color: white;\n        border-color: var(--primary-color);\n      }\n\n      .preset-button ha-icon {\n        --mdc-icon-size: 18px;\n      }\n\n      .humidity-display {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        padding: 12px 16px;\n        border-top: 1px solid var(--divider-color);\n        color: var(--secondary-text-color);\n        font-size: 0.9em;\n      }\n\n      .humidity-display ha-icon {\n        --mdc-icon-size: 18px;\n      }\n\n      ha-icon-button {\n        --mdc-icon-button-size: 48px;\n        --mdc-icon-size: 24px;\n        min-height: 44px;\n        min-width: 44px;\n      }\n\n      /* Temperature dial styles */\n      .temp-dial-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 16px;\n      }\n\n      .temp-dial {\n        position: relative;\n        width: 200px;\n        height: 200px;\n      }\n\n      .dial-svg {\n        width: 100%;\n        height: 100%;\n      }\n\n      .dial-bg {\n        fill: none;\n        stroke: var(--divider-color);\n        stroke-width: 8;\n      }\n\n      .dial-current {\n        fill: none;\n        stroke: var(--primary-color);\n        stroke-width: 8;\n        stroke-linecap: round;\n        transition: stroke-dasharray 350ms cubic-bezier(0.0, 0.0, 0.2, 1);\n      }\n\n      .dial-target {\n        fill: none;\n        stroke: var(--secondary-text-color);\n        stroke-width: 4;\n        stroke-linecap: round;\n      }\n\n      .dial-center {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n      }\n\n      .current-temp-dial {\n        display: flex;\n        align-items: baseline;\n        justify-content: center;\n        gap: 4px;\n      }\n\n      .temp-value-dial {\n        font-size: 2.5em;\n        font-weight: 300;\n        color: var(--primary-color);\n        line-height: 1;\n      }\n\n      .temp-unit-dial {\n        font-size: 1.2em;\n        color: var(--secondary-text-color);\n      }\n\n      .target-temp-dial {\n        margin-top: 8px;\n        color: var(--secondary-text-color);\n        font-size: 0.8em;\n      }\n\n      .temp-dial-unavailable {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 200px;\n        color: var(--secondary-text-color);\n        font-size: 1.1em;\n      }\n\n      .trend-indicator {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n        color: var(--secondary-text-color);\n        font-size: 0.85em;\n      }\n\n      .trend-icon {\n        --mdc-icon-size: 16px;\n        color: var(--success-color, #4caf50);\n      }\n\n      /* Mobile optimizations */\n      @media (max-width: 768px) {\n        .temp-dial {\n          width: 160px;\n          height: 160px;\n        }\n\n        .temp-value-dial {\n          font-size: 2em;\n        }\n\n        .temp-unit-dial {\n          font-size: 1em;\n        }\n\n        .mode-selector {\n          grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));\n        }\n\n        .preset-buttons {\n          justify-content: center;\n        }\n      }\n\n      /* Accessibility */\n      @media (prefers-reduced-motion: reduce) {\n        .mode-button:hover {\n          transform: none;\n        }\n\n        .mode-button:active {\n          transform: scale(0.98);\n        }\n\n        .dial-current {\n          transition: none;\n        }\n      }\n    `;\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* property */.MZ)({ type: String }),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], ClimateWidget.prototype, \"climateEntityId\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], ClimateWidget.prototype, \"currentTemp\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], ClimateWidget.prototype, \"targetTemp\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], ClimateWidget.prototype, \"targetTempLow\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], ClimateWidget.prototype, \"targetTempHigh\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Number)\n], ClimateWidget.prototype, \"humidity\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], ClimateWidget.prototype, \"hvacMode\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", String)\n], ClimateWidget.prototype, \"presetMode\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Array)\n], ClimateWidget.prototype, \"availableModes\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Array)\n], ClimateWidget.prototype, \"availablePresets\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], ClimateWidget.prototype, \"isAdjusting\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], ClimateWidget.prototype, \"showTempDial\", void 0);\nClimateWidget = (0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* customElement */.EM)('dashview-climate-widget')\n], ClimateWidget);\n\n\n;// ./src/widgets/quick-controls-widget.ts\n/**\n * Quick controls widget for Dashview V2.\n * Provides fast access to frequently used controls and scenes.\n */\nvar quick_controls_widget_a;\n\n\n\n\nlet QuickControlsWidget = class QuickControlsWidget extends DashviewWidget {\n    constructor() {\n        super(...arguments);\n        this.controlStates = new Map();\n        this.executingControl = null;\n    }\n    subscribedEntities() {\n        const config = this.widgetConfig;\n        if (!config?.controls)\n            return [];\n        // Subscribe to all control entities\n        return config.controls\n            .map(control => control.entityId)\n            .filter(id => id && !id.startsWith('script.') && !id.startsWith('scene.'));\n    }\n    getDefaultConfig() {\n        return {\n            type: 'quick-controls',\n            controls: [],\n            columns: 4,\n            showLabels: true,\n            iconSize: 'medium',\n        };\n    }\n    firstUpdated(changedProps) {\n        super.firstUpdated(changedProps);\n        this.updateControlStates();\n    }\n    onStateChanged(entityId, newState, oldState) {\n        super.onStateChanged(entityId, newState, oldState);\n        this.updateControlStates();\n    }\n    updateControlStates() {\n        const config = this.widgetConfig;\n        if (!config?.controls)\n            return;\n        const newStates = new Map();\n        for (const control of config.controls) {\n            const entityId = control.entityId;\n            if (!entityId)\n                continue;\n            const state = this.entityStates.get(entityId);\n            if (state) {\n                // For toggleable entities, track on/off state\n                const domain = entityId.split('.')[0];\n                if (['light', 'switch', 'fan', 'input_boolean'].includes(domain)) {\n                    newStates.set(entityId, state.state === 'on');\n                }\n            }\n        }\n        this.controlStates = newStates;\n    }\n    render() {\n        const config = this.widgetConfig;\n        const title = this.widgetConfig?.title || 'Quick Controls';\n        if (this.isLoading) {\n            return (0,lit/* html */.qy) `\n        <div class=\"widget-loading\">\n          Loading controls...\n        </div>\n      `;\n        }\n        if (this.error || !config?.controls || config.controls.length === 0) {\n            return (0,lit/* html */.qy) `\n        <div class=\"widget-error\">\n          ${this.error || 'No controls configured'}\n        </div>\n      `;\n        }\n        const columns = config.columns || 4;\n        const iconSize = config.iconSize || 'medium';\n        return (0,lit/* html */.qy) `\n      <ha-card>\n        <div class=\"header\">\n          <h2>${title}</h2>\n        </div>\n\n        <div \n          class=\"controls-grid\"\n          style=\"grid-template-columns: repeat(${columns}, 1fr)\"\n        >\n          ${config.controls.map(control => this.renderControl(control, iconSize))}\n        </div>\n      </ha-card>\n    `;\n    }\n    renderControl(control, iconSize) {\n        const config = this.widgetConfig;\n        const showLabels = config?.showLabels ?? true;\n        const entityId = control.entityId;\n        const state = entityId ? this.entityStates.get(entityId) : null;\n        const isActive = this.controlStates.get(entityId) || false;\n        const isExecuting = this.executingControl === entityId;\n        // Determine icon\n        let icon = control.icon;\n        if (!icon && state) {\n            icon = state.attributes.icon || this.getDefaultIcon(entityId);\n        }\n        // Determine label\n        let label = control.label;\n        if (!label && state) {\n            label = state.attributes.friendly_name || entityId.split('.')[1].replace(/_/g, ' ');\n        }\n        // Determine color\n        let color = control.color || 'var(--primary-color)';\n        if (isActive && !control.color) {\n            color = this.getActiveColor(entityId);\n        }\n        const buttonClass = `control-button ${iconSize} ${isActive ? 'active' : ''} ${isExecuting ? 'executing' : ''}`;\n        return (0,lit/* html */.qy) `\n      <button\n        class=\"${buttonClass}\"\n        style=\"--control-color: ${color}\"\n        @click=${() => this.handleControlClick(control)}\n        ?disabled=${isExecuting}\n      >\n        ${isExecuting ? (0,lit/* html */.qy) `\n          <div class=\"spinner\"></div>\n        ` : (0,lit/* html */.qy) `\n          <ha-icon icon=\"${icon}\"></ha-icon>\n        `}\n        ${showLabels && label ? (0,lit/* html */.qy) `\n          <span class=\"control-label\">${label}</span>\n        ` : ''}\n      </button>\n    `;\n    }\n    getDefaultIcon(entityId) {\n        const [domain, name] = entityId.split('.');\n        // Domain-based icons\n        const domainIcons = {\n            'light': 'mdi:lightbulb',\n            'switch': 'mdi:toggle-switch',\n            'fan': 'mdi:fan',\n            'scene': 'mdi:palette',\n            'script': 'mdi:script-text',\n            'automation': 'mdi:robot',\n            'input_boolean': 'mdi:toggle-switch-outline',\n        };\n        // Name-based icons\n        if (name.includes('morning'))\n            return 'mdi:weather-sunset-up';\n        if (name.includes('night') || name.includes('bedtime'))\n            return 'mdi:weather-night';\n        if (name.includes('away'))\n            return 'mdi:home-export-outline';\n        if (name.includes('home'))\n            return 'mdi:home';\n        if (name.includes('party'))\n            return 'mdi:party-popper';\n        if (name.includes('movie') || name.includes('tv'))\n            return 'mdi:television';\n        if (name.includes('dinner') || name.includes('dining'))\n            return 'mdi:silverware-fork-knife';\n        if (name.includes('reading'))\n            return 'mdi:book-open-page-variant';\n        return domainIcons[domain] || 'mdi:gesture-tap';\n    }\n    getActiveColor(entityId) {\n        const [domain] = entityId.split('.');\n        switch (domain) {\n            case 'light':\n                return 'var(--warning-color)';\n            case 'fan':\n                return 'var(--info-color)';\n            case 'switch':\n                return 'var(--success-color)';\n            default:\n                return 'var(--primary-color)';\n        }\n    }\n    async handleControlClick(control) {\n        if (this.executingControl)\n            return;\n        const entityId = control.entityId;\n        if (!entityId)\n            return;\n        // Handle confirmation if required\n        if (control.confirmAction) {\n            const label = control.label || entityId.split('.')[1].replace(/_/g, ' ');\n            if (!confirm(`Execute \"${label}\"?`)) {\n                return;\n            }\n        }\n        this.executingControl = entityId;\n        try {\n            // Custom service call\n            if (control.service) {\n                await this.hass.callService(control.service.domain, control.service.service, {\n                    entity_id: entityId,\n                    ...control.service.data\n                });\n            }\n            else {\n                // Default behavior based on entity type\n                const [domain] = entityId.split('.');\n                switch (domain) {\n                    case 'scene':\n                        await this.hass.callService('scene', 'turn_on', { entity_id: entityId });\n                        break;\n                    case 'script':\n                        await this.hass.callService('script', 'turn_on', { entity_id: entityId });\n                        break;\n                    case 'automation':\n                        await this.hass.callService('automation', 'trigger', { entity_id: entityId });\n                        break;\n                    case 'light':\n                    case 'switch':\n                    case 'fan':\n                    case 'input_boolean':\n                        await this.toggleEntity(entityId);\n                        break;\n                    default:\n                        console.warn(`Unknown entity domain: ${domain}`);\n                }\n            }\n            // Visual feedback for non-toggleable entities\n            if (['scene', 'script'].includes(entityId.split('.')[0])) {\n                // Keep spinner for a moment to show execution\n                setTimeout(() => {\n                    this.executingControl = null;\n                }, 1000);\n                return;\n            }\n        }\n        catch (error) {\n            console.error(`Failed to execute control ${entityId}:`, error);\n        }\n        this.executingControl = null;\n    }\n};\nQuickControlsWidget.styles = [\n    DashviewWidget.styles,\n    (0,lit/* css */.AH) `\n      ha-card {\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n\n      .header {\n        padding: 16px;\n        border-bottom: 1px solid var(--divider-color);\n      }\n\n      .header h2 {\n        margin: 0;\n        font-size: 1.2em;\n        font-weight: 500;\n      }\n\n      .controls-grid {\n        display: grid;\n        gap: 12px;\n        padding: 16px;\n        align-content: start;\n      }\n\n      .control-button {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        padding: 16px 8px;\n        border: 2px solid var(--divider-color);\n        border-radius: 12px;\n        background: var(--card-background-color);\n        cursor: pointer;\n        transition: all 0.2s ease;\n        position: relative;\n        overflow: hidden;\n      }\n\n      .control-button:hover {\n        background: var(--secondary-background-color);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      .control-button:active {\n        transform: translateY(0);\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      }\n\n      .control-button.active {\n        background: var(--control-color);\n        color: var(--text-primary-color, white);\n        border-color: var(--control-color);\n      }\n\n      .control-button.active ha-icon {\n        color: var(--text-primary-color, white);\n      }\n\n      .control-button:disabled {\n        cursor: not-allowed;\n        opacity: 0.7;\n      }\n\n      .control-button.executing {\n        pointer-events: none;\n      }\n\n      /* Icon sizes */\n      .control-button.small {\n        padding: 12px 8px;\n      }\n\n      .control-button.small ha-icon {\n        --mdc-icon-size: 24px;\n      }\n\n      .control-button.medium ha-icon {\n        --mdc-icon-size: 32px;\n      }\n\n      .control-button.large {\n        padding: 20px 12px;\n      }\n\n      .control-button.large ha-icon {\n        --mdc-icon-size: 40px;\n      }\n\n      .control-label {\n        font-size: 0.75em;\n        text-align: center;\n        line-height: 1.2;\n        max-width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n      }\n\n      .control-button.large .control-label {\n        font-size: 0.85em;\n      }\n\n      /* Spinner animation */\n      .spinner {\n        width: 24px;\n        height: 24px;\n        border: 3px solid var(--divider-color);\n        border-top-color: var(--primary-color);\n        border-radius: 50%;\n        animation: spin 0.8s linear infinite;\n      }\n\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n\n      /* Responsive adjustments */\n      @media (max-width: 480px) {\n        .controls-grid {\n          gap: 8px;\n          padding: 12px;\n        }\n\n        .control-button {\n          padding: 12px 6px;\n        }\n\n        .control-button.medium ha-icon {\n          --mdc-icon-size: 28px;\n        }\n\n        .control-label {\n          font-size: 0.7em;\n        }\n      }\n\n      /* Pulse animation for scenes/scripts */\n      @keyframes pulse {\n        0% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.6;\n        }\n        100% {\n          opacity: 1;\n        }\n      }\n\n      .control-button.executing ha-icon {\n        animation: pulse 1s ease-in-out infinite;\n      }\n    `\n];\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", typeof (quick_controls_widget_a = typeof Map !== \"undefined\" && Map) === \"function\" ? quick_controls_widget_a : Object)\n], QuickControlsWidget.prototype, \"controlStates\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], QuickControlsWidget.prototype, \"executingControl\", void 0);\nQuickControlsWidget = (0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* customElement */.EM)('dashview-quick-controls-widget')\n], QuickControlsWidget);\n\n\n;// ./src/dashboard/dashview-dashboard.ts\nvar dashview_dashboard_a, dashview_dashboard_b, _c, _d, _e;\n\n\n\n\n\n\n\n\n\n\n\n// Import widgets\n\n\n\n\nlet DashviewDashboard = class DashviewDashboard extends DashviewBaseElement {\n    constructor() {\n        super(...arguments);\n        // Private state\n        this._stateManager = null;\n        this._subscriptionManager = null;\n        this.loading = true;\n        this.error = null;\n        this.homeInfo = null;\n        this.wsConnection = null;\n        this.layoutEngine = null;\n        this.currentLayout = null;\n        this.widgets = [];\n        this.currentBreakpoint = 'desktop';\n        this.areas = new Map();\n    }\n    // Public getters for child components\n    get stateManager() {\n        return this._stateManager;\n    }\n    get subscriptionManager() {\n        return this._subscriptionManager;\n    }\n    async firstUpdated(changedProps) {\n        super.firstUpdated(changedProps);\n        await this.initializeDashboard();\n        this.setupResizeObserver();\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.cleanup();\n    }\n    async initializeDashboard() {\n        try {\n            logger.info('Initializing Dashview dashboard');\n            if (!this.hass) {\n                throw new Error('Home Assistant connection not available');\n            }\n            // Initialize core services\n            this.wsConnection = new WebSocketConnection(this.hass);\n            this._stateManager = new StateManager();\n            this._subscriptionManager = new SubscriptionManager(this.wsConnection, this._stateManager);\n            this.layoutEngine = new LayoutEngine();\n            // Load home information\n            await this.loadHomeInfo();\n            // Analyze home and set up dashboard\n            await this.analyzeHome();\n            this.selectOptimalLayout();\n            await this.initializeWidgets();\n            // Start state management\n            this._stateManager.initializeFromHass(this.hass);\n            await this._subscriptionManager.startListening();\n            logger.info('Dashboard initialized successfully');\n            this.loading = false;\n        }\n        catch (error) {\n            logger.error('Failed to initialize dashboard:', error);\n            this.error = error instanceof Error ? error.message : 'Failed to initialize dashboard';\n            this.loading = false;\n        }\n    }\n    async loadHomeInfo() {\n        if (!this.wsConnection)\n            return;\n        try {\n            this.loading = true;\n            this.error = null;\n            logger.debug('Loading home information');\n            this.homeInfo = await this.wsConnection.getHomeInfo();\n            logger.info('Home info loaded:', this.homeInfo);\n            this.loading = false;\n        }\n        catch (error) {\n            logger.error('Failed to load home info:', error);\n            this.error = 'Failed to load home information';\n            this.loading = false;\n        }\n    }\n    render() {\n        if (this.loading) {\n            return (0,lit/* html */.qy) `\n        <div class=\"dashview-container\">\n          <div class=\"dashview-loading\">\n            <div class=\"loading-spinner\"></div>\n            <p>Loading your dashboard...</p>\n          </div>\n        </div>\n      `;\n        }\n        if (this.error) {\n            return (0,lit/* html */.qy) `\n        <div class=\"dashview-container\">\n          <div class=\"dashview-error\">\n            <h2>Error</h2>\n            <p>${this.error}</p>\n            <button @click=${() => this.initializeDashboard()}>Retry</button>\n          </div>\n        </div>\n      `;\n        }\n        // If we have widgets, show the dashboard view\n        if (this.widgets.length > 0) {\n            return this.renderDashboard();\n        }\n        // Otherwise show the welcome/info view\n        return (0,lit/* html */.qy) `\n      <div class=\"dashview-container\">\n        <div class=\"dashview-content\">\n          <div class=\"welcome-header\">\n            <h1 class=\"welcome-title\">Welcome to Dashview V2</h1>\n            <p class=\"welcome-subtitle\">\n              Your intelligent home dashboard for ${this.homeInfo?.entityCount || 0} entities\n            </p>\n          </div>\n\n          ${this.homeInfo ? this.renderHomeInfo() : this.renderNoData()}\n        </div>\n      </div>\n    `;\n    }\n    renderHomeInfo() {\n        if (!this.homeInfo)\n            return null;\n        const complexityPercentage = Math.min(100, this.homeInfo.complexityScore * 10);\n        return (0,lit/* html */.qy) `\n      <div class=\"info-grid\">\n        <div class=\"info-card\">\n          <p class=\"info-value\">${this.homeInfo.roomCount}</p>\n          <p class=\"info-label\">Rooms</p>\n        </div>\n\n        <div class=\"info-card\">\n          <p class=\"info-value\">${this.homeInfo.entityCount}</p>\n          <p class=\"info-label\">Entities</p>\n        </div>\n\n        <div class=\"info-card\">\n          <p class=\"info-value\">${this.homeInfo.areas.length}</p>\n          <p class=\"info-label\">Areas</p>\n        </div>\n\n        <div class=\"info-card\">\n          <p class=\"info-value\">${this.homeInfo.complexityScore}/10</p>\n          <p class=\"info-label\">Complexity Score</p>\n          <div class=\"complexity-meter\">\n            <div class=\"complexity-fill\" style=\"width: ${complexityPercentage}%\"></div>\n          </div>\n        </div>\n      </div>\n\n      ${this.homeInfo.areas.length > 0 ? (0,lit/* html */.qy) `\n        <div class=\"dashview-card\">\n          <h3>Detected Areas</h3>\n          <div class=\"areas-list\">\n            ${this.homeInfo.areas.map(area => (0,lit/* html */.qy) `\n              <span class=\"area-tag\">${area}</span>\n            `)}\n          </div>\n        </div>\n      ` : ''}\n    `;\n    }\n    renderNoData() {\n        return (0,lit/* html */.qy) `\n      <div class=\"dashview-card\">\n        <p>No home information available. Make sure your Home Assistant is configured with areas and entities.</p>\n      </div>\n    `;\n    }\n    /**\n     * Analyze home complexity and areas.\n     */\n    async analyzeHome() {\n        if (!this.homeInfo || !this.wsConnection)\n            return;\n        try {\n            // Get detailed area information\n            const areaData = await this.callWebSocket('get_area_entities', {});\n            // Convert to AreaInfo format\n            for (const [areaId, data] of Object.entries(areaData)) {\n                this.areas.set(areaId, {\n                    areaId,\n                    name: data.name,\n                    entities: data.entities || [],\n                    entityCount: data.entity_count || 0,\n                    deviceCount: data.device_count || 0,\n                });\n            }\n            logger.info(`Analyzed ${this.areas.size} areas`);\n        }\n        catch (error) {\n            logger.error('Failed to analyze home:', error);\n        }\n    }\n    /**\n     * Select optimal layout based on complexity score and area count.\n     */\n    selectOptimalLayout() {\n        if (!this.homeInfo || !this.layoutEngine)\n            return;\n        const complexityScore = this.homeInfo.complexityScore;\n        const areaCount = this.areas.size;\n        this.currentLayout = this.layoutEngine.selectLayout(complexityScore, areaCount);\n        // Update breakpoint\n        const containerWidth = this.offsetWidth || window.innerWidth;\n        this.currentBreakpoint = this.currentLayout.getBreakpoint(containerWidth);\n    }\n    /**\n     * Initialize widgets based on areas and layout.\n     */\n    async initializeWidgets() {\n        if (!this.layoutEngine || !this.currentLayout)\n            return;\n        // Organize widgets from areas\n        const areaInfos = Array.from(this.areas.values());\n        this.widgets = this.layoutEngine.organizeWidgets(areaInfos);\n        // Handle overflow\n        const { visible } = this.layoutEngine.handleOverflow(this.widgets, this.currentLayout, this.currentBreakpoint);\n        this.widgets = visible;\n        logger.info(`Initialized ${this.widgets.length} widgets`);\n        // Update subscriptions for visible entities\n        await this.updateVisibleSubscriptions();\n    }\n    /**\n     * Update subscriptions based on visible widgets.\n     */\n    async updateVisibleSubscriptions() {\n        if (!this._subscriptionManager)\n            return;\n        const visibleEntities = new Set();\n        for (const widget of this.widgets) {\n            for (const entity of widget.entities) {\n                visibleEntities.add(entity);\n            }\n        }\n        this._subscriptionManager.updateVisibleEntities(Array.from(visibleEntities));\n    }\n    /**\n     * Set up resize observer for responsive behavior.\n     */\n    setupResizeObserver() {\n        const resizeObserver = new ResizeObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.target === this) {\n                    this.handleResize(entry.contentRect.width);\n                }\n            }\n        });\n        resizeObserver.observe(this);\n    }\n    /**\n     * Handle container resize.\n     */\n    handleResize(width) {\n        if (!this.currentLayout)\n            return;\n        const breakpointChanged = this.currentLayout.updateContainerWidth(width);\n        if (breakpointChanged) {\n            this.currentBreakpoint = this.currentLayout.getBreakpoint();\n            this.requestUpdate();\n        }\n    }\n    /**\n     * Render the dashboard grid with widgets.\n     */\n    renderDashboard() {\n        if (!this.currentLayout || this.widgets.length === 0) {\n            return (0,lit/* html */.qy) `\n        <div class=\"dashboard-loading\">\n          <p>Setting up your dashboard...</p>\n        </div>\n      `;\n        }\n        const gridCSS = this.currentLayout.generateGridCSS(this.currentBreakpoint);\n        const positions = this.layoutEngine.calculatePositions(this.widgets, this.areas.size);\n        return (0,lit/* html */.qy) `\n      <div class=\"dashboard-grid\" style=\"${gridCSS}\">\n        ${positions.map(pos => {\n            const widget = this.widgets.find(w => this.getWidgetId(w) === pos.widgetId);\n            if (!widget)\n                return '';\n            return this.renderWidget(widget, pos);\n        })}\n      </div>\n    `;\n    }\n    /**\n     * Render a single widget.\n     */\n    renderWidget(widget, position) {\n        const style = `\n      grid-area: ${position.gridArea};\n      ${position.gridColumn ? `grid-column: ${position.gridColumn};` : ''}\n      ${position.gridRow ? `grid-row: ${position.gridRow};` : ''}\n    `;\n        switch (widget.type) {\n            case 'room':\n                const area = Array.from(this.areas.values()).find(a => a.entities.some(e => widget.entities.includes(e)));\n                return (0,lit/* html */.qy) `\n          <div class=\"widget-container\" style=\"${style}\">\n            <dashview-room-widget\n              .hass=${this.hass}\n              .widgetConfig=${widget}\n              .areaId=${area?.areaId}\n              .areaName=${area?.name || widget.title}\n            ></dashview-room-widget>\n          </div>\n        `;\n            // TODO: Add other widget types when implemented\n            default:\n                return (0,lit/* html */.qy) `\n          <div class=\"widget-container\" style=\"${style}\">\n            <div class=\"dashview-card\">\n              <p>Widget type '${widget.type}' not implemented yet</p>\n            </div>\n          </div>\n        `;\n        }\n    }\n    /**\n     * Generate widget ID.\n     */\n    getWidgetId(widget) {\n        const firstEntity = widget.entities[0] || 'unknown';\n        return `${widget.type}-${firstEntity.replace(/\\./g, '_')}`;\n    }\n    /**\n     * Clean up resources.\n     */\n    cleanup() {\n        if (this._subscriptionManager) {\n            this._subscriptionManager.clear();\n        }\n        if (this._stateManager) {\n            this._stateManager.clear();\n        }\n    }\n};\nDashviewDashboard.styles = [\n    dashviewTheme,\n    dashviewStyles,\n    (0,lit/* css */.AH) `\n      :host {\n        display: block;\n        height: 100%;\n        width: 100%;\n      }\n\n      .welcome-header {\n        text-align: center;\n        margin-bottom: var(--dashview-spacing-xl);\n      }\n\n      .welcome-title {\n        font-size: 2.5rem;\n        font-weight: 300;\n        color: var(--dashview-primary-text-color);\n        margin: 0 0 var(--dashview-spacing-sm);\n      }\n\n      .welcome-subtitle {\n        font-size: 1.2rem;\n        color: var(--dashview-secondary-text-color);\n        margin: 0;\n      }\n\n      .info-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: var(--dashview-spacing-md);\n        margin-top: var(--dashview-spacing-xl);\n      }\n\n      .info-card {\n        background: var(--dashview-card-background);\n        border-radius: var(--dashview-border-radius);\n        padding: var(--dashview-spacing-lg);\n        text-align: center;\n        box-shadow: var(--dashview-box-shadow);\n        transition: transform 0.2s ease;\n      }\n\n      .info-card:hover {\n        transform: translateY(-2px);\n      }\n\n      .info-value {\n        font-size: 3rem;\n        font-weight: 300;\n        color: var(--primary-color);\n        margin: 0;\n      }\n\n      .info-label {\n        font-size: 1rem;\n        color: var(--dashview-secondary-text-color);\n        margin: var(--dashview-spacing-sm) 0 0;\n        text-transform: uppercase;\n        letter-spacing: 0.05em;\n      }\n\n      .complexity-meter {\n        width: 100%;\n        height: 20px;\n        background: var(--divider-color);\n        border-radius: 10px;\n        margin-top: var(--dashview-spacing-md);\n        overflow: hidden;\n      }\n\n      .complexity-fill {\n        height: 100%;\n        background: linear-gradient(90deg, \n          var(--success-color) 0%, \n          var(--warning-color) 50%, \n          var(--error-color) 100%\n        );\n        transition: width 0.5s ease;\n      }\n\n      .areas-list {\n        display: flex;\n        flex-wrap: wrap;\n        gap: var(--dashview-spacing-sm);\n        margin-top: var(--dashview-spacing-md);\n      }\n\n      .area-tag {\n        background: var(--primary-color);\n        color: var(--text-primary-color, white);\n        padding: var(--dashview-spacing-xs) var(--dashview-spacing-sm);\n        border-radius: var(--dashview-border-radius);\n        font-size: 0.9rem;\n      }\n\n      .loading-spinner {\n        animation: spin 1s linear infinite;\n        width: 48px;\n        height: 48px;\n        border: 3px solid var(--divider-color);\n        border-top-color: var(--primary-color);\n        border-radius: 50%;\n      }\n\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n\n      /* Dashboard grid layout */\n      .dashboard-grid {\n        display: grid;\n        height: 100%;\n        width: 100%;\n        overflow: auto;\n      }\n\n      .widget-container {\n        position: relative;\n        min-height: 200px;\n      }\n\n      /* Loading state for dashboard mode */\n      .dashboard-loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        flex-direction: column;\n        gap: var(--dashview-spacing-md);\n      }\n\n      .dashboard-loading p {\n        color: var(--dashview-secondary-text-color);\n      }\n    `,\n];\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewDashboard.prototype, \"loading\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewDashboard.prototype, \"error\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewDashboard.prototype, \"homeInfo\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewDashboard.prototype, \"wsConnection\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewDashboard.prototype, \"layoutEngine\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Object)\n], DashviewDashboard.prototype, \"currentLayout\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", Array)\n], DashviewDashboard.prototype, \"widgets\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", typeof (_d = typeof base_layout_namespaceObject.Breakpoint !== \"undefined\" && base_layout_namespaceObject.Breakpoint) === \"function\" ? _d : Object)\n], DashviewDashboard.prototype, \"currentBreakpoint\", void 0);\n(0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* state */.wk)(),\n    (0,tslib_es6/* __metadata */.Sn)(\"design:type\", typeof (_e = typeof Map !== \"undefined\" && Map) === \"function\" ? _e : Object)\n], DashviewDashboard.prototype, \"areas\", void 0);\nDashviewDashboard = (0,tslib_es6/* __decorate */.Cg)([\n    (0,decorators/* customElement */.EM)('dashview-dashboard')\n], DashviewDashboard);\n\n\n;// ./src/index.ts\n\n\n// Set up logger based on environment\nif (false) // removed by dead control flow\n{}\n// Verify dashboard element is registered\nconst dashboardElement = customElements.get('dashview-dashboard');\nif (dashboardElement) {\n    logger.info('Dashview V2 dashboard registered successfully');\n}\nelse {\n    logger.error('Failed to register dashview-dashboard element');\n}\n// Export version for debugging\nconst DASHVIEW_VERSION = '0.2.0';\n// Log initialization\nlogger.info(`Dashview V2 v${DASHVIEW_VERSION} initialized`);\n// Set up global error handler for debugging\nwindow.addEventListener('error', (event) => {\n    logger.error('Global error:', event.error);\n});\n// Set up unhandled rejection handler\nwindow.addEventListener('unhandledrejection', (event) => {\n    logger.error('Unhandled promise rejection:', event.reason);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUN6QyxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0MsQ0FBQyxDQUFDLENBQUM7QUFFSCxxQ0FBcUM7QUFDckMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDdEQsTUFBTSxDQUFDLEtBQUssQ0FBQyw4QkFBOEIsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0QsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL2NvcmUvYmFzZS1lbGVtZW50LnRzP2I1ZDciLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy9jb3JlL3dlYnNvY2tldC1jb25uZWN0aW9uLnRzP2QyZjMiLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy91dGlscy9sb2dnZXIudHM/OGQ2YSIsIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL2NvcmUvc3RhdGUtbWFuYWdlci50cz83MmNmIiwid2VicGFjazovL0Rhc2h2aWV3VjIvLi9zcmMvY29yZS9zdWJzY3JpcHRpb24tbWFuYWdlci50cz85NzFiIiwid2VicGFjazovL0Rhc2h2aWV3VjIvLi9zcmMvbGF5b3V0cy9iYXNlLWxheW91dC50cz9lYjc5Iiwid2VicGFjazovL0Rhc2h2aWV3VjIvLi9zcmMvbGF5b3V0cy9zdGFuZGFyZC1sYXlvdXQudHM/ZTdiYSIsIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL2xheW91dHMvbGF5b3V0LWVuZ2luZS50cz8zNWMxIiwid2VicGFjazovL0Rhc2h2aWV3VjIvLi9zcmMvc3R5bGVzL3RoZW1lLnRzPzk0Y2UiLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy91dGlscy9nZXN0dXJlcy50cz8xN2RkIiwid2VicGFjazovL0Rhc2h2aWV3VjIvLi9zcmMvc3R5bGVzL2FuaW1hdGlvbnMudHM/YTM1ZCIsIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL2NvcmUvd2lkZ2V0LWJhc2UudHM/YTVkNCIsIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL3V0aWxzL2ljb25zLnRzP2U3OGYiLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy93aWRnZXRzL3Jvb20td2lkZ2V0LnRzP2EwMWUiLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy93aWRnZXRzL2RldmljZS1ncm91cC13aWRnZXQudHM/NmQ0MiIsIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL3dpZGdldHMvY2xpbWF0ZS13aWRnZXQudHM/M2IwMSIsIndlYnBhY2s6Ly9EYXNodmlld1YyLy4vc3JjL3dpZGdldHMvcXVpY2stY29udHJvbHMtd2lkZ2V0LnRzPzdmZjciLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy9kYXNoYm9hcmQvZGFzaHZpZXctZGFzaGJvYXJkLnRzP2JiNjciLCJ3ZWJwYWNrOi8vRGFzaHZpZXdWMi8uL3NyYy9pbmRleC50cz9mZmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpdEVsZW1lbnQsIFByb3BlcnR5VmFsdWVzIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHR5cGUgeyBEYXNodmlld0NvbmZpZywgSG9tZUFzc2lzdGFudCB9IGZyb20gJ0AvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgRGFzaHZpZXdCYXNlRWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuICBAcHJvcGVydHkoeyB0eXBlOiBPYmplY3QgfSkgY29uZmlnITogRGFzaHZpZXdDb25maWc7XG4gIFxuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaGFzcykge1xuICAgICAgY29uc29sZS53YXJuKCdEYXNodmlld0Jhc2VFbGVtZW50OiBoYXNzIG9iamVjdCBub3QgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBjYWxsV2ViU29ja2V0PFQ+KGNvbW1hbmQ6IHN0cmluZywgZGF0YT86IGFueSk6IFByb21pc2U8VD4ge1xuICAgIGlmICghdGhpcy5oYXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hvbWUgQXNzaXN0YW50IGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmhhc3MuY2FsbFdTPFQ+KHtcbiAgICAgICAgdHlwZTogYGRhc2h2aWV3X3YyLyR7Y29tbWFuZH1gLFxuICAgICAgICAuLi5kYXRhLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBXZWJTb2NrZXQgY2FsbCBmYWlsZWQgZm9yICR7Y29tbWFuZH06YCwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGhhbmRsZUVycm9yKGVycm9yOiBFcnJvciwgY29udGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcihgW0Rhc2h2aWV3IFYyXSBFcnJvciBpbiAke2NvbnRleHR9OmAsIGVycm9yKTtcbiAgICAvLyBJbiB0aGUgZnV0dXJlLCB3ZSBjYW4gc2hvdyB1c2VyLWZyaWVuZGx5IGVycm9yIG1lc3NhZ2VzIGhlcmVcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgY29uc29sZS5sb2coJ0Rhc2h2aWV3QmFzZUVsZW1lbnQgY29ubmVjdGVkJyk7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGNvbnNvbGUubG9nKCdEYXNodmlld0Jhc2VFbGVtZW50IGRpc2Nvbm5lY3RlZCcpO1xuICB9XG59IiwiaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50LCBIb21lSW5mbyB9IGZyb20gJ0AvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgV2ViU29ja2V0Q29ubmVjdGlvbiB7XG4gIHByaXZhdGUgaGFzczogSG9tZUFzc2lzdGFudDtcblxuICBjb25zdHJ1Y3RvcihoYXNzOiBIb21lQXNzaXN0YW50KSB7XG4gICAgdGhpcy5oYXNzID0gaGFzcztcbiAgfVxuXG4gIGFzeW5jIGdldEhvbWVJbmZvKCk6IFByb21pc2U8SG9tZUluZm8+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5oYXNzLmNhbGxXUzxIb21lSW5mbz4oe1xuICAgICAgICB0eXBlOiAnZGFzaHZpZXdfdjIvZ2V0X2hvbWVfaW5mbycsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgaG9tZSBpbmZvOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN1YnNjcmliZVRvU3RhdGVDaGFuZ2VzKFxuICAgIGNhbGxiYWNrOiAoZXZlbnQ6IGFueSkgPT4gdm9pZCxcbiAgICBlbnRpdHlJZHM/OiBzdHJpbmdbXVxuICApOiBQcm9taXNlPCgpID0+IHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaGFzcy5jb25uZWN0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIG5vdCBhdmFpbGFibGUnKTtcbiAgICB9XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IGF3YWl0IHRoaXMuaGFzcy5jb25uZWN0aW9uLnN1YnNjcmliZUV2ZW50cyhcbiAgICAgIChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGlmICghZW50aXR5SWRzIHx8IGVudGl0eUlkcy5pbmNsdWRlcyhldmVudC5kYXRhLmVudGl0eV9pZCkpIHtcbiAgICAgICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnc3RhdGVfY2hhbmdlZCdcbiAgICApO1xuXG4gICAgcmV0dXJuIHVuc3Vic2NyaWJlIGFzICgpID0+IHZvaWQ7XG4gIH1cblxuICBpc0Nvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmhhc3MgJiYgISF0aGlzLmhhc3MuY29ubmVjdGlvbjtcbiAgfVxufSIsImV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgREVCVUcgPSAwLFxuICBJTkZPID0gMSxcbiAgV0FSTiA9IDIsXG4gIEVSUk9SID0gMyxcbn1cblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBMb2dnZXI7XG4gIHByaXZhdGUgbGV2ZWw6IExvZ0xldmVsID0gTG9nTGV2ZWwuSU5GTztcbiAgcHJpdmF0ZSBwcmVmaXggPSAnW0Rhc2h2aWV3IFYyXSc7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCBtb2RlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICB0aGlzLmxldmVsID0gTG9nTGV2ZWwuREVCVUc7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IExvZ2dlciB7XG4gICAgaWYgKCFMb2dnZXIuaW5zdGFuY2UpIHtcbiAgICAgIExvZ2dlci5pbnN0YW5jZSA9IG5ldyBMb2dnZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIExvZ2dlci5pbnN0YW5jZTtcbiAgfVxuXG4gIHNldExldmVsKGxldmVsOiBMb2dMZXZlbCk6IHZvaWQge1xuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgfVxuXG4gIGRlYnVnKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuREVCVUcpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcodGhpcy5wcmVmaXgsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGluZm8oLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgICBjb25zb2xlLmluZm8odGhpcy5wcmVmaXgsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHdhcm4oLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSBMb2dMZXZlbC5XQVJOKSB7XG4gICAgICBjb25zb2xlLndhcm4odGhpcy5wcmVmaXgsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuRVJST1IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5wcmVmaXgsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCk7IiwiLyoqXG4gKiBTdGF0ZSBtYW5hZ2VtZW50IGZvciBEYXNodmlldyBWMiBkYXNoYm9hcmQuXG4gKiBIYW5kbGVzIGVmZmljaWVudCBzdGF0ZSB1cGRhdGVzIHdpdGggZGlmZmluZyBhbmQgYmF0Y2hpbmcuXG4gKi9cblxuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ1N0YXRlTWFuYWdlcicpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlVXBkYXRlIHtcbiAgZW50aXR5SWQ6IHN0cmluZztcbiAgc3RhdGU6IGFueTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGVEaWZmIHtcbiAgdHlwZTogJ2FkZGVkJyB8ICdjaGFuZ2VkJyB8ICdyZW1vdmVkJztcbiAgZW50aXR5SWQ6IHN0cmluZztcbiAgb2xkU3RhdGU/OiBhbnk7XG4gIG5ld1N0YXRlPzogYW55O1xuICBjaGFuZ2VkUHJvcHM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZU1hbmFnZXJDb25maWcge1xuICBiYXRjaEludGVydmFsPzogbnVtYmVyOyAgLy8gTWlsbGlzZWNvbmRzIHRvIGJhdGNoIHVwZGF0ZXMgKGRlZmF1bHQ6IDE2bXMgZm9yIDYwZnBzKVxuICBtYXhCYXRjaFNpemU/OiBudW1iZXI7ICAgLy8gTWF4aW11bSB1cGRhdGVzIHBlciBiYXRjaCAoZGVmYXVsdDogMTAwKVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSB1cGRhdGVRdWV1ZTogU3RhdGVVcGRhdGVbXSA9IFtdO1xuICBwcml2YXRlIHJhZklkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBsYXN0U3RhdGU6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBNYXA8c3RyaW5nLCBTZXQ8KGRpZmY6IFN0YXRlRGlmZikgPT4gdm9pZD4+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGdsb2JhbExpc3RlbmVyczogU2V0PChkaWZmczogU3RhdGVEaWZmW10pID0+IHZvaWQ+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNvbmZpZzogUmVxdWlyZWQ8U3RhdGVNYW5hZ2VyQ29uZmlnPjtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN0YXRlTWFuYWdlckNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBiYXRjaEludGVydmFsOiBjb25maWcuYmF0Y2hJbnRlcnZhbCA/PyAxNiwgIC8vIDYwZnBzXG4gICAgICBtYXhCYXRjaFNpemU6IGNvbmZpZy5tYXhCYXRjaFNpemUgPz8gMTAwLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIG9sZCBhbmQgbmV3IHN0YXRlLlxuICAgKi9cbiAgY29tcHV0ZVN0YXRlRGlmZihlbnRpdHlJZDogc3RyaW5nLCBuZXdTdGF0ZTogYW55KTogU3RhdGVEaWZmIHwgbnVsbCB7XG4gICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLmxhc3RTdGF0ZS5nZXQoZW50aXR5SWQpO1xuICAgIFxuICAgIGlmICghb2xkU3RhdGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdhZGRlZCcsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBuZXdTdGF0ZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gUXVpY2sgZXF1YWxpdHkgY2hlY2tcbiAgICBpZiAob2xkU3RhdGUuc3RhdGUgPT09IG5ld1N0YXRlLnN0YXRlICYmIFxuICAgICAgICBKU09OLnN0cmluZ2lmeShvbGRTdGF0ZS5hdHRyaWJ1dGVzKSA9PT0gSlNPTi5zdHJpbmdpZnkobmV3U3RhdGUuYXR0cmlidXRlcykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEZpbmQgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gICAgY29uc3QgY2hhbmdlZFByb3BzID0gdGhpcy5nZXRDaGFuZ2VkUHJvcHMob2xkU3RhdGUsIG5ld1N0YXRlKTtcbiAgICBcbiAgICBpZiAoY2hhbmdlZFByb3BzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdjaGFuZ2VkJyxcbiAgICAgIGVudGl0eUlkLFxuICAgICAgb2xkU3RhdGUsXG4gICAgICBuZXdTdGF0ZSxcbiAgICAgIGNoYW5nZWRQcm9wcyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsaXN0IG9mIGNoYW5nZWQgcHJvcGVydGllcyBiZXR3ZWVuIHN0YXRlcy5cbiAgICovXG4gIHByaXZhdGUgZ2V0Q2hhbmdlZFByb3BzKG9sZFN0YXRlOiBhbnksIG5ld1N0YXRlOiBhbnkpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgY2hhbmdlZDogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIENoZWNrIG1haW4gc3RhdGVcbiAgICBpZiAob2xkU3RhdGUuc3RhdGUgIT09IG5ld1N0YXRlLnN0YXRlKSB7XG4gICAgICBjaGFuZ2VkLnB1c2goJ3N0YXRlJyk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgYXR0cmlidXRlc1xuICAgIGNvbnN0IG9sZEF0dHJzID0gb2xkU3RhdGUuYXR0cmlidXRlcyB8fCB7fTtcbiAgICBjb25zdCBuZXdBdHRycyA9IG5ld1N0YXRlLmF0dHJpYnV0ZXMgfHwge307XG4gICAgY29uc3QgYWxsS2V5cyA9IG5ldyBTZXQoWy4uLk9iamVjdC5rZXlzKG9sZEF0dHJzKSwgLi4uT2JqZWN0LmtleXMobmV3QXR0cnMpXSk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBhbGxLZXlzKSB7XG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkob2xkQXR0cnNba2V5XSkgIT09IEpTT04uc3RyaW5naWZ5KG5ld0F0dHJzW2tleV0pKSB7XG4gICAgICAgIGNoYW5nZWQucHVzaChgYXR0cmlidXRlcy4ke2tleX1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBsYXN0X2NoYW5nZWQgYW5kIGxhc3RfdXBkYXRlZFxuICAgIGlmIChvbGRTdGF0ZS5sYXN0X2NoYW5nZWQgIT09IG5ld1N0YXRlLmxhc3RfY2hhbmdlZCkge1xuICAgICAgY2hhbmdlZC5wdXNoKCdsYXN0X2NoYW5nZWQnKTtcbiAgICB9XG4gICAgaWYgKG9sZFN0YXRlLmxhc3RfdXBkYXRlZCAhPT0gbmV3U3RhdGUubGFzdF91cGRhdGVkKSB7XG4gICAgICBjaGFuZ2VkLnB1c2goJ2xhc3RfdXBkYXRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhdGNoIHN0YXRlIHVwZGF0ZXMgZm9yIGVmZmljaWVudCByZW5kZXJpbmcuXG4gICAqL1xuICBiYXRjaFVwZGF0ZSh1cGRhdGVzOiBTdGF0ZVVwZGF0ZVtdKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVRdWV1ZS5wdXNoKC4uLnVwZGF0ZXMpO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSB0b28gbWFueSB1cGRhdGVzLCBwcm9jZXNzIGltbWVkaWF0ZWx5XG4gICAgaWYgKHRoaXMudXBkYXRlUXVldWUubGVuZ3RoID49IHRoaXMuY29uZmlnLm1heEJhdGNoU2l6ZSkge1xuICAgICAgdGhpcy5wcm9jZXNzQmF0Y2goKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIHNjaGVkdWxlIHByb2Nlc3NpbmdcbiAgICBpZiAoIXRoaXMucmFmSWQpIHtcbiAgICAgIHRoaXMucmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0aGlzLnByb2Nlc3NCYXRjaCgpO1xuICAgICAgICB0aGlzLnJhZklkID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGEgc2luZ2xlIHN0YXRlIHVwZGF0ZSBpbW1lZGlhdGVseS5cbiAgICovXG4gIHVwZGF0ZVN0YXRlKGVudGl0eUlkOiBzdHJpbmcsIG5ld1N0YXRlOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmJhdGNoVXBkYXRlKFt7XG4gICAgICBlbnRpdHlJZCxcbiAgICAgIHN0YXRlOiBuZXdTdGF0ZSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9XSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBhbGwgYmF0Y2hlZCB1cGRhdGVzLlxuICAgKi9cbiAgcHJpdmF0ZSBwcm9jZXNzQmF0Y2goKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudXBkYXRlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdXBkYXRlTWFwID0gbmV3IE1hcDxzdHJpbmcsIFN0YXRlVXBkYXRlPigpO1xuICAgIGNvbnN0IGRpZmZzOiBTdGF0ZURpZmZbXSA9IFtdO1xuXG4gICAgLy8gRGVkdXBsaWNhdGUgdXBkYXRlcyAoa2VlcCBsYXRlc3QgZm9yIGVhY2ggZW50aXR5KVxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlUXVldWUpIHtcbiAgICAgIHVwZGF0ZU1hcC5zZXQodXBkYXRlLmVudGl0eUlkLCB1cGRhdGUpO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgZWFjaCB1bmlxdWUgdXBkYXRlXG4gICAgZm9yIChjb25zdCBbZW50aXR5SWQsIHVwZGF0ZV0gb2YgdXBkYXRlTWFwKSB7XG4gICAgICBjb25zdCBkaWZmID0gdGhpcy5jb21wdXRlU3RhdGVEaWZmKGVudGl0eUlkLCB1cGRhdGUuc3RhdGUpO1xuICAgICAgXG4gICAgICBpZiAoZGlmZikge1xuICAgICAgICBkaWZmcy5wdXNoKGRpZmYpO1xuICAgICAgICB0aGlzLmxhc3RTdGF0ZS5zZXQoZW50aXR5SWQsIHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBOb3RpZnkgZW50aXR5LXNwZWNpZmljIGxpc3RlbmVyc1xuICAgICAgICBjb25zdCBlbnRpdHlMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQoZW50aXR5SWQpO1xuICAgICAgICBpZiAoZW50aXR5TGlzdGVuZXJzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBlbnRpdHlMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVyKGRpZmYpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciBpbiBlbnRpdHkgbGlzdGVuZXIgZm9yICR7ZW50aXR5SWR9OmAsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RpZnkgZ2xvYmFsIGxpc3RlbmVyc1xuICAgIGlmIChkaWZmcy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuZ2xvYmFsTGlzdGVuZXJzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGlzdGVuZXIoZGlmZnMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgaW4gZ2xvYmFsIHN0YXRlIGxpc3RlbmVyOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENsZWFyIHF1ZXVlXG4gICAgdGhpcy51cGRhdGVRdWV1ZSA9IFtdO1xuXG4gICAgLy8gTG9nIHBlcmZvcm1hbmNlXG4gICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBpZiAocHJvY2Vzc2luZ1RpbWUgPiB0aGlzLmNvbmZpZy5iYXRjaEludGVydmFsKSB7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgYEJhdGNoIHByb2Nlc3NpbmcgdG9vayAke3Byb2Nlc3NpbmdUaW1lLnRvRml4ZWQoMil9bXMgZm9yICR7dXBkYXRlTWFwLnNpemV9IHVwZGF0ZXNgXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gc3RhdGUgY2hhbmdlcyBmb3IgYSBzcGVjaWZpYyBlbnRpdHkuXG4gICAqL1xuICBzdWJzY3JpYmVUb0VudGl0eShcbiAgICBlbnRpdHlJZDogc3RyaW5nLCBcbiAgICBjYWxsYmFjazogKGRpZmY6IFN0YXRlRGlmZikgPT4gdm9pZFxuICApOiAoKSA9PiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNldChlbnRpdHlJZCwgbmV3IFNldCgpKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5saXN0ZW5lcnMuZ2V0KGVudGl0eUlkKSEuYWRkKGNhbGxiYWNrKTtcblxuICAgIC8vIFJldHVybiB1bnN1YnNjcmliZSBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQoZW50aXR5SWQpO1xuICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGxpc3RlbmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIGFsbCBzdGF0ZSBjaGFuZ2VzLlxuICAgKi9cbiAgc3Vic2NyaWJlVG9BbGwoY2FsbGJhY2s6IChkaWZmczogU3RhdGVEaWZmW10pID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgICB0aGlzLmdsb2JhbExpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuXG4gICAgLy8gUmV0dXJuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBzdGF0ZSBmb3IgYW4gZW50aXR5LlxuICAgKi9cbiAgZ2V0U3RhdGUoZW50aXR5SWQ6IHN0cmluZyk6IGFueSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubGFzdFN0YXRlLmdldChlbnRpdHlJZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjdXJyZW50IHN0YXRlcy5cbiAgICovXG4gIGdldEFsbFN0YXRlcygpOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgICByZXR1cm4gbmV3IE1hcCh0aGlzLmxhc3RTdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBzdGF0ZSBmcm9tIEhvbWUgQXNzaXN0YW50LlxuICAgKi9cbiAgaW5pdGlhbGl6ZUZyb21IYXNzKGhhc3M6IEhvbWVBc3Npc3RhbnQpOiB2b2lkIHtcbiAgICBjb25zdCB1cGRhdGVzOiBTdGF0ZVVwZGF0ZVtdID0gW107XG4gICAgXG4gICAgZm9yIChjb25zdCBbZW50aXR5SWQsIHN0YXRlXSBvZiBPYmplY3QuZW50cmllcyhoYXNzLnN0YXRlcykpIHtcbiAgICAgIHVwZGF0ZXMucHVzaCh7XG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5iYXRjaFVwZGF0ZSh1cGRhdGVzKTtcbiAgICBsb2dnZXIuaW5mbyhgSW5pdGlhbGl6ZWQgc3RhdGUgZm9yICR7dXBkYXRlcy5sZW5ndGh9IGVudGl0aWVzYCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHN0YXRlIGFuZCBsaXN0ZW5lcnMuXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yYWZJZCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWZJZCk7XG4gICAgICB0aGlzLnJhZklkID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVF1ZXVlID0gW107XG4gICAgdGhpcy5sYXN0U3RhdGUuY2xlYXIoKTtcbiAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xuICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN0YXRpc3RpY3MgYWJvdXQgdGhlIHN0YXRlIG1hbmFnZXIuXG4gICAqL1xuICBnZXRTdGF0cygpOiB7XG4gICAgZW50aXR5Q291bnQ6IG51bWJlcjtcbiAgICBsaXN0ZW5lckNvdW50OiBudW1iZXI7XG4gICAgcXVldWVTaXplOiBudW1iZXI7XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBlbnRpdHlDb3VudDogdGhpcy5sYXN0U3RhdGUuc2l6ZSxcbiAgICAgIGxpc3RlbmVyQ291bnQ6IHRoaXMubGlzdGVuZXJzLnNpemUgKyB0aGlzLmdsb2JhbExpc3RlbmVycy5zaXplLFxuICAgICAgcXVldWVTaXplOiB0aGlzLnVwZGF0ZVF1ZXVlLmxlbmd0aCxcbiAgICB9O1xuICB9XG59IiwiLyoqXG4gKiBTdWJzY3JpcHRpb24gbWFuYWdlciBmb3Igc21hcnQgZW50aXR5IHN1YnNjcmlwdGlvbnMuXG4gKiBPbmx5IHN1YnNjcmliZXMgdG8gdmlzaWJsZSBlbnRpdGllcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZS5cbiAqL1xuXG5pbXBvcnQgeyBXZWJTb2NrZXRDb25uZWN0aW9uIH0gZnJvbSAnLi93ZWJzb2NrZXQtY29ubmVjdGlvbic7XG5pbXBvcnQgeyBTdGF0ZU1hbmFnZXIgfSBmcm9tICcuL3N0YXRlLW1hbmFnZXInO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignU3Vic2NyaXB0aW9uTWFuYWdlcicpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbkNvbmZpZyB7XG4gIGRlYm91bmNlRGVsYXk/OiBudW1iZXI7ICAvLyBNaWxsaXNlY29uZHMgdG8gZGVib3VuY2UgdmlzaWJpbGl0eSBjaGFuZ2VzXG4gIG1heFN1YnNjcmlwdGlvbnM/OiBudW1iZXI7ICAvLyBNYXhpbXVtIGNvbmN1cnJlbnQgc3Vic2NyaXB0aW9uc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvblJlc3VsdCB7XG4gIHN1YnNjcmliZWQ6IHN0cmluZ1tdO1xuICB1bnN1YnNjcmliZWQ6IHN0cmluZ1tdO1xuICBmYWlsZWQ6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uTWFuYWdlciB7XG4gIHByaXZhdGUgd2Vic29ja2V0OiBXZWJTb2NrZXRDb25uZWN0aW9uO1xuICBwcml2YXRlIHN0YXRlTWFuYWdlcjogU3RhdGVNYW5hZ2VyO1xuICBwcml2YXRlIHZpc2libGVFbnRpdGllczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgc3Vic2NyaWJlZEVudGl0aWVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBkZWJvdW5jZVRpbWVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjb25maWc6IFJlcXVpcmVkPFN1YnNjcmlwdGlvbkNvbmZpZz47XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVIYW5kbGVyOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB3ZWJzb2NrZXQ6IFdlYlNvY2tldENvbm5lY3Rpb24sXG4gICAgc3RhdGVNYW5hZ2VyOiBTdGF0ZU1hbmFnZXIsXG4gICAgY29uZmlnOiBTdWJzY3JpcHRpb25Db25maWcgPSB7fVxuICApIHtcbiAgICB0aGlzLndlYnNvY2tldCA9IHdlYnNvY2tldDtcbiAgICB0aGlzLnN0YXRlTWFuYWdlciA9IHN0YXRlTWFuYWdlcjtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGRlYm91bmNlRGVsYXk6IGNvbmZpZy5kZWJvdW5jZURlbGF5ID8/IDMwMCxcbiAgICAgIG1heFN1YnNjcmlwdGlvbnM6IGNvbmZpZy5tYXhTdWJzY3JpcHRpb25zID8/IDUwMCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgbGlzdCBvZiB2aXNpYmxlIGVudGl0aWVzLlxuICAgKiBUaGlzIHdpbGwgdHJpZ2dlciBzdWJzY3JpcHRpb24gdXBkYXRlcyBhZnRlciBkZWJvdW5jaW5nLlxuICAgKi9cbiAgdXBkYXRlVmlzaWJsZUVudGl0aWVzKGVudGl0aWVzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIGNvbnN0IG5ld1Zpc2libGUgPSBuZXcgU2V0KGVudGl0aWVzKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGFjdHVhbGx5IGEgY2hhbmdlXG4gICAgY29uc3QgaGFzQ2hhbmdlcyA9IGVudGl0aWVzLmxlbmd0aCAhPT0gdGhpcy52aXNpYmxlRW50aXRpZXMuc2l6ZSB8fFxuICAgICAgZW50aXRpZXMuc29tZShpZCA9PiAhdGhpcy52aXNpYmxlRW50aXRpZXMuaGFzKGlkKSk7XG4gICAgXG4gICAgaWYgKCFoYXNDaGFuZ2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHZpc2libGUgc2V0XG4gICAgdGhpcy52aXNpYmxlRW50aXRpZXMgPSBuZXdWaXNpYmxlO1xuXG4gICAgLy8gRGVib3VuY2UgdGhlIHN5bmMgb3BlcmF0aW9uXG4gICAgaWYgKHRoaXMuZGVib3VuY2VUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJvdW5jZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zeW5jU3Vic2NyaXB0aW9ucygpO1xuICAgICAgdGhpcy5kZWJvdW5jZVRpbWVyID0gbnVsbDtcbiAgICB9LCB0aGlzLmNvbmZpZy5kZWJvdW5jZURlbGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jIHN1YnNjcmlwdGlvbnMgd2l0aCB0aGUgYmFja2VuZC5cbiAgICogU3Vic2NyaWJlcyB0byBuZXdseSB2aXNpYmxlIGVudGl0aWVzIGFuZCB1bnN1YnNjcmliZXMgZnJvbSBoaWRkZW4gb25lcy5cbiAgICovXG4gIGFzeW5jIHN5bmNTdWJzY3JpcHRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy53ZWJzb2NrZXQuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgbG9nZ2VyLndhcm4oJ1dlYlNvY2tldCBub3QgY29ubmVjdGVkLCBza2lwcGluZyBzdWJzY3JpcHRpb24gc3luYycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBMaW1pdCBzdWJzY3JpcHRpb25zIGlmIG5lZWRlZFxuICAgICAgY29uc3QgdGFyZ2V0RW50aXRpZXMgPSBBcnJheS5mcm9tKHRoaXMudmlzaWJsZUVudGl0aWVzKS5zbGljZSgwLCB0aGlzLmNvbmZpZy5tYXhTdWJzY3JpcHRpb25zKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCBiYWNrZW5kIHRvIHVwZGF0ZSBzdWJzY3JpcHRpb25zXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNhbGxVcGRhdGVTdWJzY3JpcHRpb25zKHRhcmdldEVudGl0aWVzKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHRyYWNraW5nXG4gICAgICB0aGlzLnN1YnNjcmliZWRFbnRpdGllcyA9IG5ldyBTZXQoW1xuICAgICAgICAuLi50aGlzLnN1YnNjcmliZWRFbnRpdGllcyxcbiAgICAgICAgLi4ucmVzdWx0LnN1YnNjcmliZWRcbiAgICAgIF0pO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIHJlc3VsdC51bnN1YnNjcmliZWQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVkRW50aXRpZXMuZGVsZXRlKGVudGl0eUlkKTtcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyLmluZm8oXG4gICAgICAgIGBTdWJzY3JpcHRpb24gc3luYyBjb21wbGV0ZTogJHtyZXN1bHQuc3Vic2NyaWJlZC5sZW5ndGh9IGFkZGVkLCBgICtcbiAgICAgICAgYCR7cmVzdWx0LnVuc3Vic2NyaWJlZC5sZW5ndGh9IHJlbW92ZWQsICR7dGhpcy5zdWJzY3JpYmVkRW50aXRpZXMuc2l6ZX0gdG90YWxgXG4gICAgICApO1xuXG4gICAgICAvLyBMb2cgYW55IGZhaWx1cmVzXG4gICAgICBpZiAocmVzdWx0LmZhaWxlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKGBGYWlsZWQgdG8gc3Vic2NyaWJlIHRvICR7cmVzdWx0LmZhaWxlZC5sZW5ndGh9IGVudGl0aWVzOmAsIHJlc3VsdC5mYWlsZWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzeW5jIHN1YnNjcmlwdGlvbnM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSBiYWNrZW5kIFdlYlNvY2tldCBjb21tYW5kIHRvIHVwZGF0ZSBzdWJzY3JpcHRpb25zLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjYWxsVXBkYXRlU3Vic2NyaXB0aW9ucyhlbnRpdGllczogc3RyaW5nW10pOiBQcm9taXNlPFN1YnNjcmlwdGlvblJlc3VsdD4ge1xuICAgIGNvbnN0IGhhc3MgPSAodGhpcy53ZWJzb2NrZXQgYXMgYW55KS5oYXNzIGFzIEhvbWVBc3Npc3RhbnQ7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYXNzLmNhbGxXUzxTdWJzY3JpcHRpb25SZXN1bHQ+KHtcbiAgICAgIHR5cGU6ICdkYXNodmlld192Mi91cGRhdGVfc3Vic2NyaXB0aW9ucycsXG4gICAgICBlbnRpdGllczogZW50aXRpZXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHNwZWNpZmljIGVudGl0aWVzIGltbWVkaWF0ZWx5LlxuICAgKi9cbiAgYXN5bmMgc3Vic2NyaWJlVG9FbnRpdGllcyhlbnRpdGllczogc3RyaW5nW10pOiBQcm9taXNlPFN1YnNjcmlwdGlvblJlc3VsdD4ge1xuICAgIGNvbnN0IGhhc3MgPSAodGhpcy53ZWJzb2NrZXQgYXMgYW55KS5oYXNzIGFzIEhvbWVBc3Npc3RhbnQ7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYXNzLmNhbGxXUzx7XG4gICAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgICAgc3Vic2NyaWJlZDogc3RyaW5nW107XG4gICAgICBmYWlsZWQ6IHN0cmluZ1tdO1xuICAgIH0+KHtcbiAgICAgIHR5cGU6ICdkYXNodmlld192Mi9zdWJzY3JpYmVfdmlzaWJsZV9lbnRpdGllcycsXG4gICAgICBlbnRpdGllczogZW50aXRpZXMsXG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgbG9jYWwgdHJhY2tpbmdcbiAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIHJlc3BvbnNlLnN1YnNjcmliZWQpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlZEVudGl0aWVzLmFkZChlbnRpdHlJZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1YnNjcmliZWQ6IHJlc3BvbnNlLnN1YnNjcmliZWQsXG4gICAgICB1bnN1YnNjcmliZWQ6IFtdLFxuICAgICAgZmFpbGVkOiByZXNwb25zZS5mYWlsZWQgfHwgW10sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIHNwZWNpZmljIGVudGl0aWVzIGltbWVkaWF0ZWx5LlxuICAgKi9cbiAgYXN5bmMgdW5zdWJzY3JpYmVGcm9tRW50aXRpZXMoZW50aXRpZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxTdWJzY3JpcHRpb25SZXN1bHQ+IHtcbiAgICBjb25zdCBoYXNzID0gKHRoaXMud2Vic29ja2V0IGFzIGFueSkuaGFzcyBhcyBIb21lQXNzaXN0YW50O1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFzcy5jYWxsV1M8e1xuICAgICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgIHVuc3Vic2NyaWJlZDogc3RyaW5nW107XG4gICAgICBmYWlsZWQ6IHN0cmluZ1tdO1xuICAgIH0+KHtcbiAgICAgIHR5cGU6ICdkYXNodmlld192Mi91bnN1YnNjcmliZV9oaWRkZW5fZW50aXRpZXMnLFxuICAgICAgZW50aXRpZXM6IGVudGl0aWVzLFxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIGxvY2FsIHRyYWNraW5nXG4gICAgZm9yIChjb25zdCBlbnRpdHlJZCBvZiByZXNwb25zZS51bnN1YnNjcmliZWQpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlZEVudGl0aWVzLmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1YnNjcmliZWQ6IFtdLFxuICAgICAgdW5zdWJzY3JpYmVkOiByZXNwb25zZS51bnN1YnNjcmliZWQsXG4gICAgICBmYWlsZWQ6IHJlc3BvbnNlLmZhaWxlZCB8fCBbXSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGxpc3RlbmluZyBmb3Igc3RhdGUgY2hhbmdlcy5cbiAgICogVGhpcyBzZXRzIHVwIHRoZSBXZWJTb2NrZXQgZXZlbnQgbGlzdGVuZXIgZm9yIHN0YXRlIHVwZGF0ZXMuXG4gICAqL1xuICBhc3luYyBzdGFydExpc3RlbmluZygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZUhhbmRsZXIpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdBbHJlYWR5IGxpc3RlbmluZyBmb3Igc3RhdGUgY2hhbmdlcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBTZXQgdXAgV2ViU29ja2V0IGV2ZW50IGxpc3RlbmVyXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlSGFuZGxlciA9IGF3YWl0IHRoaXMud2Vic29ja2V0LnN1YnNjcmliZVRvU3RhdGVDaGFuZ2VzKFxuICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQuZXZlbnRfdHlwZSA9PT0gJ3N0YXRlX2NoYW5nZWQnICYmIGV2ZW50LmRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW50aXR5X2lkLCBuZXdfc3RhdGUgfSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE9ubHkgcHJvY2VzcyBpZiB3ZSdyZSBzdWJzY3JpYmVkIHRvIHRoaXMgZW50aXR5XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVkRW50aXRpZXMuaGFzKGVudGl0eV9pZCkgJiYgbmV3X3N0YXRlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZVN0YXRlKGVudGl0eV9pZCwgbmV3X3N0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGxvZ2dlci5pbmZvKCdTdGFydGVkIGxpc3RlbmluZyBmb3Igc3RhdGUgY2hhbmdlcycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzdGFydCBsaXN0ZW5pbmc6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbGlzdGVuaW5nIGZvciBzdGF0ZSBjaGFuZ2VzLlxuICAgKi9cbiAgc3RvcExpc3RlbmluZygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZUhhbmRsZXIpIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmVIYW5kbGVyKCk7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlSGFuZGxlciA9IG51bGw7XG4gICAgICBsb2dnZXIuaW5mbygnU3RvcHBlZCBsaXN0ZW5pbmcgZm9yIHN0YXRlIGNoYW5nZXMnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGxpc3Qgb2Ygc3Vic2NyaWJlZCBlbnRpdGllcy5cbiAgICovXG4gIGdldFN1YnNjcmliZWRFbnRpdGllcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zdWJzY3JpYmVkRW50aXRpZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBsaXN0IG9mIHZpc2libGUgZW50aXRpZXMuXG4gICAqL1xuICBnZXRWaXNpYmxlRW50aXRpZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudmlzaWJsZUVudGl0aWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBlbnRpdHkgaXMgY3VycmVudGx5IHN1YnNjcmliZWQuXG4gICAqL1xuICBpc1N1YnNjcmliZWQoZW50aXR5SWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN1YnNjcmliZWRFbnRpdGllcy5oYXMoZW50aXR5SWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdWJzY3JpcHRpb24gc3RhdGlzdGljcy5cbiAgICovXG4gIGdldFN0YXRzKCk6IHtcbiAgICB2aXNpYmxlQ291bnQ6IG51bWJlcjtcbiAgICBzdWJzY3JpYmVkQ291bnQ6IG51bWJlcjtcbiAgICBtYXhTdWJzY3JpcHRpb25zOiBudW1iZXI7XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlQ291bnQ6IHRoaXMudmlzaWJsZUVudGl0aWVzLnNpemUsXG4gICAgICBzdWJzY3JpYmVkQ291bnQ6IHRoaXMuc3Vic2NyaWJlZEVudGl0aWVzLnNpemUsXG4gICAgICBtYXhTdWJzY3JpcHRpb25zOiB0aGlzLmNvbmZpZy5tYXhTdWJzY3JpcHRpb25zLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHN1YnNjcmlwdGlvbnMgYW5kIHN0b3AgbGlzdGVuaW5nLlxuICAgKi9cbiAgYXN5bmMgY2xlYXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gU3RvcCBsaXN0ZW5pbmdcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcblxuICAgIC8vIENsZWFyIGRlYm91bmNlIHRpbWVyXG4gICAgaWYgKHRoaXMuZGVib3VuY2VUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XG4gICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFVuc3Vic2NyaWJlIGZyb20gYWxsIGVudGl0aWVzXG4gICAgaWYgKHRoaXMuc3Vic2NyaWJlZEVudGl0aWVzLnNpemUgPiAwKSB7XG4gICAgICBhd2FpdCB0aGlzLnVuc3Vic2NyaWJlRnJvbUVudGl0aWVzKEFycmF5LmZyb20odGhpcy5zdWJzY3JpYmVkRW50aXRpZXMpKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBzZXRzXG4gICAgdGhpcy52aXNpYmxlRW50aXRpZXMuY2xlYXIoKTtcbiAgICB0aGlzLnN1YnNjcmliZWRFbnRpdGllcy5jbGVhcigpO1xuICAgIFxuICAgIGxvZ2dlci5pbmZvKCdDbGVhcmVkIGFsbCBzdWJzY3JpcHRpb25zJyk7XG4gIH1cbn0iLCIvKipcbiAqIEJhc2UgbGF5b3V0IGNsYXNzIGZvciBEYXNodmlldyBWMiBkYXNoYm9hcmQgbGF5b3V0cy5cbiAqIFByb3ZpZGVzIGdyaWQgc3lzdGVtIGFuZCByZXNwb25zaXZlIGJyZWFrcG9pbnQgaGFuZGxpbmcuXG4gKi9cblxuaW1wb3J0IHsgV2lkZ2V0Q29uZmlnIH0gZnJvbSAnLi4vY29yZS93aWRnZXQtYmFzZSc7XG5cbmV4cG9ydCB0eXBlIEJyZWFrcG9pbnQgPSAnbW9iaWxlJyB8ICd0YWJsZXQnIHwgJ2Rlc2t0b3AnIHwgJ2xhcmdlJztcblxuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb25maWcge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIG1pbkFyZWFzOiBudW1iZXI7XG4gIG1heEFyZWFzOiBudW1iZXI7XG4gIGJyZWFrcG9pbnRzOiB7XG4gICAgbW9iaWxlOiBudW1iZXI7ICAgIC8vIDwgNzY4cHhcbiAgICB0YWJsZXQ6IG51bWJlcjsgICAgLy8gNzY4cHggLSAxMDIzcHhcbiAgICBkZXNrdG9wOiBudW1iZXI7ICAgLy8gMTAyNHB4IC0gMTQzOXB4XG4gICAgbGFyZ2U6IG51bWJlcjsgICAgIC8vID49IDE0NDBweFxuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRBcmVhIHtcbiAgbmFtZTogc3RyaW5nO1xuICBncmlkQXJlYTogc3RyaW5nO1xuICBtaW5XaWRnZXRzPzogbnVtYmVyO1xuICBtYXhXaWRnZXRzPzogbnVtYmVyO1xuICB3aWRnZXRUeXBlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpZGdldFBvc2l0aW9uIHtcbiAgd2lkZ2V0SWQ6IHN0cmluZztcbiAgZ3JpZEFyZWE6IHN0cmluZztcbiAgZ3JpZENvbHVtbj86IHN0cmluZztcbiAgZ3JpZFJvdz86IHN0cmluZztcbiAgb3JkZXI/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlTGF5b3V0IHtcbiAgcHJvdGVjdGVkIGNvbmZpZzogTGF5b3V0Q29uZmlnO1xuICBwcm90ZWN0ZWQgY3VycmVudEJyZWFrcG9pbnQ6IEJyZWFrcG9pbnQgPSAnZGVza3RvcCc7XG4gIHByb3RlY3RlZCBjb250YWluZXJXaWR0aCA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25maWcgPSB0aGlzLmdldExheW91dENvbmZpZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsYXlvdXQgY29uZmlndXJhdGlvbi5cbiAgICogTXVzdCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc2VzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldExheW91dENvbmZpZygpOiBMYXlvdXRDb25maWc7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIENTUyBncmlkIHRlbXBsYXRlIGZvciBjdXJyZW50IGJyZWFrcG9pbnQuXG4gICAqL1xuICBhYnN0cmFjdCBnZW5lcmF0ZUdyaWRUZW1wbGF0ZShicmVha3BvaW50OiBCcmVha3BvaW50KTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgd2lkZ2V0IHBvc2l0aW9ucyBiYXNlZCBvbiBhdmFpbGFibGUgd2lkZ2V0cyBhbmQgYXJlYXMuXG4gICAqL1xuICBhYnN0cmFjdCBjYWxjdWxhdGVXaWRnZXRQb3NpdGlvbnMoXG4gICAgd2lkZ2V0czogV2lkZ2V0Q29uZmlnW10sXG4gICAgYXJlYUNvdW50OiBudW1iZXJcbiAgKTogV2lkZ2V0UG9zaXRpb25bXTtcblxuICAvKipcbiAgICogR2V0IGdyaWQgYXJlYXMgZGVmaW5pdGlvbiBmb3IgY3VycmVudCBicmVha3BvaW50LlxuICAgKi9cbiAgYWJzdHJhY3QgZ2V0R3JpZEFyZWFzKGJyZWFrcG9pbnQ6IEJyZWFrcG9pbnQpOiBHcmlkQXJlYVtdO1xuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBicmVha3BvaW50IGJhc2VkIG9uIGNvbnRhaW5lciB3aWR0aC5cbiAgICovXG4gIGdldEJyZWFrcG9pbnQod2lkdGg/OiBudW1iZXIpOiBCcmVha3BvaW50IHtcbiAgICBjb25zdCB3ID0gd2lkdGggfHwgdGhpcy5jb250YWluZXJXaWR0aDtcbiAgICBcbiAgICBpZiAodyA8IHRoaXMuY29uZmlnLmJyZWFrcG9pbnRzLnRhYmxldCkge1xuICAgICAgcmV0dXJuICdtb2JpbGUnO1xuICAgIH0gZWxzZSBpZiAodyA8IHRoaXMuY29uZmlnLmJyZWFrcG9pbnRzLmRlc2t0b3ApIHtcbiAgICAgIHJldHVybiAndGFibGV0JztcbiAgICB9IGVsc2UgaWYgKHcgPCB0aGlzLmNvbmZpZy5icmVha3BvaW50cy5sYXJnZSkge1xuICAgICAgcmV0dXJuICdkZXNrdG9wJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdsYXJnZSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb250YWluZXIgd2lkdGggYW5kIHJldHVybiBpZiBicmVha3BvaW50IGNoYW5nZWQuXG4gICAqL1xuICB1cGRhdGVDb250YWluZXJXaWR0aCh3aWR0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgdGhpcy5jb250YWluZXJXaWR0aCA9IHdpZHRoO1xuICAgIGNvbnN0IG5ld0JyZWFrcG9pbnQgPSB0aGlzLmdldEJyZWFrcG9pbnQod2lkdGgpO1xuICAgIFxuICAgIGlmIChuZXdCcmVha3BvaW50ICE9PSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KSB7XG4gICAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gbmV3QnJlYWtwb2ludDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG51bWJlciBvZiBjb2x1bW5zIGZvciBjdXJyZW50IGJyZWFrcG9pbnQuXG4gICAqL1xuICBnZXRDb2x1bW5Db3VudChicmVha3BvaW50PzogQnJlYWtwb2ludCk6IG51bWJlciB7XG4gICAgY29uc3QgYnAgPSBicmVha3BvaW50IHx8IHRoaXMuY3VycmVudEJyZWFrcG9pbnQ7XG4gICAgXG4gICAgc3dpdGNoIChicCkge1xuICAgICAgY2FzZSAnbW9iaWxlJzpcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgICBjYXNlICd0YWJsZXQnOlxuICAgICAgICByZXR1cm4gODtcbiAgICAgIGNhc2UgJ2Rlc2t0b3AnOlxuICAgICAgICByZXR1cm4gMTI7XG4gICAgICBjYXNlICdsYXJnZSc6XG4gICAgICAgIHJldHVybiAxMjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAxMjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGdyaWQgZ2FwIHNpemUgZm9yIGN1cnJlbnQgYnJlYWtwb2ludC5cbiAgICovXG4gIGdldEdyaWRHYXAoYnJlYWtwb2ludD86IEJyZWFrcG9pbnQpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJwID0gYnJlYWtwb2ludCB8fCB0aGlzLmN1cnJlbnRCcmVha3BvaW50O1xuICAgIFxuICAgIHN3aXRjaCAoYnApIHtcbiAgICAgIGNhc2UgJ21vYmlsZSc6XG4gICAgICAgIHJldHVybiAnOHB4JztcbiAgICAgIGNhc2UgJ3RhYmxldCc6XG4gICAgICAgIHJldHVybiAnMTJweCc7XG4gICAgICBjYXNlICdkZXNrdG9wJzpcbiAgICAgICAgcmV0dXJuICcxNnB4JztcbiAgICAgIGNhc2UgJ2xhcmdlJzpcbiAgICAgICAgcmV0dXJuICcyMHB4JztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnMTZweCc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb250YWluZXIgcGFkZGluZyBmb3IgY3VycmVudCBicmVha3BvaW50LlxuICAgKi9cbiAgZ2V0Q29udGFpbmVyUGFkZGluZyhicmVha3BvaW50PzogQnJlYWtwb2ludCk6IHN0cmluZyB7XG4gICAgY29uc3QgYnAgPSBicmVha3BvaW50IHx8IHRoaXMuY3VycmVudEJyZWFrcG9pbnQ7XG4gICAgXG4gICAgc3dpdGNoIChicCkge1xuICAgICAgY2FzZSAnbW9iaWxlJzpcbiAgICAgICAgcmV0dXJuICc4cHgnO1xuICAgICAgY2FzZSAndGFibGV0JzpcbiAgICAgICAgcmV0dXJuICcxNnB4JztcbiAgICAgIGNhc2UgJ2Rlc2t0b3AnOlxuICAgICAgICByZXR1cm4gJzI0cHgnO1xuICAgICAgY2FzZSAnbGFyZ2UnOlxuICAgICAgICByZXR1cm4gJzMycHgnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcyNHB4JztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbGF5b3V0IGlzIHN1aXRhYmxlIGZvciBnaXZlbiBhcmVhIGNvdW50LlxuICAgKi9cbiAgaXNTdWl0YWJsZUZvckFyZWFDb3VudChhcmVhQ291bnQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhcmVhQ291bnQgPj0gdGhpcy5jb25maWcubWluQXJlYXMgJiYgXG4gICAgICAgICAgIGFyZWFDb3VudCA8PSB0aGlzLmNvbmZpZy5tYXhBcmVhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTb3J0IHdpZGdldHMgYnkgcHJpb3JpdHkgZm9yIHBsYWNlbWVudC5cbiAgICovXG4gIHByb3RlY3RlZCBzb3J0V2lkZ2V0c0J5UHJpb3JpdHkod2lkZ2V0czogV2lkZ2V0Q29uZmlnW10pOiBXaWRnZXRDb25maWdbXSB7XG4gICAgLy8gUHJpb3JpdHkgb3JkZXI6IHJvb20gPiBjbGltYXRlID4gZGV2aWNlLWdyb3VwID4gcXVpY2stY29udHJvbHNcbiAgICBjb25zdCBwcmlvcml0eU1hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICAgICdyb29tJzogNCxcbiAgICAgICdjbGltYXRlJzogMyxcbiAgICAgICdkZXZpY2UtZ3JvdXAnOiAyLFxuICAgICAgJ3F1aWNrLWNvbnRyb2xzJzogMSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIFsuLi53aWRnZXRzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBwcmlvcml0eUEgPSBwcmlvcml0eU1hcFthLnR5cGVdIHx8IDA7XG4gICAgICBjb25zdCBwcmlvcml0eUIgPSBwcmlvcml0eU1hcFtiLnR5cGVdIHx8IDA7XG4gICAgICBcbiAgICAgIC8vIFNvcnQgYnkgcHJpb3JpdHkgZmlyc3RcbiAgICAgIGlmIChwcmlvcml0eUEgIT09IHByaW9yaXR5Qikge1xuICAgICAgICByZXR1cm4gcHJpb3JpdHlCIC0gcHJpb3JpdHlBO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBUaGVuIGJ5IGVudGl0eSBjb3VudFxuICAgICAgcmV0dXJuIGIuZW50aXRpZXMubGVuZ3RoIC0gYS5lbnRpdGllcy5sZW5ndGg7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgd2lkZ2V0cyBieSB0eXBlLlxuICAgKi9cbiAgcHJvdGVjdGVkIGdyb3VwV2lkZ2V0c0J5VHlwZSh3aWRnZXRzOiBXaWRnZXRDb25maWdbXSk6IE1hcDxzdHJpbmcsIFdpZGdldENvbmZpZ1tdPiB7XG4gICAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIFdpZGdldENvbmZpZ1tdPigpO1xuICAgIFxuICAgIGZvciAoY29uc3Qgd2lkZ2V0IG9mIHdpZGdldHMpIHtcbiAgICAgIGNvbnN0IHR5cGUgPSB3aWRnZXQudHlwZTtcbiAgICAgIGlmICghZ3JvdXBzLmhhcyh0eXBlKSkge1xuICAgICAgICBncm91cHMuc2V0KHR5cGUsIFtdKTtcbiAgICAgIH1cbiAgICAgIGdyb3Vwcy5nZXQodHlwZSkhLnB1c2god2lkZ2V0KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGdyb3VwcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBDU1MgZm9yIGdyaWQgdGVtcGxhdGUuXG4gICAqL1xuICBnZW5lcmF0ZUdyaWRDU1MoYnJlYWtwb2ludD86IEJyZWFrcG9pbnQpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJwID0gYnJlYWtwb2ludCB8fCB0aGlzLmN1cnJlbnRCcmVha3BvaW50O1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5nZW5lcmF0ZUdyaWRUZW1wbGF0ZShicCk7XG4gICAgY29uc3QgZ2FwID0gdGhpcy5nZXRHcmlkR2FwKGJwKTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5nZXRDb250YWluZXJQYWRkaW5nKGJwKTtcbiAgICBcbiAgICByZXR1cm4gYFxuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGU6ICR7dGVtcGxhdGV9O1xuICAgICAgZ2FwOiAke2dhcH07XG4gICAgICBwYWRkaW5nOiAke3BhZGRpbmd9O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxheW91dCBtZXRhZGF0YS5cbiAgICovXG4gIGdldE1ldGFkYXRhKCk6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjdXJyZW50QnJlYWtwb2ludDogQnJlYWtwb2ludDtcbiAgICBzdXBwb3J0ZWRBcmVhUmFuZ2U6IFtudW1iZXIsIG51bWJlcl07XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgICAgY3VycmVudEJyZWFrcG9pbnQ6IHRoaXMuY3VycmVudEJyZWFrcG9pbnQsXG4gICAgICBzdXBwb3J0ZWRBcmVhUmFuZ2U6IFt0aGlzLmNvbmZpZy5taW5BcmVhcywgdGhpcy5jb25maWcubWF4QXJlYXNdLFxuICAgIH07XG4gIH1cbn0iLCIvKipcbiAqIFN0YW5kYXJkIGxheW91dCBmb3IgMi0zIGJlZHJvb20gaG9tZXMuXG4gKiBPcHRpbWl6ZWQgZ3JpZCBsYXlvdXQgd2l0aCByb29tIHdpZGdldHMgaW4gbWFpbiBhcmVhLFxuICogZGV2aWNlIGdyb3VwcyBpbiBzaWRlYmFyLCBjbGltYXRlIGluIGhlYWRlciwgYW5kIHF1aWNrIGNvbnRyb2xzIGluIGZvb3Rlci5cbiAqL1xuXG5pbXBvcnQgeyBCYXNlTGF5b3V0LCBCcmVha3BvaW50LCBHcmlkQXJlYSwgTGF5b3V0Q29uZmlnLCBXaWRnZXRQb3NpdGlvbiB9IGZyb20gJy4vYmFzZS1sYXlvdXQnO1xuaW1wb3J0IHsgV2lkZ2V0Q29uZmlnIH0gZnJvbSAnLi4vY29yZS93aWRnZXQtYmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBTdGFuZGFyZExheW91dCBleHRlbmRzIEJhc2VMYXlvdXQge1xuICBwcm90ZWN0ZWQgZ2V0TGF5b3V0Q29uZmlnKCk6IExheW91dENvbmZpZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICdTdGFuZGFyZCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ09wdGltaXplZCBsYXlvdXQgZm9yIDItMyBiZWRyb29tIGhvbWVzJyxcbiAgICAgIG1pbkFyZWFzOiAyLFxuICAgICAgbWF4QXJlYXM6IDUsXG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICBtb2JpbGU6IDc2OCxcbiAgICAgICAgdGFibGV0OiAxMDI0LFxuICAgICAgICBkZXNrdG9wOiAxNDQwLFxuICAgICAgICBsYXJnZTogMTkyMCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGdlbmVyYXRlR3JpZFRlbXBsYXRlKGJyZWFrcG9pbnQ6IEJyZWFrcG9pbnQpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoYnJlYWtwb2ludCkge1xuICAgICAgY2FzZSAnbW9iaWxlJzpcbiAgICAgICAgLy8gU2luZ2xlIGNvbHVtbiBsYXlvdXRcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICBcImhlYWRlclwiIGF1dG9cbiAgICAgICAgICBcIm1haW5cIiAxZnJcbiAgICAgICAgICBcInNpZGViYXJcIiBhdXRvXG4gICAgICAgICAgXCJmb290ZXJcIiBhdXRvXG4gICAgICAgICAgLyAxZnJcbiAgICAgICAgYDtcbiAgICAgIFxuICAgICAgY2FzZSAndGFibGV0JzpcbiAgICAgICAgLy8gVHdvIGNvbHVtbiBsYXlvdXRcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICBcImhlYWRlciBoZWFkZXJcIiBhdXRvXG4gICAgICAgICAgXCJtYWluIG1haW5cIiAxZnJcbiAgICAgICAgICBcInNpZGViYXIgc2lkZWJhclwiIGF1dG9cbiAgICAgICAgICBcImZvb3RlciBmb290ZXJcIiBhdXRvXG4gICAgICAgICAgLyAxZnIgMWZyXG4gICAgICAgIGA7XG4gICAgICBcbiAgICAgIGNhc2UgJ2Rlc2t0b3AnOlxuICAgICAgICAvLyBUaHJlZSBjb2x1bW4gbGF5b3V0IHdpdGggc2lkZWJhclxuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgIFwiaGVhZGVyIGhlYWRlciBoZWFkZXJcIiBhdXRvXG4gICAgICAgICAgXCJtYWluIG1haW4gc2lkZWJhclwiIDFmclxuICAgICAgICAgIFwiZm9vdGVyIGZvb3RlciBmb290ZXJcIiBhdXRvXG4gICAgICAgICAgLyAxZnIgMWZyIG1pbm1heCgyODBweCwgMC41ZnIpXG4gICAgICAgIGA7XG4gICAgICBcbiAgICAgIGNhc2UgJ2xhcmdlJzpcbiAgICAgICAgLy8gVGhyZWUgY29sdW1uIGxheW91dCB3aXRoIGxhcmdlciBzaWRlYmFyXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgXCJoZWFkZXIgaGVhZGVyIGhlYWRlclwiIGF1dG9cbiAgICAgICAgICBcIm1haW4gbWFpbiBzaWRlYmFyXCIgMWZyXG4gICAgICAgICAgXCJmb290ZXIgZm9vdGVyIGZvb3RlclwiIGF1dG9cbiAgICAgICAgICAvIDFmciAxZnIgbWlubWF4KDMyMHB4LCAwLjZmcilcbiAgICAgICAgYDtcbiAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVHcmlkVGVtcGxhdGUoJ2Rlc2t0b3AnKTtcbiAgICB9XG4gIH1cblxuICBnZXRHcmlkQXJlYXMoYnJlYWtwb2ludDogQnJlYWtwb2ludCk6IEdyaWRBcmVhW10ge1xuICAgIGNvbnN0IGFyZWFzOiBHcmlkQXJlYVtdID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnaGVhZGVyJyxcbiAgICAgICAgZ3JpZEFyZWE6ICdoZWFkZXInLFxuICAgICAgICBtaW5XaWRnZXRzOiAwLFxuICAgICAgICBtYXhXaWRnZXRzOiAyLFxuICAgICAgICB3aWRnZXRUeXBlczogWydjbGltYXRlJywgJ3F1aWNrLWNvbnRyb2xzJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnbWFpbicsXG4gICAgICAgIGdyaWRBcmVhOiAnbWFpbicsXG4gICAgICAgIG1pbldpZGdldHM6IDEsXG4gICAgICAgIG1heFdpZGdldHM6IDYsXG4gICAgICAgIHdpZGdldFR5cGVzOiBbJ3Jvb20nXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdzaWRlYmFyJyxcbiAgICAgICAgZ3JpZEFyZWE6ICdzaWRlYmFyJyxcbiAgICAgICAgbWluV2lkZ2V0czogMCxcbiAgICAgICAgbWF4V2lkZ2V0czogNCxcbiAgICAgICAgd2lkZ2V0VHlwZXM6IFsnZGV2aWNlLWdyb3VwJywgJ3F1aWNrLWNvbnRyb2xzJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnZm9vdGVyJyxcbiAgICAgICAgZ3JpZEFyZWE6ICdmb290ZXInLFxuICAgICAgICBtaW5XaWRnZXRzOiAwLFxuICAgICAgICBtYXhXaWRnZXRzOiAxLFxuICAgICAgICB3aWRnZXRUeXBlczogWydxdWljay1jb250cm9scyddLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgLy8gQWRqdXN0IGZvciBtb2JpbGVcbiAgICBpZiAoYnJlYWtwb2ludCA9PT0gJ21vYmlsZScpIHtcbiAgICAgIC8vIE9uIG1vYmlsZSwgZXZlcnl0aGluZyBzdGFja3MgdmVydGljYWxseVxuICAgICAgYXJlYXMuZm9yRWFjaChhcmVhID0+IHtcbiAgICAgICAgaWYgKGFyZWEubmFtZSA9PT0gJ21haW4nKSB7XG4gICAgICAgICAgYXJlYS5tYXhXaWRnZXRzID0gNDsgLy8gTGltaXQgcm9vbSB3aWRnZXRzIG9uIG1vYmlsZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJlYXM7XG4gIH1cblxuICBjYWxjdWxhdGVXaWRnZXRQb3NpdGlvbnMoXG4gICAgd2lkZ2V0czogV2lkZ2V0Q29uZmlnW10sXG4gICAgYXJlYUNvdW50OiBudW1iZXJcbiAgKTogV2lkZ2V0UG9zaXRpb25bXSB7XG4gICAgY29uc3QgcG9zaXRpb25zOiBXaWRnZXRQb3NpdGlvbltdID0gW107XG4gICAgY29uc3Qgc29ydGVkV2lkZ2V0cyA9IHRoaXMuc29ydFdpZGdldHNCeVByaW9yaXR5KHdpZGdldHMpO1xuICAgIGNvbnN0IHdpZGdldHNCeVR5cGUgPSB0aGlzLmdyb3VwV2lkZ2V0c0J5VHlwZShzb3J0ZWRXaWRnZXRzKTtcbiAgICBcbiAgICAvLyBQbGFjZSBjbGltYXRlIHdpZGdldHMgaW4gaGVhZGVyXG4gICAgY29uc3QgY2xpbWF0ZVdpZGdldHMgPSB3aWRnZXRzQnlUeXBlLmdldCgnY2xpbWF0ZScpIHx8IFtdO1xuICAgIGNsaW1hdGVXaWRnZXRzLnNsaWNlKDAsIDEpLmZvckVhY2goKHdpZGdldCwgaW5kZXgpID0+IHtcbiAgICAgIHBvc2l0aW9ucy5wdXNoKHtcbiAgICAgICAgd2lkZ2V0SWQ6IHRoaXMuZ2VuZXJhdGVXaWRnZXRJZCh3aWRnZXQpLFxuICAgICAgICBncmlkQXJlYTogJ2hlYWRlcicsXG4gICAgICAgIG9yZGVyOiBpbmRleCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gUGxhY2Ugcm9vbSB3aWRnZXRzIGluIG1haW4gYXJlYVxuICAgIGNvbnN0IHJvb21XaWRnZXRzID0gd2lkZ2V0c0J5VHlwZS5nZXQoJ3Jvb20nKSB8fCBbXTtcbiAgICBjb25zdCBtYWluQ29sdW1ucyA9IHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPT09ICdtb2JpbGUnID8gMSA6IDI7XG4gICAgY29uc3QgbWFpblJvd3MgPSBNYXRoLmNlaWwocm9vbVdpZGdldHMubGVuZ3RoIC8gbWFpbkNvbHVtbnMpO1xuICAgIFxuICAgIHJvb21XaWRnZXRzLnNsaWNlKDAsIDYpLmZvckVhY2goKHdpZGdldCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGNvbCA9IChpbmRleCAlIG1haW5Db2x1bW5zKSArIDE7XG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKGluZGV4IC8gbWFpbkNvbHVtbnMpICsgMTtcbiAgICAgIFxuICAgICAgcG9zaXRpb25zLnB1c2goe1xuICAgICAgICB3aWRnZXRJZDogdGhpcy5nZW5lcmF0ZVdpZGdldElkKHdpZGdldCksXG4gICAgICAgIGdyaWRBcmVhOiAnbWFpbicsXG4gICAgICAgIGdyaWRDb2x1bW46IHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPT09ICdtb2JpbGUnIFxuICAgICAgICAgID8gJzEnIFxuICAgICAgICAgIDogYCR7Y29sfSAvIHNwYW4gMWAsXG4gICAgICAgIGdyaWRSb3c6IGAke3Jvd30gLyBzcGFuIDFgLFxuICAgICAgICBvcmRlcjogaW5kZXgsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFBsYWNlIGRldmljZSBncm91cHMgaW4gc2lkZWJhclxuICAgIGNvbnN0IGRldmljZUdyb3VwcyA9IHdpZGdldHNCeVR5cGUuZ2V0KCdkZXZpY2UtZ3JvdXAnKSB8fCBbXTtcbiAgICBkZXZpY2VHcm91cHMuc2xpY2UoMCwgMykuZm9yRWFjaCgod2lkZ2V0LCBpbmRleCkgPT4ge1xuICAgICAgcG9zaXRpb25zLnB1c2goe1xuICAgICAgICB3aWRnZXRJZDogdGhpcy5nZW5lcmF0ZVdpZGdldElkKHdpZGdldCksXG4gICAgICAgIGdyaWRBcmVhOiAnc2lkZWJhcicsXG4gICAgICAgIG9yZGVyOiBpbmRleCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gUGxhY2UgcXVpY2sgY29udHJvbHNcbiAgICBjb25zdCBxdWlja0NvbnRyb2xzID0gd2lkZ2V0c0J5VHlwZS5nZXQoJ3F1aWNrLWNvbnRyb2xzJykgfHwgW107XG4gICAgaWYgKHF1aWNrQ29udHJvbHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gRmlyc3QgcXVpY2sgY29udHJvbHMgaW4gZm9vdGVyXG4gICAgICBwb3NpdGlvbnMucHVzaCh7XG4gICAgICAgIHdpZGdldElkOiB0aGlzLmdlbmVyYXRlV2lkZ2V0SWQocXVpY2tDb250cm9sc1swXSksXG4gICAgICAgIGdyaWRBcmVhOiAnZm9vdGVyJyxcbiAgICAgICAgb3JkZXI6IDAsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQWRkaXRpb25hbCBxdWljayBjb250cm9scyBpbiBzaWRlYmFyXG4gICAgICBxdWlja0NvbnRyb2xzLnNsaWNlKDEsIDMpLmZvckVhY2goKHdpZGdldCwgaW5kZXgpID0+IHtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goe1xuICAgICAgICAgIHdpZGdldElkOiB0aGlzLmdlbmVyYXRlV2lkZ2V0SWQod2lkZ2V0KSxcbiAgICAgICAgICBncmlkQXJlYTogJ3NpZGViYXInLFxuICAgICAgICAgIG9yZGVyOiBkZXZpY2VHcm91cHMubGVuZ3RoICsgaW5kZXgsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHVuaXF1ZSB3aWRnZXQgSUQuXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlV2lkZ2V0SWQod2lkZ2V0OiBXaWRnZXRDb25maWcpOiBzdHJpbmcge1xuICAgIC8vIFVzZSB0eXBlIGFuZCBmaXJzdCBlbnRpdHkgYXMgSURcbiAgICBjb25zdCBmaXJzdEVudGl0eSA9IHdpZGdldC5lbnRpdGllc1swXSB8fCAndW5rbm93bic7XG4gICAgcmV0dXJuIGAke3dpZGdldC50eXBlfS0ke2ZpcnN0RW50aXR5LnJlcGxhY2UoL1xcLi9nLCAnXycpfWA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlY29tbWVuZGVkIHdpZGdldCBjb25maWd1cmF0aW9uIGZvciBhcmVhIGNvdW50LlxuICAgKi9cbiAgZ2V0UmVjb21tZW5kZWRXaWRnZXRzKGFyZWFDb3VudDogbnVtYmVyKToge1xuICAgIHJvb21XaWRnZXRzOiBudW1iZXI7XG4gICAgZGV2aWNlR3JvdXBzOiBudW1iZXI7XG4gICAgY2xpbWF0ZVdpZGdldHM6IG51bWJlcjtcbiAgICBxdWlja0NvbnRyb2xzOiBudW1iZXI7XG4gIH0ge1xuICAgIC8vIEJhc2UgcmVjb21tZW5kYXRpb25zXG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgcm9vbVdpZGdldHM6IE1hdGgubWluKGFyZWFDb3VudCwgNCksXG4gICAgICBkZXZpY2VHcm91cHM6IDIsXG4gICAgICBjbGltYXRlV2lkZ2V0czogMSxcbiAgICAgIHF1aWNrQ29udHJvbHM6IDEsXG4gICAgfTtcblxuICAgIC8vIEFkanVzdCBiYXNlZCBvbiBhcmVhIGNvdW50XG4gICAgaWYgKGFyZWFDb3VudCA8PSAyKSB7XG4gICAgICAvLyBTbWFsbCBob21lOiBmZXdlciB3aWRnZXRzXG4gICAgICBjb25maWcucm9vbVdpZGdldHMgPSBhcmVhQ291bnQ7XG4gICAgICBjb25maWcuZGV2aWNlR3JvdXBzID0gMTtcbiAgICB9IGVsc2UgaWYgKGFyZWFDb3VudCA+PSA0KSB7XG4gICAgICAvLyBMYXJnZXIgaG9tZTogbW9yZSB3aWRnZXRzXG4gICAgICBjb25maWcuZGV2aWNlR3JvdXBzID0gMztcbiAgICAgIGNvbmZpZy5xdWlja0NvbnRyb2xzID0gMjtcbiAgICB9XG5cbiAgICAvLyBBZGp1c3QgZm9yIGJyZWFrcG9pbnRcbiAgICBpZiAodGhpcy5jdXJyZW50QnJlYWtwb2ludCA9PT0gJ21vYmlsZScpIHtcbiAgICAgIGNvbmZpZy5yb29tV2lkZ2V0cyA9IE1hdGgubWluKGNvbmZpZy5yb29tV2lkZ2V0cywgMyk7XG4gICAgICBjb25maWcuZGV2aWNlR3JvdXBzID0gTWF0aC5taW4oY29uZmlnLmRldmljZUdyb3VwcywgMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgQ1NTIGZvciBzcGVjaWZpYyBncmlkIGFyZWFzLlxuICAgKi9cbiAgZ2V0QXJlYVN0eWxlcyhicmVha3BvaW50PzogQnJlYWtwb2ludCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIGNvbnN0IGJwID0gYnJlYWtwb2ludCB8fCB0aGlzLmN1cnJlbnRCcmVha3BvaW50O1xuICAgIFxuICAgIGNvbnN0IGJhc2VTdHlsZXMgPSB7XG4gICAgICBoZWFkZXI6IGBcbiAgICAgICAgZ3JpZC1hcmVhOiBoZWFkZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgYCxcbiAgICAgIG1haW46IGBcbiAgICAgICAgZ3JpZC1hcmVhOiBtYWluO1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIGFsaWduLWNvbnRlbnQ6IHN0YXJ0O1xuICAgICAgYCxcbiAgICAgIHNpZGViYXI6IGBcbiAgICAgICAgZ3JpZC1hcmVhOiBzaWRlYmFyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDE2cHg7XG4gICAgICBgLFxuICAgICAgZm9vdGVyOiBgXG4gICAgICAgIGdyaWQtYXJlYTogZm9vdGVyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGAsXG4gICAgfTtcblxuICAgIC8vIEFkanVzdCBtYWluIGdyaWQgZm9yIGRpZmZlcmVudCBicmVha3BvaW50c1xuICAgIGlmIChicCA9PT0gJ21vYmlsZScpIHtcbiAgICAgIGJhc2VTdHlsZXMubWFpbiArPSBgXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVN0eWxlcy5tYWluICs9IGBcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICAgIGA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhc2VTdHlsZXM7XG4gIH1cbn0iLCIvKipcbiAqIExheW91dCBlbmdpbmUgZm9yIERhc2h2aWV3IFYyLlxuICogSGFuZGxlcyBsYXlvdXQgc2VsZWN0aW9uLCB3aWRnZXQgb3JnYW5pemF0aW9uLCBhbmQgb3ZlcmZsb3cgbWFuYWdlbWVudC5cbiAqL1xuXG5pbXBvcnQgeyBCYXNlTGF5b3V0LCBCcmVha3BvaW50LCBXaWRnZXRQb3NpdGlvbiB9IGZyb20gJy4vYmFzZS1sYXlvdXQnO1xuaW1wb3J0IHsgU3RhbmRhcmRMYXlvdXQgfSBmcm9tICcuL3N0YW5kYXJkLWxheW91dCc7XG5pbXBvcnQgeyBXaWRnZXRDb25maWcgfSBmcm9tICcuLi9jb3JlL3dpZGdldC1iYXNlJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ0xheW91dEVuZ2luZScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFyZWFJbmZvIHtcbiAgYXJlYUlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZW50aXRpZXM6IHN0cmluZ1tdO1xuICBlbnRpdHlDb3VudDogbnVtYmVyO1xuICBkZXZpY2VDb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dEVuZ2luZUNvbmZpZyB7XG4gIG1heFdpZGdldHNQZXJBcmVhOiBudW1iZXI7XG4gIHByaW9yaXRpemVCeVVzYWdlOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RW5naW5lIHtcbiAgcHJpdmF0ZSBsYXlvdXRzOiBNYXA8c3RyaW5nLCBCYXNlTGF5b3V0PjtcbiAgcHJpdmF0ZSBjdXJyZW50TGF5b3V0OiBCYXNlTGF5b3V0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY29uZmlnOiBSZXF1aXJlZDxMYXlvdXRFbmdpbmVDb25maWc+O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogUGFydGlhbDxMYXlvdXRFbmdpbmVDb25maWc+ID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIG1heFdpZGdldHNQZXJBcmVhOiBjb25maWcubWF4V2lkZ2V0c1BlckFyZWEgPz8gMixcbiAgICAgIHByaW9yaXRpemVCeVVzYWdlOiBjb25maWcucHJpb3JpdGl6ZUJ5VXNhZ2UgPz8gdHJ1ZSxcbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBhdmFpbGFibGUgbGF5b3V0c1xuICAgIHRoaXMubGF5b3V0cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlZ2lzdGVyTGF5b3V0KCdzdGFuZGFyZCcsIG5ldyBTdGFuZGFyZExheW91dCgpKTtcbiAgICBcbiAgICAvLyBGdXR1cmUgbGF5b3V0cyBjYW4gYmUgcmVnaXN0ZXJlZCBoZXJlOlxuICAgIC8vIHRoaXMucmVnaXN0ZXJMYXlvdXQoJ2NvbXBhY3QnLCBuZXcgQ29tcGFjdExheW91dCgpKTtcbiAgICAvLyB0aGlzLnJlZ2lzdGVyTGF5b3V0KCdjb21wbGV4JywgbmV3IENvbXBsZXhMYXlvdXQoKSk7XG4gICAgLy8gdGhpcy5yZWdpc3RlckxheW91dCgnZXN0YXRlJywgbmV3IEVzdGF0ZUxheW91dCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGxheW91dC5cbiAgICovXG4gIHJlZ2lzdGVyTGF5b3V0KG5hbWU6IHN0cmluZywgbGF5b3V0OiBCYXNlTGF5b3V0KTogdm9pZCB7XG4gICAgdGhpcy5sYXlvdXRzLnNldChuYW1lLCBsYXlvdXQpO1xuICAgIGxvZ2dlci5pbmZvKGBSZWdpc3RlcmVkIGxheW91dDogJHtuYW1lfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBvcHRpbWFsIGxheW91dCBiYXNlZCBvbiBjb21wbGV4aXR5IHNjb3JlLlxuICAgKi9cbiAgc2VsZWN0TGF5b3V0KGNvbXBsZXhpdHlTY29yZTogbnVtYmVyLCBhcmVhQ291bnQ6IG51bWJlcik6IEJhc2VMYXlvdXQge1xuICAgIC8vIEZvciBub3csIHdlIG9ubHkgaGF2ZSBTdGFuZGFyZExheW91dFxuICAgIC8vIEluIHRoZSBmdXR1cmUsIHRoaXMgd2lsbCBzZWxlY3QgYmFzZWQgb24gY29tcGxleGl0eVxuICAgIFxuICAgIGxldCBzZWxlY3RlZExheW91dDogQmFzZUxheW91dCB8IHVuZGVmaW5lZDtcbiAgICBsZXQgc2VsZWN0ZWROYW1lID0gJyc7XG5cbiAgICAvLyBGaW5kIHN1aXRhYmxlIGxheW91dCBmb3IgYXJlYSBjb3VudFxuICAgIGZvciAoY29uc3QgW25hbWUsIGxheW91dF0gb2YgdGhpcy5sYXlvdXRzKSB7XG4gICAgICBpZiAobGF5b3V0LmlzU3VpdGFibGVGb3JBcmVhQ291bnQoYXJlYUNvdW50KSkge1xuICAgICAgICBzZWxlY3RlZExheW91dCA9IGxheW91dDtcbiAgICAgICAgc2VsZWN0ZWROYW1lID0gbmFtZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gc3RhbmRhcmQgaWYgbm8gc3VpdGFibGUgbGF5b3V0IGZvdW5kXG4gICAgaWYgKCFzZWxlY3RlZExheW91dCkge1xuICAgICAgc2VsZWN0ZWRMYXlvdXQgPSB0aGlzLmxheW91dHMuZ2V0KCdzdGFuZGFyZCcpITtcbiAgICAgIHNlbGVjdGVkTmFtZSA9ICdzdGFuZGFyZCc7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgYE5vIHN1aXRhYmxlIGxheW91dCBmb3IgJHthcmVhQ291bnR9IGFyZWFzLCB1c2luZyBzdGFuZGFyZCBsYXlvdXRgXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudExheW91dCA9IHNlbGVjdGVkTGF5b3V0O1xuICAgIGxvZ2dlci5pbmZvKFxuICAgICAgYFNlbGVjdGVkICR7c2VsZWN0ZWROYW1lfSBsYXlvdXQgZm9yIGNvbXBsZXhpdHkgJHtjb21wbGV4aXR5U2NvcmV9IGFuZCAke2FyZWFDb3VudH0gYXJlYXNgXG4gICAgKTtcblxuICAgIHJldHVybiBzZWxlY3RlZExheW91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcmdhbml6ZSB3aWRnZXRzIGJhc2VkIG9uIGFyZWFzIGFuZCBsYXlvdXQuXG4gICAqL1xuICBvcmdhbml6ZVdpZGdldHMoYXJlYXM6IEFyZWFJbmZvW10pOiBXaWRnZXRDb25maWdbXSB7XG4gICAgY29uc3Qgd2lkZ2V0czogV2lkZ2V0Q29uZmlnW10gPSBbXTtcblxuICAgIC8vIFNvcnQgYXJlYXMgYnkgZW50aXR5IGNvdW50IGFuZCBwcmlvcml0eVxuICAgIGNvbnN0IHNvcnRlZEFyZWFzID0gdGhpcy5zb3J0QXJlYXNCeVByaW9yaXR5KGFyZWFzKTtcblxuICAgIC8vIENyZWF0ZSByb29tIHdpZGdldHMgZm9yIGVhY2ggYXJlYVxuICAgIGZvciAoY29uc3QgYXJlYSBvZiBzb3J0ZWRBcmVhcykge1xuICAgICAgaWYgKGFyZWEuZW50aXR5Q291bnQgPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCByb29tV2lkZ2V0OiBXaWRnZXRDb25maWcgPSB7XG4gICAgICAgIHR5cGU6ICdyb29tJyxcbiAgICAgICAgZW50aXRpZXM6IGFyZWEuZW50aXRpZXMsXG4gICAgICAgIHRpdGxlOiBhcmVhLm5hbWUsXG4gICAgICB9O1xuICAgICAgd2lkZ2V0cy5wdXNoKHJvb21XaWRnZXQpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBkZXZpY2UgZ3JvdXAgd2lkZ2V0c1xuICAgIGNvbnN0IGRldmljZUdyb3VwcyA9IHRoaXMuY3JlYXRlRGV2aWNlR3JvdXBzKGFyZWFzKTtcbiAgICB3aWRnZXRzLnB1c2goLi4uZGV2aWNlR3JvdXBzKTtcblxuICAgIC8vIENyZWF0ZSBjbGltYXRlIHdpZGdldCBpZiBjbGltYXRlIGVudGl0aWVzIGV4aXN0XG4gICAgY29uc3QgY2xpbWF0ZVdpZGdldCA9IHRoaXMuY3JlYXRlQ2xpbWF0ZVdpZGdldChhcmVhcyk7XG4gICAgaWYgKGNsaW1hdGVXaWRnZXQpIHtcbiAgICAgIHdpZGdldHMucHVzaChjbGltYXRlV2lkZ2V0KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcXVpY2sgY29udHJvbHMgd2lkZ2V0XG4gICAgY29uc3QgcXVpY2tDb250cm9scyA9IHRoaXMuY3JlYXRlUXVpY2tDb250cm9sc1dpZGdldChhcmVhcyk7XG4gICAgaWYgKHF1aWNrQ29udHJvbHMpIHtcbiAgICAgIHdpZGdldHMucHVzaChxdWlja0NvbnRyb2xzKTtcbiAgICB9XG5cbiAgICBsb2dnZXIuaW5mbyhgT3JnYW5pemVkICR7d2lkZ2V0cy5sZW5ndGh9IHdpZGdldHMgZnJvbSAke2FyZWFzLmxlbmd0aH0gYXJlYXNgKTtcbiAgICByZXR1cm4gd2lkZ2V0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgd2lkZ2V0IG92ZXJmbG93IGZvciBjdXJyZW50IGxheW91dC5cbiAgICovXG4gIGhhbmRsZU92ZXJmbG93KFxuICAgIHdpZGdldHM6IFdpZGdldENvbmZpZ1tdLFxuICAgIGxheW91dDogQmFzZUxheW91dCxcbiAgICBicmVha3BvaW50OiBCcmVha3BvaW50XG4gICk6IHtcbiAgICB2aXNpYmxlOiBXaWRnZXRDb25maWdbXTtcbiAgICBvdmVyZmxvdzogV2lkZ2V0Q29uZmlnW107XG4gIH0ge1xuICAgIGNvbnN0IGFyZWFzID0gbGF5b3V0LmdldEdyaWRBcmVhcyhicmVha3BvaW50KTtcbiAgICBjb25zdCB2aXNpYmxlOiBXaWRnZXRDb25maWdbXSA9IFtdO1xuICAgIGNvbnN0IG92ZXJmbG93OiBXaWRnZXRDb25maWdbXSA9IFtdO1xuICAgIFxuICAgIC8vIEdyb3VwIHdpZGdldHMgYnkgdHlwZVxuICAgIGNvbnN0IHdpZGdldHNCeVR5cGUgPSBuZXcgTWFwPHN0cmluZywgV2lkZ2V0Q29uZmlnW10+KCk7XG4gICAgZm9yIChjb25zdCB3aWRnZXQgb2Ygd2lkZ2V0cykge1xuICAgICAgaWYgKCF3aWRnZXRzQnlUeXBlLmhhcyh3aWRnZXQudHlwZSkpIHtcbiAgICAgICAgd2lkZ2V0c0J5VHlwZS5zZXQod2lkZ2V0LnR5cGUsIFtdKTtcbiAgICAgIH1cbiAgICAgIHdpZGdldHNCeVR5cGUuZ2V0KHdpZGdldC50eXBlKSEucHVzaCh3aWRnZXQpO1xuICAgIH1cblxuICAgIC8vIFBsYWNlIHdpZGdldHMgYWNjb3JkaW5nIHRvIGFyZWEgY29uc3RyYWludHNcbiAgICBmb3IgKGNvbnN0IGFyZWEgb2YgYXJlYXMpIHtcbiAgICAgIGxldCByZW1haW5pbmdTbG90cyA9IGFyZWEubWF4V2lkZ2V0cyB8fCA5OTk7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3Qgd2lkZ2V0VHlwZSBvZiBhcmVhLndpZGdldFR5cGVzIHx8IFtdKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZGdldHMgPSB3aWRnZXRzQnlUeXBlLmdldCh3aWRnZXRUeXBlKSB8fCBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3Qgd2lkZ2V0IG9mIGF2YWlsYWJsZVdpZGdldHMpIHtcbiAgICAgICAgICBpZiAocmVtYWluaW5nU2xvdHMgPiAwICYmICF2aXNpYmxlLmluY2x1ZGVzKHdpZGdldCkpIHtcbiAgICAgICAgICAgIHZpc2libGUucHVzaCh3aWRnZXQpO1xuICAgICAgICAgICAgcmVtYWluaW5nU2xvdHMtLTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF2aXNpYmxlLmluY2x1ZGVzKHdpZGdldCkgJiYgIW92ZXJmbG93LmluY2x1ZGVzKHdpZGdldCkpIHtcbiAgICAgICAgICAgIG92ZXJmbG93LnB1c2god2lkZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dnZXIuaW5mbyhcbiAgICAgIGBMYXlvdXQgb3ZlcmZsb3c6ICR7dmlzaWJsZS5sZW5ndGh9IHZpc2libGUsICR7b3ZlcmZsb3cubGVuZ3RofSBvdmVyZmxvd2BcbiAgICApO1xuXG4gICAgcmV0dXJuIHsgdmlzaWJsZSwgb3ZlcmZsb3cgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTb3J0IGFyZWFzIGJ5IHByaW9yaXR5LlxuICAgKi9cbiAgcHJpdmF0ZSBzb3J0QXJlYXNCeVByaW9yaXR5KGFyZWFzOiBBcmVhSW5mb1tdKTogQXJlYUluZm9bXSB7XG4gICAgcmV0dXJuIFsuLi5hcmVhc10uc29ydCgoYSwgYikgPT4ge1xuICAgICAgLy8gUHJpb3JpdGl6ZSBuYW1lZCBhcmVhcyBvdmVyIFwidW5hc3NpZ25lZFwiXG4gICAgICBpZiAoYS5hcmVhSWQgPT09ICd1bmFzc2lnbmVkJykgcmV0dXJuIDE7XG4gICAgICBpZiAoYi5hcmVhSWQgPT09ICd1bmFzc2lnbmVkJykgcmV0dXJuIC0xO1xuXG4gICAgICAvLyBQcmlvcml0aXplIGJ5IGVudGl0eSBjb3VudFxuICAgICAgaWYgKGEuZW50aXR5Q291bnQgIT09IGIuZW50aXR5Q291bnQpIHtcbiAgICAgICAgcmV0dXJuIGIuZW50aXR5Q291bnQgLSBhLmVudGl0eUNvdW50O1xuICAgICAgfVxuXG4gICAgICAvLyBUaGVuIGJ5IGRldmljZSBjb3VudFxuICAgICAgcmV0dXJuIGIuZGV2aWNlQ291bnQgLSBhLmRldmljZUNvdW50O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBkZXZpY2UgZ3JvdXAgd2lkZ2V0cy5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlRGV2aWNlR3JvdXBzKGFyZWFzOiBBcmVhSW5mb1tdKTogV2lkZ2V0Q29uZmlnW10ge1xuICAgIGNvbnN0IGdyb3VwczogV2lkZ2V0Q29uZmlnW10gPSBbXTtcbiAgICBjb25zdCBhbGxFbnRpdGllczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIENvbGxlY3QgYWxsIGVudGl0aWVzXG4gICAgZm9yIChjb25zdCBhcmVhIG9mIGFyZWFzKSB7XG4gICAgICBhbGxFbnRpdGllcy5wdXNoKC4uLmFyZWEuZW50aXRpZXMpO1xuICAgIH1cblxuICAgIC8vIEdyb3VwIGJ5IGRvbWFpblxuICAgIGNvbnN0IGVudGl0eUJ5RG9tYWluID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xuICAgIGZvciAoY29uc3QgZW50aXR5SWQgb2YgYWxsRW50aXRpZXMpIHtcbiAgICAgIGNvbnN0IGRvbWFpbiA9IGVudGl0eUlkLnNwbGl0KCcuJylbMF07XG4gICAgICBpZiAoIWVudGl0eUJ5RG9tYWluLmhhcyhkb21haW4pKSB7XG4gICAgICAgIGVudGl0eUJ5RG9tYWluLnNldChkb21haW4sIFtdKTtcbiAgICAgIH1cbiAgICAgIGVudGl0eUJ5RG9tYWluLmdldChkb21haW4pIS5wdXNoKGVudGl0eUlkKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgZ3JvdXBzIGZvciBzcGVjaWZpYyBkb21haW5zXG4gICAgY29uc3QgZ3JvdXBhYmxlRG9tYWlucyA9IFsnbGlnaHQnLCAnc3dpdGNoJywgJ2NvdmVyJywgJ2ZhbiddO1xuICAgIFxuICAgIGZvciAoY29uc3QgZG9tYWluIG9mIGdyb3VwYWJsZURvbWFpbnMpIHtcbiAgICAgIGNvbnN0IGVudGl0aWVzID0gZW50aXR5QnlEb21haW4uZ2V0KGRvbWFpbikgfHwgW107XG4gICAgICBpZiAoZW50aXRpZXMubGVuZ3RoID49IDMpIHsgIC8vIE9ubHkgY3JlYXRlIGdyb3VwIGlmIGVub3VnaCBlbnRpdGllc1xuICAgICAgICBncm91cHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2RldmljZS1ncm91cCcsXG4gICAgICAgICAgZW50aXRpZXM6IGVudGl0aWVzLFxuICAgICAgICAgIHRpdGxlOiBgQWxsICR7ZG9tYWlufXNgLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JvdXBzO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBjbGltYXRlIHdpZGdldC5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQ2xpbWF0ZVdpZGdldChhcmVhczogQXJlYUluZm9bXSk6IFdpZGdldENvbmZpZyB8IG51bGwge1xuICAgIGNvbnN0IGNsaW1hdGVFbnRpdGllczogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgYXJlYSBvZiBhcmVhcykge1xuICAgICAgZm9yIChjb25zdCBlbnRpdHlJZCBvZiBhcmVhLmVudGl0aWVzKSB7XG4gICAgICAgIGlmIChlbnRpdHlJZC5zdGFydHNXaXRoKCdjbGltYXRlLicpIHx8XG4gICAgICAgICAgICBlbnRpdHlJZC5pbmNsdWRlcygndGVtcGVyYXR1cmUnKSB8fFxuICAgICAgICAgICAgZW50aXR5SWQuaW5jbHVkZXMoJ2h1bWlkaXR5JykpIHtcbiAgICAgICAgICBjbGltYXRlRW50aXRpZXMucHVzaChlbnRpdHlJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xpbWF0ZUVudGl0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdjbGltYXRlJyxcbiAgICAgIGVudGl0aWVzOiBjbGltYXRlRW50aXRpZXMsXG4gICAgICB0aXRsZTogJ0NsaW1hdGUgQ29udHJvbCcsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgcXVpY2sgY29udHJvbHMgd2lkZ2V0LlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVRdWlja0NvbnRyb2xzV2lkZ2V0KGFyZWFzOiBBcmVhSW5mb1tdKTogV2lkZ2V0Q29uZmlnIHwgbnVsbCB7XG4gICAgY29uc3QgcXVpY2tFbnRpdGllczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIEZpbmQgbW9zdCBpbXBvcnRhbnQgZW50aXRpZXMgKHNjZW5lcywgbWFpbiBsaWdodHMsIGV0Yy4pXG4gICAgZm9yIChjb25zdCBhcmVhIG9mIGFyZWFzKSB7XG4gICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIGFyZWEuZW50aXRpZXMpIHtcbiAgICAgICAgaWYgKGVudGl0eUlkLnN0YXJ0c1dpdGgoJ3NjZW5lLicpIHx8XG4gICAgICAgICAgICBlbnRpdHlJZC5pbmNsdWRlcygnbWFpbicpIHx8XG4gICAgICAgICAgICBlbnRpdHlJZC5pbmNsdWRlcygnYWxsJykpIHtcbiAgICAgICAgICBxdWlja0VudGl0aWVzLnB1c2goZW50aXR5SWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGltaXQgdG8gcmVhc29uYWJsZSBudW1iZXJcbiAgICBjb25zdCBsaW1pdGVkRW50aXRpZXMgPSBxdWlja0VudGl0aWVzLnNsaWNlKDAsIDgpO1xuXG4gICAgaWYgKGxpbWl0ZWRFbnRpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAncXVpY2stY29udHJvbHMnLFxuICAgICAgZW50aXRpZXM6IGxpbWl0ZWRFbnRpdGllcyxcbiAgICAgIHRpdGxlOiAnUXVpY2sgQ29udHJvbHMnLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgbGF5b3V0LlxuICAgKi9cbiAgZ2V0Q3VycmVudExheW91dCgpOiBCYXNlTGF5b3V0IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudExheW91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgd2lkZ2V0IHBvc2l0aW9ucyBmb3IgY3VycmVudCBsYXlvdXQuXG4gICAqL1xuICBjYWxjdWxhdGVQb3NpdGlvbnMoXG4gICAgd2lkZ2V0czogV2lkZ2V0Q29uZmlnW10sXG4gICAgYXJlYUNvdW50OiBudW1iZXJcbiAgKTogV2lkZ2V0UG9zaXRpb25bXSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRMYXlvdXQpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignTm8gbGF5b3V0IHNlbGVjdGVkJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudExheW91dC5jYWxjdWxhdGVXaWRnZXRQb3NpdGlvbnMod2lkZ2V0cywgYXJlYUNvdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY29udGFpbmVyIHdpZHRoIGFuZCBjaGVjayBmb3IgYnJlYWtwb2ludCBjaGFuZ2VzLlxuICAgKi9cbiAgdXBkYXRlQ29udGFpbmVyV2lkdGgod2lkdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5jdXJyZW50TGF5b3V0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudExheW91dC51cGRhdGVDb250YWluZXJXaWR0aCh3aWR0aCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuXG5leHBvcnQgY29uc3QgZGFzaHZpZXdUaGVtZSA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIC0tZGFzaHZpZXctcHJpbWFyeS1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgLS1kYXNodmlldy1wcmltYXJ5LXRleHQtY29sb3I6IHZhcigtLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgLS1kYXNodmlldy1zZWNvbmRhcnktdGV4dC1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgIC0tZGFzaHZpZXctZGlzYWJsZWQtdGV4dC1jb2xvcjogdmFyKC0tZGlzYWJsZWQtdGV4dC1jb2xvcik7XG4gICAgLS1kYXNodmlldy1kaXZpZGVyLWNvbG9yOiB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAtLWRhc2h2aWV3LWVycm9yLWNvbG9yOiB2YXIoLS1lcnJvci1jb2xvcik7XG4gICAgLS1kYXNodmlldy1zdWNjZXNzLWNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTtcbiAgICAtLWRhc2h2aWV3LXdhcm5pbmctY29sb3I6IHZhcigtLXdhcm5pbmctY29sb3IpO1xuICAgIC0tZGFzaHZpZXctaW5mby1jb2xvcjogdmFyKC0taW5mby1jb2xvcik7XG4gICAgLS1kYXNodmlldy1iYWNrZ3JvdW5kOiB2YXIoLS1sb3ZlbGFjZS1iYWNrZ3JvdW5kLCB2YXIoLS1wcmltYXJ5LWJhY2tncm91bmQtY29sb3IpKTtcbiAgICAtLWRhc2h2aWV3LWNhcmQtYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAtLWRhc2h2aWV3LXNwYWNpbmcteHM6IDRweDtcbiAgICAtLWRhc2h2aWV3LXNwYWNpbmctc206IDhweDtcbiAgICAtLWRhc2h2aWV3LXNwYWNpbmctbWQ6IDE2cHg7XG4gICAgLS1kYXNodmlldy1zcGFjaW5nLWxnOiAyNHB4O1xuICAgIC0tZGFzaHZpZXctc3BhY2luZy14bDogMzJweDtcbiAgICAtLWRhc2h2aWV3LWJvcmRlci1yYWRpdXM6IHZhcigtLWhhLWNhcmQtYm9yZGVyLXJhZGl1cywgMTJweCk7XG4gICAgLS1kYXNodmlldy1ib3gtc2hhZG93OiB2YXIoLS1oYS1jYXJkLWJveC1zaGFkb3csIG5vbmUpO1xuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgZGFzaHZpZXdTdHlsZXMgPSBjc3NgXG4gICoge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cblxuICAuZGFzaHZpZXctY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWRhc2h2aWV3LWJhY2tncm91bmQpO1xuICB9XG5cbiAgLmRhc2h2aWV3LWhlYWRlciB7XG4gICAgcGFkZGluZzogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1sZyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZGFzaHZpZXctY2FyZC1iYWNrZ3JvdW5kKTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGFzaHZpZXctZGl2aWRlci1jb2xvcik7XG4gICAgYm94LXNoYWRvdzogdmFyKC0tZGFzaHZpZXctYm94LXNoYWRvdyk7XG4gIH1cblxuICAuZGFzaHZpZXctY29udGVudCB7XG4gICAgZmxleDogMTtcbiAgICBwYWRkaW5nOiB2YXIoLS1kYXNodmlldy1zcGFjaW5nLWxnKTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICB9XG5cbiAgLmRhc2h2aWV3LWNhcmQge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWRhc2h2aWV3LWNhcmQtYmFja2dyb3VuZCk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tZGFzaHZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgcGFkZGluZzogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1sZyk7XG4gICAgbWFyZ2luLWJvdHRvbTogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1tZCk7XG4gICAgYm94LXNoYWRvdzogdmFyKC0tZGFzaHZpZXctYm94LXNoYWRvdyk7XG4gIH1cblxuICAuZGFzaHZpZXctbG9hZGluZyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBjb2xvcjogdmFyKC0tZGFzaHZpZXctc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICB9XG5cbiAgLmRhc2h2aWV3LWVycm9yIHtcbiAgICBjb2xvcjogdmFyKC0tZGFzaHZpZXctZXJyb3ItY29sb3IpO1xuICAgIHBhZGRpbmc6IHZhcigtLWRhc2h2aWV3LXNwYWNpbmctbWQpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIC5kYXNodmlldy1oZWFkZXIge1xuICAgICAgcGFkZGluZzogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1tZCk7XG4gICAgfVxuXG4gICAgLmRhc2h2aWV3LWNvbnRlbnQge1xuICAgICAgcGFkZGluZzogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1tZCk7XG4gICAgfVxuICB9XG5gOyIsIi8qKlxuICogVG91Y2ggZ2VzdHVyZSB1dGlsaXRpZXMgZm9yIERhc2h2aWV3IFYyLlxuICogUHJvdmlkZXMgc3dpcGUgZGV0ZWN0aW9uLCBsb25nIHByZXNzIGhhbmRsaW5nLCBhbmQgaGFwdGljIGZlZWRiYWNrLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgU3dpcGVFdmVudCB7XG4gIGRpcmVjdGlvbjogJ2xlZnQnIHwgJ3JpZ2h0JyB8ICd1cCcgfCAnZG93bic7XG4gIGRpc3RhbmNlOiBudW1iZXI7XG4gIHZlbG9jaXR5OiBudW1iZXI7XG4gIGVsZW1lbnQ6IEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9uZ1ByZXNzRXZlbnQge1xuICBlbGVtZW50OiBFbGVtZW50O1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJlT3B0aW9ucyB7XG4gIHN3aXBlVGhyZXNob2xkPzogbnVtYmVyO1xuICBsb25nUHJlc3NEZWxheT86IG51bWJlcjtcbiAgdmVsb2NpdHlUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIHByZXZlbnRTY3JvbGw/OiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX09QVElPTlM6IFJlcXVpcmVkPEdlc3R1cmVPcHRpb25zPiA9IHtcbiAgc3dpcGVUaHJlc2hvbGQ6IDUwLFxuICBsb25nUHJlc3NEZWxheTogNTAwLFxuICB2ZWxvY2l0eVRocmVzaG9sZDogMC4zLFxuICBwcmV2ZW50U2Nyb2xsOiBmYWxzZVxufTtcblxuZXhwb3J0IGNsYXNzIEdlc3R1cmVIYW5kbGVyIHtcbiAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50O1xuICBwcml2YXRlIG9wdGlvbnM6IFJlcXVpcmVkPEdlc3R1cmVPcHRpb25zPjtcbiAgcHJpdmF0ZSBzdGFydFggPSAwO1xuICBwcml2YXRlIHN0YXJ0WSA9IDA7XG4gIHByaXZhdGUgc3RhcnRUaW1lID0gMDtcbiAgcHJpdmF0ZSBsb25nUHJlc3NUaW1lb3V0PzogbnVtYmVyO1xuICBwcml2YXRlIGlzTG9uZ1ByZXNzID0gZmFsc2U7XG4gIHByaXZhdGUgaXNTd2lwaW5nID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBvblN3aXBlPzogKGV2ZW50OiBTd2lwZUV2ZW50KSA9PiB2b2lkO1xuICBwcml2YXRlIG9uTG9uZ1ByZXNzPzogKGV2ZW50OiBMb25nUHJlc3NFdmVudCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBvblRhcD86IChldmVudDogVG91Y2hFdmVudCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBvcHRpb25zOiBHZXN0dXJlT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICB9XG5cbiAgcHVibGljIG9uU3dpcGVEZXRlY3RlZChjYWxsYmFjazogKGV2ZW50OiBTd2lwZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vblN3aXBlID0gY2FsbGJhY2s7XG4gIH1cblxuICBwdWJsaWMgb25Mb25nUHJlc3NEZXRlY3RlZChjYWxsYmFjazogKGV2ZW50OiBMb25nUHJlc3NFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25Mb25nUHJlc3MgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHB1YmxpYyBvblRhcERldGVjdGVkKGNhbGxiYWNrOiAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm9uVGFwID0gY2FsbGJhY2s7XG4gIH1cblxuICBwcml2YXRlIGJpbmRFdmVudHMoKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmhhbmRsZVRvdWNoU3RhcnQuYmluZCh0aGlzKSBhcyBFdmVudExpc3RlbmVyLCB7IHBhc3NpdmU6ICF0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbCB9KTtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVUb3VjaE1vdmUuYmluZCh0aGlzKSBhcyBFdmVudExpc3RlbmVyLCB7IHBhc3NpdmU6ICF0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbCB9KTtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhhbmRsZVRvdWNoRW5kLmJpbmQodGhpcykgYXMgRXZlbnRMaXN0ZW5lciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuaGFuZGxlVG91Y2hDYW5jZWwuYmluZCh0aGlzKSBhcyBFdmVudExpc3RlbmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgdGhpcy5zdGFydFggPSB0b3VjaC5jbGllbnRYO1xuICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WTtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5pc0xvbmdQcmVzcyA9IGZhbHNlO1xuICAgIHRoaXMuaXNTd2lwaW5nID0gZmFsc2U7XG5cbiAgICAvLyBTdGFydCBsb25nIHByZXNzIHRpbWVyXG4gICAgaWYgKHRoaXMub25Mb25nUHJlc3MpIHtcbiAgICAgIHRoaXMubG9uZ1ByZXNzVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5pc0xvbmdQcmVzcyA9IHRydWU7XG4gICAgICAgIHRoaXMub25Mb25nUHJlc3MhKHtcbiAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgeDogdGhpcy5zdGFydFgsXG4gICAgICAgICAgeTogdGhpcy5zdGFydFlcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJpZ2dlckhhcHRpY0ZlZWRiYWNrKCdtZWRpdW0nKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5sb25nUHJlc3NEZWxheSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUb3VjaE1vdmUoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0xvbmdQcmVzcykgcmV0dXJuO1xuXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xuICAgIGNvbnN0IGRlbHRhWCA9IE1hdGguYWJzKHRvdWNoLmNsaWVudFggLSB0aGlzLnN0YXJ0WCk7XG4gICAgY29uc3QgZGVsdGFZID0gTWF0aC5hYnModG91Y2guY2xpZW50WSAtIHRoaXMuc3RhcnRZKTtcblxuICAgIC8vIENhbmNlbCBsb25nIHByZXNzIGlmIG1vdmluZyB0b28gbXVjaFxuICAgIGlmICgoZGVsdGFYID4gMTAgfHwgZGVsdGFZID4gMTApICYmIHRoaXMubG9uZ1ByZXNzVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubG9uZ1ByZXNzVGltZW91dCk7XG4gICAgICB0aGlzLmxvbmdQcmVzc1RpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gRGV0ZWN0IHN3aXBlIHN0YXJ0XG4gICAgaWYgKCF0aGlzLmlzU3dpcGluZyAmJiAoZGVsdGFYID4gdGhpcy5vcHRpb25zLnN3aXBlVGhyZXNob2xkIHx8IGRlbHRhWSA+IHRoaXMub3B0aW9ucy5zd2lwZVRocmVzaG9sZCkpIHtcbiAgICAgIHRoaXMuaXNTd2lwaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50U2Nyb2xsKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUb3VjaEVuZChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZGVsdGFYID0gdG91Y2guY2xpZW50WCAtIHRoaXMuc3RhcnRYO1xuICAgIGNvbnN0IGRlbHRhWSA9IHRvdWNoLmNsaWVudFkgLSB0aGlzLnN0YXJ0WTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSB0aGlzLnN0YXJ0VGltZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpO1xuXG4gICAgLy8gQ2xlYXIgbG9uZyBwcmVzcyB0aW1lclxuICAgIGlmICh0aGlzLmxvbmdQcmVzc1RpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxvbmdQcmVzc1RpbWVvdXQpO1xuICAgICAgdGhpcy5sb25nUHJlc3NUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzTG9uZ1ByZXNzKSB7XG4gICAgICAvLyBMb25nIHByZXNzIGFscmVhZHkgaGFuZGxlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU3dpcGluZyAmJiBkaXN0YW5jZSA+PSB0aGlzLm9wdGlvbnMuc3dpcGVUaHJlc2hvbGQpIHtcbiAgICAgIC8vIEhhbmRsZSBzd2lwZVxuICAgICAgY29uc3QgdmVsb2NpdHkgPSBkaXN0YW5jZSAvIGR1cmF0aW9uO1xuICAgICAgXG4gICAgICBpZiAodmVsb2NpdHkgPj0gdGhpcy5vcHRpb25zLnZlbG9jaXR5VGhyZXNob2xkKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZ2V0U3dpcGVEaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub25Td2lwZSkge1xuICAgICAgICAgIHRoaXMub25Td2lwZSh7XG4gICAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgICAgIHZlbG9jaXR5LFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyaWdnZXJIYXB0aWNGZWVkYmFjaygnbGlnaHQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU3dpcGluZyAmJiBkdXJhdGlvbiA8IDIwMCkge1xuICAgICAgLy8gSGFuZGxlIHRhcFxuICAgICAgaWYgKHRoaXMub25UYXApIHtcbiAgICAgICAgdGhpcy5vblRhcChldmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUb3VjaENhbmNlbCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb25nUHJlc3NUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sb25nUHJlc3NUaW1lb3V0KTtcbiAgICAgIHRoaXMubG9uZ1ByZXNzVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTd2lwZURpcmVjdGlvbihkZWx0YVg6IG51bWJlciwgZGVsdGFZOiBudW1iZXIpOiAnbGVmdCcgfCAncmlnaHQnIHwgJ3VwJyB8ICdkb3duJyB7XG4gICAgY29uc3QgYWJzRGVsdGFYID0gTWF0aC5hYnMoZGVsdGFYKTtcbiAgICBjb25zdCBhYnNEZWx0YVkgPSBNYXRoLmFicyhkZWx0YVkpO1xuXG4gICAgaWYgKGFic0RlbHRhWCA+IGFic0RlbHRhWSkge1xuICAgICAgcmV0dXJuIGRlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVsdGFZID4gMCA/ICdkb3duJyA6ICd1cCc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmlzTG9uZ1ByZXNzID0gZmFsc2U7XG4gICAgdGhpcy5pc1N3aXBpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgdHJpZ2dlckhhcHRpY0ZlZWRiYWNrKGludGVuc2l0eTogJ2xpZ2h0JyB8ICdtZWRpdW0nIHwgJ2hlYXZ5Jyk6IHZvaWQge1xuICAgIGlmICgndmlicmF0ZScgaW4gbmF2aWdhdG9yKSB7XG4gICAgICBjb25zdCBwYXR0ZXJucyA9IHtcbiAgICAgICAgbGlnaHQ6IDEwLFxuICAgICAgICBtZWRpdW06IDIwLFxuICAgICAgICBoZWF2eTogNTBcbiAgICAgIH07XG4gICAgICBuYXZpZ2F0b3IudmlicmF0ZShwYXR0ZXJuc1tpbnRlbnNpdHldKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb25nUHJlc3NUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sb25nUHJlc3NUaW1lb3V0KTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmhhbmRsZVRvdWNoU3RhcnQuYmluZCh0aGlzKSBhcyBFdmVudExpc3RlbmVyKTtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVUb3VjaE1vdmUuYmluZCh0aGlzKSBhcyBFdmVudExpc3RlbmVyKTtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhhbmRsZVRvdWNoRW5kLmJpbmQodGhpcykgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5oYW5kbGVUb3VjaENhbmNlbC5iaW5kKHRoaXMpIGFzIEV2ZW50TGlzdGVuZXIpO1xuICB9XG59XG5cbi8qKlxuICogU2ltcGxlIHN3aXBlIGRldGVjdGlvbiBmb3IgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFN3aXBlTGlzdGVuZXIoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGNhbGxiYWNrOiAoZXZlbnQ6IFN3aXBlRXZlbnQpID0+IHZvaWQsXG4gIG9wdGlvbnM/OiBHZXN0dXJlT3B0aW9uc1xuKTogKCkgPT4gdm9pZCB7XG4gIGNvbnN0IGhhbmRsZXIgPSBuZXcgR2VzdHVyZUhhbmRsZXIoZWxlbWVudCwgb3B0aW9ucyk7XG4gIGhhbmRsZXIub25Td2lwZURldGVjdGVkKGNhbGxiYWNrKTtcbiAgXG4gIHJldHVybiAoKSA9PiBoYW5kbGVyLmRlc3Ryb3koKTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgbG9uZyBwcmVzcyBkZXRlY3Rpb24gZm9yIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRMb25nUHJlc3NMaXN0ZW5lcihcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgY2FsbGJhY2s6IChldmVudDogTG9uZ1ByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9wdGlvbnM/OiBHZXN0dXJlT3B0aW9uc1xuKTogKCkgPT4gdm9pZCB7XG4gIGNvbnN0IGhhbmRsZXIgPSBuZXcgR2VzdHVyZUhhbmRsZXIoZWxlbWVudCwgb3B0aW9ucyk7XG4gIGhhbmRsZXIub25Mb25nUHJlc3NEZXRlY3RlZChjYWxsYmFjayk7XG4gIFxuICByZXR1cm4gKCkgPT4gaGFuZGxlci5kZXN0cm95KCk7XG59XG5cbi8qKlxuICogSGFwdGljIGZlZWRiYWNrIHV0aWxpdGllc1xuICovXG5leHBvcnQgY2xhc3MgSGFwdGljRmVlZGJhY2sge1xuICBwcml2YXRlIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gJ3ZpYnJhdGUnIGluIG5hdmlnYXRvcjtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgbGlnaHQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoMTApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgbWVkaXVtKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKDIwKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGhlYXZ5KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKFs1MCwgNTAsIDUwXSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXRpYyBzdWNjZXNzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKFsxMCwgMTAwLCAxMF0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZXJyb3IoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoWzEwMCwgNTAsIDEwMCwgNTAsIDEwMF0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgc2VsZWN0aW9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKDUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3VzdG9tKHBhdHRlcm46IG51bWJlciB8IG51bWJlcltdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgbmF2aWdhdG9yLnZpYnJhdGUocGF0dGVybik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVG91Y2ggdGFyZ2V0IHNpemUgaGVscGVyc1xuICovXG5leHBvcnQgY29uc3QgVG91Y2hUYXJnZXQgPSB7XG4gIC8qKlxuICAgKiBNaW5pbXVtIHRvdWNoIHRhcmdldCBzaXplICg0NHB4KSBhcyBwZXIgV0NBRyBndWlkZWxpbmVzXG4gICAqL1xuICBNSU5fU0laRTogNDQsXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGVsZW1lbnQgbWVldHMgbWluaW11bSB0b3VjaCB0YXJnZXQgcmVxdWlyZW1lbnRzXG4gICAqL1xuICBtZWV0c01pbmltdW1TaXplKGVsZW1lbnQ6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gcmVjdC53aWR0aCA+PSB0aGlzLk1JTl9TSVpFICYmIHJlY3QuaGVpZ2h0ID49IHRoaXMuTUlOX1NJWkU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZCB0b3VjaCB0YXJnZXQgcGFkZGluZyB0byBhbiBlbGVtZW50IGlmIG5lZWRlZFxuICAgKi9cbiAgZW5zdXJlTWluaW11bVNpemUoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBcbiAgICBpZiAocmVjdC53aWR0aCA8IHRoaXMuTUlOX1NJWkUpIHtcbiAgICAgIGNvbnN0IHBhZGRpbmcgPSAodGhpcy5NSU5fU0laRSAtIHJlY3Qud2lkdGgpIC8gMjtcbiAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSBgJHtwYWRkaW5nfXB4YDtcbiAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYCR7cGFkZGluZ31weGA7XG4gICAgfVxuICAgIFxuICAgIGlmIChyZWN0LmhlaWdodCA8IHRoaXMuTUlOX1NJWkUpIHtcbiAgICAgIGNvbnN0IHBhZGRpbmcgPSAodGhpcy5NSU5fU0laRSAtIHJlY3QuaGVpZ2h0KSAvIDI7XG4gICAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmdUb3AgPSBgJHtwYWRkaW5nfXB4YDtcbiAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IGAke3BhZGRpbmd9cHhgO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBHZXN0dXJlLWVuYWJsZWQgYmFzZSBjbGFzcyBmb3IgTGl0IGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBHZXN0dXJlRWxlbWVudCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgcHJpdmF0ZSBnZXN0dXJlSGFuZGxlcj86IEdlc3R1cmVIYW5kbGVyO1xuXG4gIHByb3RlY3RlZCBlbmFibGVHZXN0dXJlcyhlbGVtZW50OiBFbGVtZW50LCBvcHRpb25zPzogR2VzdHVyZU9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLmdlc3R1cmVIYW5kbGVyID0gbmV3IEdlc3R1cmVIYW5kbGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIFxuICAgIHRoaXMuZ2VzdHVyZUhhbmRsZXIub25Td2lwZURldGVjdGVkKChldmVudCkgPT4ge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZ2VzdHVyZS1zd2lwZScsIHsgZGV0YWlsOiBldmVudCB9KSk7XG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5nZXN0dXJlSGFuZGxlci5vbkxvbmdQcmVzc0RldGVjdGVkKChldmVudCkgPT4ge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZ2VzdHVyZS1sb25ncHJlc3MnLCB7IGRldGFpbDogZXZlbnQgfSkpO1xuICAgIH0pO1xuICAgIFxuICAgIHRoaXMuZ2VzdHVyZUhhbmRsZXIub25UYXBEZXRlY3RlZCgoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2dlc3R1cmUtdGFwJywgeyBkZXRhaWw6IGV2ZW50IH0pKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBkaXNhYmxlR2VzdHVyZXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZUhhbmRsZXIpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZUhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5nZXN0dXJlSGFuZGxlciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0iLCIvKipcbiAqIEFuaW1hdGlvbiBjb25zdGFudHMgYW5kIHV0aWxpdGllcyBmb3IgRGFzaHZpZXcgVjIgd2lkZ2V0cy5cbiAqIFByb3ZpZGVzIGNvbnNpc3RlbnQgdGltaW5nLCBlYXNpbmcsIGFuZCBrZXlmcmFtZSBhbmltYXRpb25zLlxuICovXG5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5cbmV4cG9ydCBjb25zdCBBTklNQVRJT05fRFVSQVRJT04gPSB7XG4gIGZhc3Q6ICcxNTBtcycsXG4gIG5vcm1hbDogJzI1MG1zJyxcbiAgc2xvdzogJzM1MG1zJ1xufTtcblxuZXhwb3J0IGNvbnN0IEVBU0lORyA9IHtcbiAgc3RhbmRhcmQ6ICdjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSknLFxuICBkZWNlbGVyYXRlOiAnY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpJyxcbiAgYWNjZWxlcmF0ZTogJ2N1YmljLWJlemllcigwLjQsIDAuMCwgMSwgMSknLFxuICBzaGFycDogJ2N1YmljLWJlemllcigwLjQsIDAuMCwgMC42LCAxKSdcbn07XG5cbi8qKlxuICogU2tlbGV0b24gbG9hZGluZyBhbmltYXRpb24gc3R5bGVzXG4gKi9cbmV4cG9ydCBjb25zdCBza2VsZXRvblN0eWxlcyA9IGNzc2BcbiAgQGtleWZyYW1lcyBza2VsZXRvbi1sb2FkaW5nIHtcbiAgICAwJSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMDAlIDA7IH1cbiAgICAxMDAlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMjAwJSAwOyB9XG4gIH1cbiAgXG4gIC5za2VsZXRvbiB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KFxuICAgICAgOTBkZWcsXG4gICAgICB2YXIoLS1jYXJkLWJhY2tncm91bmQtY29sb3IpIDAlLFxuICAgICAgdmFyKC0tZGl2aWRlci1jb2xvcikgNTAlLFxuICAgICAgdmFyKC0tY2FyZC1iYWNrZ3JvdW5kLWNvbG9yKSAxMDAlXG4gICAgKTtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDIwMCUgMTAwJTtcbiAgICBhbmltYXRpb246IHNrZWxldG9uLWxvYWRpbmcgMS41cyBlYXNlLWluLW91dCBpbmZpbml0ZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIH1cbiAgXG4gIC5za2VsZXRvbi10ZXh0IHtcbiAgICBoZWlnaHQ6IDE2cHg7XG4gICAgbWFyZ2luOiA0cHggMDtcbiAgfVxuICBcbiAgLnNrZWxldG9uLXRleHQubGFyZ2Uge1xuICAgIGhlaWdodDogMjBweDtcbiAgfVxuICBcbiAgLnNrZWxldG9uLXRleHQuc21hbGwge1xuICAgIGhlaWdodDogMTJweDtcbiAgfVxuICBcbiAgLnNrZWxldG9uLWJ1dHRvbiB7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIHdpZHRoOiAxMDBweDtcbiAgfVxuICBcbiAgLnNrZWxldG9uLWljb24ge1xuICAgIHdpZHRoOiAyNHB4O1xuICAgIGhlaWdodDogMjRweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIH1cbiAgXG4gIC5za2VsZXRvbi1jYXJkIHtcbiAgICBoZWlnaHQ6IDEyMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgfVxuYDtcblxuLyoqXG4gKiBTbW9vdGggZXhwYW5kL2NvbGxhcHNlIGFuaW1hdGlvbiBzdHlsZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGFuZENvbGxhcHNlU3R5bGVzID0gY3NzYFxuICBAa2V5ZnJhbWVzIGV4cGFuZCB7XG4gICAgZnJvbSB7XG4gICAgICBtYXgtaGVpZ2h0OiAwO1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgbWF4LWhlaWdodDogNjAwcHg7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgfVxuICBcbiAgQGtleWZyYW1lcyBjb2xsYXBzZSB7XG4gICAgZnJvbSB7XG4gICAgICBtYXgtaGVpZ2h0OiA2MDBweDtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgfVxuICAgIHRvIHtcbiAgICAgIG1heC1oZWlnaHQ6IDA7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgfVxuICBcbiAgLmV4cGFuZC1lbnRlciB7XG4gICAgYW5pbWF0aW9uOiBleHBhbmQgMjUwbXMgY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cbiAgXG4gIC5jb2xsYXBzZS1leGl0IHtcbiAgICBhbmltYXRpb246IGNvbGxhcHNlIDI1MG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMSwgMSk7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuICBcbiAgLmNvbnRlbnQtZXhwYW5kYWJsZSB7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IDI1MG1zIGN1YmljLWJlemllcigwLjAsIDAuMCwgMC4yLCAxKTtcbiAgfVxuICBcbiAgLmNvbnRlbnQtY29sbGFwc2VkIHtcbiAgICBtYXgtaGVpZ2h0OiAwO1xuICB9XG4gIFxuICAuY29udGVudC1leHBhbmRlZCB7XG4gICAgbWF4LWhlaWdodDogNjAwcHg7XG4gIH1cbmA7XG5cbi8qKlxuICogVG91Y2ggaW50ZXJhY3Rpb24gYW5pbWF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgdG91Y2hTdHlsZXMgPSBjc3NgXG4gIEBrZXlmcmFtZXMgdG91Y2gtZmVlZGJhY2sge1xuICAgIDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICAgIDUwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC45NSk7IH1cbiAgICAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICB9XG4gIFxuICAudG91Y2gtdGFyZ2V0IHtcbiAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgIG1pbi13aWR0aDogNDRweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMTUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xuICB9XG4gIFxuICAudG91Y2gtdGFyZ2V0OmFjdGl2ZSB7XG4gICAgYW5pbWF0aW9uOiB0b3VjaC1mZWVkYmFjayAxNTBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSk7XG4gIH1cbiAgXG4gIC50b3VjaC10YXJnZXQ6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgfVxuICBcbiAgQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpIHtcbiAgICAudG91Y2gtdGFyZ2V0OmFjdGl2ZSB7XG4gICAgICBhbmltYXRpb246IG5vbmU7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgIH1cbiAgfVxuYDtcblxuLyoqXG4gKiBMb2FkaW5nIHNwaW5uZXIgYW5pbWF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzcGlubmVyU3R5bGVzID0gY3NzYFxuICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgIGZyb20geyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICB9XG4gIFxuICAuc3Bpbm5lciB7XG4gICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgfVxuICBcbiAgLmxvYWRpbmctZG90cyB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgZ2FwOiA0cHg7XG4gIH1cbiAgXG4gIC5sb2FkaW5nLWRvdHM6OmFmdGVyIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBhbmltYXRpb246IGxvYWRpbmctZG90cyAxLjVzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xuICB9XG4gIFxuICBAa2V5ZnJhbWVzIGxvYWRpbmctZG90cyB7XG4gICAgMCUsIDIwJSB7IGNvbnRlbnQ6ICcnOyB9XG4gICAgNDAlIHsgY29udGVudDogJy4nOyB9XG4gICAgNjAlIHsgY29udGVudDogJy4uJzsgfVxuICAgIDgwJSwgMTAwJSB7IGNvbnRlbnQ6ICcuLi4nOyB9XG4gIH1cbmA7XG5cbi8qKlxuICogRmFkZSBpbi9vdXQgYW5pbWF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgZmFkZVN0eWxlcyA9IGNzc2BcbiAgQGtleWZyYW1lcyBmYWRlLWluIHtcbiAgICBmcm9tIHsgb3BhY2l0eTogMDsgfVxuICAgIHRvIHsgb3BhY2l0eTogMTsgfVxuICB9XG4gIFxuICBAa2V5ZnJhbWVzIGZhZGUtb3V0IHtcbiAgICBmcm9tIHsgb3BhY2l0eTogMTsgfVxuICAgIHRvIHsgb3BhY2l0eTogMDsgfVxuICB9XG4gIFxuICAuZmFkZS1pbiB7XG4gICAgYW5pbWF0aW9uOiBmYWRlLWluIDI1MG1zIGN1YmljLWJlemllcigwLjAsIDAuMCwgMC4yLCAxKTtcbiAgfVxuICBcbiAgLmZhZGUtb3V0IHtcbiAgICBhbmltYXRpb246IGZhZGUtb3V0IDI1MG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMSwgMSk7XG4gIH1cbiAgXG4gIC5mYWRlLXRyYW5zaXRpb24ge1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMjUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xuICB9XG5gO1xuXG4vKipcbiAqIFNsaWRlIGFuaW1hdGlvbnMgZm9yIG1vYmlsZSBpbnRlcmFjdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNsaWRlU3R5bGVzID0gY3NzYFxuICBAa2V5ZnJhbWVzIHNsaWRlLWluLXJpZ2h0IHtcbiAgICBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyB9XG4gICAgdG8geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cbiAgfVxuICBcbiAgQGtleWZyYW1lcyBzbGlkZS1pbi1sZWZ0IHtcbiAgICBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxuICAgIHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XG4gIH1cbiAgXG4gIEBrZXlmcmFtZXMgc2xpZGUtb3V0LXJpZ2h0IHtcbiAgICBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XG4gICAgdG8geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH1cbiAgfVxuICBcbiAgQGtleWZyYW1lcyBzbGlkZS1vdXQtbGVmdCB7XG4gICAgZnJvbSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxuICAgIHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxuICB9XG4gIFxuICAuc2xpZGUtaW4tcmlnaHQge1xuICAgIGFuaW1hdGlvbjogc2xpZGUtaW4tcmlnaHQgMjUwbXMgY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpO1xuICB9XG4gIFxuICAuc2xpZGUtaW4tbGVmdCB7XG4gICAgYW5pbWF0aW9uOiBzbGlkZS1pbi1sZWZ0IDI1MG1zIGN1YmljLWJlemllcigwLjAsIDAuMCwgMC4yLCAxKTtcbiAgfVxuICBcbiAgLnNsaWRlLW91dC1yaWdodCB7XG4gICAgYW5pbWF0aW9uOiBzbGlkZS1vdXQtcmlnaHQgMjUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAxLCAxKTtcbiAgfVxuICBcbiAgLnNsaWRlLW91dC1sZWZ0IHtcbiAgICBhbmltYXRpb246IHNsaWRlLW91dC1sZWZ0IDI1MG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMSwgMSk7XG4gIH1cbmA7XG5cbi8qKlxuICogQ29tYmluZWQgYW5pbWF0aW9uIHN0eWxlcyBmb3IgZWFzeSBpbXBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IGFuaW1hdGlvblN0eWxlcyA9IGNzc2BcbiAgJHtza2VsZXRvblN0eWxlc31cbiAgJHtleHBhbmRDb2xsYXBzZVN0eWxlc31cbiAgJHt0b3VjaFN0eWxlc31cbiAgJHtzcGlubmVyU3R5bGVzfVxuICAke2ZhZGVTdHlsZXN9XG4gICR7c2xpZGVTdHlsZXN9XG4gIFxuICAvKiBSZXNwZWN0IHVzZXIncyBtb3Rpb24gcHJlZmVyZW5jZXMgKi9cbiAgQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpIHtcbiAgICAqIHtcbiAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC4wMW1zICFpbXBvcnRhbnQ7XG4gICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxICFpbXBvcnRhbnQ7XG4gICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjAxbXMgIWltcG9ydGFudDtcbiAgICB9XG4gIH1cbmA7IiwiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgRGFzaHZpZXcgd2lkZ2V0cy5cbiAqIFByb3ZpZGVzIGxpZmVjeWNsZSBtYW5hZ2VtZW50LCBzdGF0ZSBoYW5kbGluZywgYW5kIHZpc2liaWxpdHkgdHJhY2tpbmcuXG4gKi9cblxuaW1wb3J0IHsgUHJvcGVydHlWYWx1ZXMsIGNzcyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBEYXNodmlld0Jhc2VFbGVtZW50IH0gZnJvbSAnLi9iYXNlLWVsZW1lbnQnO1xuaW1wb3J0IHsgU3RhdGVEaWZmLCBTdGF0ZU1hbmFnZXIgfSBmcm9tICcuL3N0YXRlLW1hbmFnZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4vc3Vic2NyaXB0aW9uLW1hbmFnZXInO1xuaW1wb3J0IHsgSGFwdGljRmVlZGJhY2sgfSBmcm9tICcuLi91dGlscy9nZXN0dXJlcyc7XG5pbXBvcnQgeyBBTklNQVRJT05fRFVSQVRJT04sIEVBU0lORyB9IGZyb20gJy4uL3N0eWxlcy9hbmltYXRpb25zJztcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBXaWRnZXRDb25maWcge1xuICB0eXBlOiAncm9vbScgfCAnZGV2aWNlLWdyb3VwJyB8ICdjbGltYXRlJyB8ICdxdWljay1jb250cm9scyc7XG4gIGVudGl0aWVzOiBzdHJpbmdbXTtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGxheW91dD86IHtcbiAgICBncmlkQ29sdW1uPzogc3RyaW5nO1xuICAgIGdyaWRSb3c/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXNodmlld1dpZGdldCBleHRlbmRzIERhc2h2aWV3QmFzZUVsZW1lbnQge1xuICBAcHJvcGVydHkoeyB0eXBlOiBPYmplY3QgfSkgd2lkZ2V0Q29uZmlnITogV2lkZ2V0Q29uZmlnO1xuICBAc3RhdGUoKSBwcm90ZWN0ZWQgZW50aXR5U3RhdGVzOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcCgpO1xuICBAc3RhdGUoKSBwcm90ZWN0ZWQgaXNWaXNpYmxlID0gZmFsc2U7XG4gIEBzdGF0ZSgpIHByb3RlY3RlZCBpc0xvYWRpbmcgPSB0cnVlO1xuICBAc3RhdGUoKSBwcm90ZWN0ZWQgZXJyb3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgc3RhdGVNYW5hZ2VyPzogU3RhdGVNYW5hZ2VyO1xuICBwcml2YXRlIHN1YnNjcmlwdGlvbk1hbmFnZXI/OiBTdWJzY3JpcHRpb25NYW5hZ2VyO1xuICBwcml2YXRlIGludGVyc2VjdGlvbk9ic2VydmVyPzogSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG4gIHByaXZhdGUgc3RhdGVVbnN1YnNjcmliZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuICBwcml2YXRlIGtleWJvYXJkSGFuZGxlcnM6IE1hcDxzdHJpbmcsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWVJZD86IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0IHRoZSBsaXN0IG9mIGVudGl0eSBJRHMgdGhpcyB3aWRnZXQgd2FudHMgdG8gc3Vic2NyaWJlIHRvLlxuICAgKiBDYW4gYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzIGZvciBkeW5hbWljIHN1YnNjcmlwdGlvbnMuXG4gICAqL1xuICBwcm90ZWN0ZWQgc3Vic2NyaWJlZEVudGl0aWVzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy53aWRnZXRDb25maWc/LmVudGl0aWVzIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHdpZGdldCBjb25maWd1cmF0aW9uIGlzIHNldC5cbiAgICogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdG8gdmFsaWRhdGUgdGhlaXIgc3BlY2lmaWMgY29uZmlnLlxuICAgKi9cbiAgc2V0Q29uZmlnKGNvbmZpZzogV2lkZ2V0Q29uZmlnKTogdm9pZCB7XG4gICAgaWYgKCFjb25maWcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb25maWd1cmF0aW9uJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGVDb25maWcoY29uZmlnKTtcbiAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ29uZmlndXJhdGlvbiBlcnJvcnM6ICR7ZXJyb3JzLmpvaW4oJywgJyl9YCk7XG4gICAgfVxuXG4gICAgdGhpcy53aWRnZXRDb25maWcgPSBjb25maWc7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgd2lkZ2V0IGNvbmZpZ3VyYXRpb24uXG4gICAqIFJldHVybnMgYXJyYXkgb2YgZXJyb3IgbWVzc2FnZXMsIGVtcHR5IGlmIHZhbGlkLlxuICAgKi9cbiAgcHJvdGVjdGVkIHZhbGlkYXRlQ29uZmlnKGNvbmZpZzogV2lkZ2V0Q29uZmlnKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIGlmICghY29uZmlnLnR5cGUpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdXaWRnZXQgdHlwZSBpcyByZXF1aXJlZCcpO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLmVudGl0aWVzIHx8ICFBcnJheS5pc0FycmF5KGNvbmZpZy5lbnRpdGllcykpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdFbnRpdGllcyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciB0aGlzIHdpZGdldCB0eXBlLlxuICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0byBwcm92aWRlIHNlbnNpYmxlIGRlZmF1bHRzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldERlZmF1bHRDb25maWcoKTogUGFydGlhbDxXaWRnZXRDb25maWc+O1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBlbnRpdHkgc3RhdGUgY2hhbmdlcy5cbiAgICogU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdG8gaGFuZGxlIHN0YXRlIGNoYW5nZXMuXG4gICAqL1xuICBwcm90ZWN0ZWQgb25TdGF0ZUNoYW5nZWQoXG4gICAgZW50aXR5SWQ6IHN0cmluZyxcbiAgICBuZXdTdGF0ZTogYW55LFxuICAgIG9sZFN0YXRlOiBhbnlcbiAgKTogdm9pZCB7XG4gICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB1cGRhdGVzIHRoZSBsb2NhbCBzdGF0ZSBtYXBcbiAgICBpZiAobmV3U3RhdGUpIHtcbiAgICAgIHRoaXMuZW50aXR5U3RhdGVzLnNldChlbnRpdHlJZCwgbmV3U3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVudGl0eVN0YXRlcy5kZWxldGUoZW50aXR5SWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMaWZlY3ljbGU6IENhbGxlZCB3aGVuIGVsZW1lbnQgaXMgYWRkZWQgdG8gRE9NLlxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLnNldHVwVmlzaWJpbGl0eU9ic2VydmVyKCk7XG4gICAgdGhpcy5zZXR1cEtleWJvYXJkSGFuZGxlcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaWZlY3ljbGU6IENhbGxlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICB0aGlzLmluaXRpYWxpemVXaWRnZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaWZlY3ljbGU6IENhbGxlZCB3aGVuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIERPTS5cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgd2lkZ2V0LlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplV2lkZ2V0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgLy8gR2V0IG1hbmFnZXJzIGZyb20gZGFzaGJvYXJkIGNvbnRleHRcbiAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyID0gdGhpcy5nZXRTdGF0ZU1hbmFnZXIoKTtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uTWFuYWdlciA9IHRoaXMuZ2V0U3Vic2NyaXB0aW9uTWFuYWdlcigpO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGVNYW5hZ2VyIHx8ICF0aGlzLnN1YnNjcmlwdGlvbk1hbmFnZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBvciBzdWJzY3JpcHRpb24gbWFuYWdlciBub3QgYXZhaWxhYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgaW5pdGlhbCBlbnRpdHkgc3RhdGVzXG4gICAgICBhd2FpdCB0aGlzLmxvYWRJbml0aWFsU3RhdGVzKCk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBzdGF0ZSBjaGFuZ2VzXG4gICAgICB0aGlzLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2VzKCk7XG5cbiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yIGFzIEVycm9yLCAnV2lkZ2V0IGluaXRpYWxpemF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdGF0ZSBtYW5hZ2VyIGZyb20gZGFzaGJvYXJkIGNvbnRleHQuXG4gICAqIFRoaXMgc2hvdWxkIGJlIHByb3ZpZGVkIGJ5IHRoZSBwYXJlbnQgZGFzaGJvYXJkLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRTdGF0ZU1hbmFnZXIoKTogU3RhdGVNYW5hZ2VyIHwgdW5kZWZpbmVkIHtcbiAgICAvLyBUcnkgdG8gZ2V0IGZyb20gcGFyZW50IGRhc2hib2FyZCBlbGVtZW50XG4gICAgY29uc3QgZGFzaGJvYXJkID0gdGhpcy5jbG9zZXN0KCdkYXNodmlldy1kYXNoYm9hcmQnKTtcbiAgICByZXR1cm4gKGRhc2hib2FyZCBhcyBhbnkpPy5zdGF0ZU1hbmFnZXI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN1YnNjcmlwdGlvbiBtYW5hZ2VyIGZyb20gZGFzaGJvYXJkIGNvbnRleHQuXG4gICAqL1xuICBwcml2YXRlIGdldFN1YnNjcmlwdGlvbk1hbmFnZXIoKTogU3Vic2NyaXB0aW9uTWFuYWdlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZGFzaGJvYXJkID0gdGhpcy5jbG9zZXN0KCdkYXNodmlldy1kYXNoYm9hcmQnKTtcbiAgICByZXR1cm4gKGRhc2hib2FyZCBhcyBhbnkpPy5zdWJzY3JpcHRpb25NYW5hZ2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgaW5pdGlhbCBzdGF0ZXMgZm9yIGFsbCBlbnRpdGllcy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9hZEluaXRpYWxTdGF0ZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLnN1YnNjcmliZWRFbnRpdGllcygpO1xuICAgIFxuICAgIGZvciAoY29uc3QgZW50aXR5SWQgb2YgZW50aXRpZXMpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5oYXNzLnN0YXRlc1tlbnRpdHlJZF07XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5lbnRpdHlTdGF0ZXMuc2V0KGVudGl0eUlkLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBzdGF0ZSBjaGFuZ2VzIGZvciBvdXIgZW50aXRpZXMuXG4gICAqL1xuICBwcml2YXRlIHN1YnNjcmliZVRvU3RhdGVDaGFuZ2VzKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5zdGF0ZU1hbmFnZXIpIHJldHVybjtcblxuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy5zdWJzY3JpYmVkRW50aXRpZXMoKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIGVudGl0aWVzKSB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuc3RhdGVNYW5hZ2VyLnN1YnNjcmliZVRvRW50aXR5KFxuICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgKGRpZmY6IFN0YXRlRGlmZikgPT4ge1xuICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZWQoXG4gICAgICAgICAgICBkaWZmLmVudGl0eUlkLFxuICAgICAgICAgICAgZGlmZi5uZXdTdGF0ZSxcbiAgICAgICAgICAgIGRpZmYub2xkU3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0ZVVuc3Vic2NyaWJlcnMucHVzaCh1bnN1YnNjcmliZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIGludGVyc2VjdGlvbiBvYnNlcnZlciBmb3IgdmlzaWJpbGl0eSB0cmFja2luZy5cbiAgICovXG4gIHByaXZhdGUgc2V0dXBWaXNpYmlsaXR5T2JzZXJ2ZXIoKTogdm9pZCB7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZShlbnRyeS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb290OiBudWxsLFxuICAgICAgICByb290TWFyZ2luOiAnNTBweCcsICAvLyBTdGFydCBsb2FkaW5nIHNsaWdodGx5IGJlZm9yZSB2aXNpYmxlXG4gICAgICAgIHRocmVzaG9sZDogMC4wMSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB2aXNpYmlsaXR5IGNoYW5nZXMuXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoaXNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlID09PSBpc1Zpc2libGUpIHJldHVybjtcblxuICAgIHRoaXMuaXNWaXNpYmxlID0gaXNWaXNpYmxlO1xuXG4gICAgaWYgKGlzVmlzaWJsZSkge1xuICAgICAgdGhpcy5vbkJlY2FtZVZpc2libGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkJlY2FtZUhpZGRlbigpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHZpc2liaWxpdHlcbiAgICB0aGlzLnVwZGF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB3aWRnZXQgYmVjb21lcyB2aXNpYmxlLlxuICAgKiBTdWJjbGFzc2VzIGNhbiBvdmVycmlkZSBmb3IgY3VzdG9tIGJlaGF2aW9yLlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uQmVjYW1lVmlzaWJsZSgpOiB2b2lkIHtcbiAgICAvLyBEZWZhdWx0OiBubyBhY3Rpb25cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB3aWRnZXQgYmVjb21lcyBoaWRkZW4uXG4gICAqIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIGZvciBjdXN0b20gYmVoYXZpb3IuXG4gICAqL1xuICBwcm90ZWN0ZWQgb25CZWNhbWVIaWRkZW4oKTogdm9pZCB7XG4gICAgLy8gRGVmYXVsdDogbm8gYWN0aW9uXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gY3VycmVudCB2aXNpYmlsaXR5LlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTdWJzY3JpcHRpb25zKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5zdWJzY3JpcHRpb25NYW5hZ2VyKSByZXR1cm47XG5cbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMuc3Vic2NyaWJlZEVudGl0aWVzKCk7XG4gICAgXG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAvLyBXaWRnZXQgaXMgdmlzaWJsZSwgZW5zdXJlIHdlJ3JlIHN1YnNjcmliZWRcbiAgICAgIGNvbnN0IHZpc2libGVFbnRpdGllcyA9IHRoaXMuc3Vic2NyaXB0aW9uTWFuYWdlci5nZXRWaXNpYmxlRW50aXRpZXMoKTtcbiAgICAgIGNvbnN0IGFsbFZpc2libGUgPSBuZXcgU2V0KFsuLi52aXNpYmxlRW50aXRpZXMsIC4uLmVudGl0aWVzXSk7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbk1hbmFnZXIudXBkYXRlVmlzaWJsZUVudGl0aWVzKEFycmF5LmZyb20oYWxsVmlzaWJsZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXaWRnZXQgaXMgaGlkZGVuLCB3ZSBjb3VsZCB1bnN1YnNjcmliZVxuICAgICAgLy8gQnV0IHRoaXMgaXMgaGFuZGxlZCBnbG9iYWxseSBieSB0aGUgZGFzaGJvYXJkXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwIHJlc291cmNlcy5cbiAgICovXG4gIHByaXZhdGUgY2xlYW51cCgpOiB2b2lkIHtcbiAgICAvLyBVbnN1YnNjcmliZSBmcm9tIHN0YXRlIGNoYW5nZXNcbiAgICBmb3IgKGNvbnN0IHVuc3Vic2NyaWJlIG9mIHRoaXMuc3RhdGVVbnN1YnNjcmliZXJzKSB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlVW5zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgLy8gQ2xlYW4gdXAgaW50ZXJzZWN0aW9uIG9ic2VydmVyXG4gICAgaWYgKHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBDbGVhbiB1cCBrZXlib2FyZCBoYW5kbGVyc1xuICAgIHRoaXMucmVtb3ZlS2V5Ym9hcmRIYW5kbGVycygpO1xuXG4gICAgLy8gQ2FuY2VsIGFueSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZXNcbiAgICBpZiAodGhpcy5hbmltYXRpb25GcmFtZUlkKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lSWQpO1xuICAgIH1cblxuICAgIC8vIENsZWFyIHN0YXRlXG4gICAgdGhpcy5lbnRpdHlTdGF0ZXMuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gY2FsbCBIb21lIEFzc2lzdGFudCBzZXJ2aWNlLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFzeW5jIGNhbGxTZXJ2aWNlKFxuICAgIGRvbWFpbjogc3RyaW5nLFxuICAgIHNlcnZpY2U6IHN0cmluZyxcbiAgICBkYXRhPzogYW55XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoZG9tYWluLCBzZXJ2aWNlLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciBhcyBFcnJvciwgYFNlcnZpY2UgY2FsbCAke2RvbWFpbn0uJHtzZXJ2aWNlfWApO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byB0b2dnbGUgYW4gZW50aXR5LlxuICAgKi9cbiAgcHJvdGVjdGVkIGFzeW5jIHRvZ2dsZUVudGl0eShlbnRpdHlJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZG9tYWluID0gZW50aXR5SWQuc3BsaXQoJy4nKVswXTtcbiAgICBhd2FpdCB0aGlzLmNhbGxTZXJ2aWNlKGRvbWFpbiwgJ3RvZ2dsZScsIHsgZW50aXR5X2lkOiBlbnRpdHlJZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gdHVybiBvbiBhbiBlbnRpdHkuXG4gICAqL1xuICBwcm90ZWN0ZWQgYXN5bmMgdHVybk9uKGVudGl0eUlkOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBkb21haW4gPSBlbnRpdHlJZC5zcGxpdCgnLicpWzBdO1xuICAgIGF3YWl0IHRoaXMuY2FsbFNlcnZpY2UoZG9tYWluLCAndHVybl9vbicsIHsgZW50aXR5X2lkOiBlbnRpdHlJZCwgLi4uZGF0YSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gdHVybiBvZmYgYW4gZW50aXR5LlxuICAgKi9cbiAgcHJvdGVjdGVkIGFzeW5jIHR1cm5PZmYoZW50aXR5SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRvbWFpbiA9IGVudGl0eUlkLnNwbGl0KCcuJylbMF07XG4gICAgYXdhaXQgdGhpcy5jYWxsU2VydmljZShkb21haW4sICd0dXJuX29mZicsIHsgZW50aXR5X2lkOiBlbnRpdHlJZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGhhcHRpYyBmZWVkYmFjayB3aXRoIHRoZSBzcGVjaWZpZWQgaW50ZW5zaXR5LlxuICAgKi9cbiAgcHJvdGVjdGVkIHRyaWdnZXJIYXB0aWNGZWVkYmFjayhpbnRlbnNpdHk6ICdsaWdodCcgfCAnbWVkaXVtJyB8ICdoZWF2eScgfCAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ3NlbGVjdGlvbicpOiB2b2lkIHtcbiAgICBIYXB0aWNGZWVkYmFja1tpbnRlbnNpdHldKCk7XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0ZSBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBhbmltYXRpb24uXG4gICAqL1xuICBwcm90ZWN0ZWQgYW5pbWF0ZUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQsIGFuaW1hdGlvbjogc3RyaW5nLCBkdXJhdGlvbj86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiB8fCBBTklNQVRJT05fRFVSQVRJT04ubm9ybWFsO1xuICAgICAgXG4gICAgICBlbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9IGAke2FuaW1hdGlvbn0gJHthbmltYXRpb25EdXJhdGlvbn0gJHtFQVNJTkcuc3RhbmRhcmR9YDtcbiAgICAgIFxuICAgICAgY29uc3QgaGFuZGxlQW5pbWF0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9ICcnO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZUFuaW1hdGlvbkVuZCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlQW5pbWF0aW9uRW5kKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb2N1cyBtYW5hZ2VtZW50IGhlbHBlci5cbiAgICovXG4gIHByb3RlY3RlZCBmb2N1c0VsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBGb2N1c09wdGlvbnMpOiB2b2lkIHtcbiAgICBlbGVtZW50LmZvY3VzKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBrZXlib2FyZCBldmVudCBoYW5kbGVycyBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgICovXG4gIHByaXZhdGUgc2V0dXBLZXlib2FyZEhhbmRsZXJzKCk6IHZvaWQge1xuICAgIC8vIERlZmF1bHQga2V5Ym9hcmQgaGFuZGxlcnNcbiAgICB0aGlzLmFkZEtleWJvYXJkSGFuZGxlcignRXNjYXBlJywgdGhpcy5oYW5kbGVFc2NhcGVLZXkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRLZXlib2FyZEhhbmRsZXIoJ1RhYicsIHRoaXMuaGFuZGxlVGFiS2V5LmJpbmQodGhpcykpO1xuICAgIFxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUga2V5Ym9hcmQgZXZlbnQgaGFuZGxlcnMuXG4gICAqL1xuICBwcml2YXRlIHJlbW92ZUtleWJvYXJkSGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5rZXlib2FyZEhhbmRsZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGtleWJvYXJkIGV2ZW50IGhhbmRsZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgYWRkS2V5Ym9hcmRIYW5kbGVyKGtleTogc3RyaW5nLCBoYW5kbGVyOiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmtleWJvYXJkSGFuZGxlcnMuc2V0KGtleSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGtleWJvYXJkIGV2ZW50cy5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlS2V5ZG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmtleWJvYXJkSGFuZGxlcnMuZ2V0KGV2ZW50LmtleSk7XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgRXNjYXBlIGtleSAoZGVmYXVsdDogYmx1ciBhY3RpdmUgZWxlbWVudCkuXG4gICAqL1xuICBwcm90ZWN0ZWQgaGFuZGxlRXNjYXBlS2V5KF9ldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3Q/LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgVGFiIGtleSBmb3IgZm9jdXMgbWFuYWdlbWVudC5cbiAgICovXG4gIHByb3RlY3RlZCBoYW5kbGVUYWJLZXkoX2V2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgLy8gRGVmYXVsdCBiZWhhdmlvciAtIGNvdWxkIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzIHdpdGhpbiB0aGUgd2lkZ2V0LlxuICAgKi9cbiAgcHJvdGVjdGVkIGdldEZvY3VzYWJsZUVsZW1lbnRzKCk6IEhUTUxFbGVtZW50W10ge1xuICAgIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9ycyA9IFtcbiAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pJyxcbiAgICAgICdpbnB1dDpub3QoW2Rpc2FibGVkXSknLFxuICAgICAgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknLFxuICAgICAgJ3RleHRhcmVhOm5vdChbZGlzYWJsZWRdKScsXG4gICAgICAnYVtocmVmXScsXG4gICAgICAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyxcbiAgICAgICdoYS1pY29uLWJ1dHRvbjpub3QoW2Rpc2FibGVkXSknLFxuICAgICAgJ213Yy1idXR0b246bm90KFtkaXNhYmxlZF0pJyxcbiAgICAgICdoYS1zd2l0Y2g6bm90KFtkaXNhYmxlZF0pJ1xuICAgIF0uam9pbignLCAnKTtcblxuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5zaGFkb3dSb290Py5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9ycykgfHwgW107XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudHMpIGFzIEhUTUxFbGVtZW50W107XG4gIH1cblxuICAvKipcbiAgICogQmFzZSBzdHlsZXMgZm9yIGFsbCB3aWRnZXRzLlxuICAgKi9cbiAgc3RhdGljIHN0eWxlcyA9IGNzc2BcbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAud2lkZ2V0LWNvbnRhaW5lciB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG5cbiAgICAud2lkZ2V0LWxvYWRpbmcge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xuICAgIH1cblxuICAgIC53aWRnZXQtZXJyb3Ige1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGNvbG9yOiB2YXIoLS1lcnJvci1jb2xvciwgI2Y0NDMzNik7XG4gICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgYDtcbn0iLCIvKipcbiAqIEVudGl0eSB0eXBlIHRvIGljb24gbWFwcGluZyB1dGlsaXR5LlxuICogTWFwcyBlbnRpdHkgdHlwZXMgYW5kIGRvbWFpbnMgdG8gTWF0ZXJpYWwgRGVzaWduIEljb25zLlxuICovXG5cbmV4cG9ydCBjb25zdCBFTlRJVFlfSUNPTlM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIC8vIExpZ2h0c1xuICAnbGlnaHQnOiAnbWRpOmxpZ2h0YnVsYicsXG4gICdsaWdodC5jZWlsaW5nJzogJ21kaTpjZWlsaW5nLWxpZ2h0JyxcbiAgJ2xpZ2h0LmZsb29yJzogJ21kaTpmbG9vci1sYW1wJyxcbiAgJ2xpZ2h0LmRlc2snOiAnbWRpOmRlc2stbGFtcCcsXG4gICdsaWdodC5zdHJpcCc6ICdtZGk6bGVkLXN0cmlwLXZhcmlhbnQnLFxuICAnbGlnaHQuc3BvdCc6ICdtZGk6c3BvdGxpZ2h0LWJlYW0nLFxuICBcbiAgLy8gQ2xpbWF0ZVxuICAnY2xpbWF0ZSc6ICdtZGk6dGhlcm1vc3RhdCcsXG4gICd0ZW1wZXJhdHVyZSc6ICdtZGk6dGhlcm1vbWV0ZXInLFxuICAnaHVtaWRpdHknOiAnbWRpOndhdGVyLXBlcmNlbnQnLFxuICAnYWlyX3F1YWxpdHknOiAnbWRpOmFpci1maWx0ZXInLFxuICBcbiAgLy8gU2VjdXJpdHlcbiAgJ2xvY2snOiAnbWRpOmxvY2snLFxuICAnZG9vcic6ICdtZGk6ZG9vcicsXG4gICd3aW5kb3cnOiAnbWRpOndpbmRvdy1jbG9zZWQnLFxuICAnbW90aW9uJzogJ21kaTptb3Rpb24tc2Vuc29yJyxcbiAgJ3ByZXNlbmNlJzogJ21kaTpob21lLWFjY291bnQnLFxuICAnY2FtZXJhJzogJ21kaTpjY3R2JyxcbiAgJ2FsYXJtJzogJ21kaTpzaGllbGQtaG9tZScsXG4gIFxuICAvLyBNZWRpYVxuICAnbWVkaWFfcGxheWVyJzogJ21kaTp0ZWxldmlzaW9uJyxcbiAgJ3NwZWFrZXInOiAnbWRpOnNwZWFrZXInLFxuICAncmVtb3RlJzogJ21kaTpyZW1vdGUnLFxuICBcbiAgLy8gU3dpdGNoZXMgJiBDb250cm9sc1xuICAnc3dpdGNoJzogJ21kaTpsaWdodC1zd2l0Y2gnLFxuICAnZmFuJzogJ21kaTpmYW4nLFxuICAnY292ZXInOiAnbWRpOndpbmRvdy1zaHV0dGVyJyxcbiAgJ2JsaW5kJzogJ21kaTpibGluZHMnLFxuICAnY3VydGFpbic6ICdtZGk6Y3VydGFpbnMnLFxuICBcbiAgLy8gU2Vuc29yc1xuICAnc2Vuc29yJzogJ21kaTpleWUnLFxuICAnYmluYXJ5X3NlbnNvcic6ICdtZGk6cmFkaW9ib3gtbWFya2VkJyxcbiAgJ2JhdHRlcnknOiAnbWRpOmJhdHRlcnknLFxuICAncG93ZXInOiAnbWRpOmZsYXNoJyxcbiAgJ2VuZXJneSc6ICdtZGk6bGlnaHRuaW5nLWJvbHQnLFxuICBcbiAgLy8gT3RoZXIgZGV2aWNlc1xuICAndmFjdXVtJzogJ21kaTpyb2JvdC12YWN1dW0nLFxuICAncGVyc29uJzogJ21kaTphY2NvdW50JyxcbiAgJ2RldmljZV90cmFja2VyJzogJ21kaTpjZWxscGhvbmUnLFxuICAnc3VuJzogJ21kaTp3ZWF0aGVyLXN1bm55JyxcbiAgJ3dlYXRoZXInOiAnbWRpOndlYXRoZXItcGFydGx5LWNsb3VkeScsXG4gIFxuICAvLyBEZWZhdWx0XG4gICdkZWZhdWx0JzogJ21kaTpob21lLWFzc2lzdGFudCdcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHlJY29uKGVudGl0eUlkOiBzdHJpbmcsIHN0YXRlPzogYW55KTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgY3VzdG9tIGljb24gZmlyc3RcbiAgaWYgKHN0YXRlPy5hdHRyaWJ1dGVzPy5pY29uKSB7XG4gICAgcmV0dXJuIHN0YXRlLmF0dHJpYnV0ZXMuaWNvbjtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZGV2aWNlIGNsYXNzIGZvciBtb3JlIHNwZWNpZmljIGljb25zXG4gIGNvbnN0IGRldmljZUNsYXNzID0gc3RhdGU/LmF0dHJpYnV0ZXM/LmRldmljZV9jbGFzcztcbiAgaWYgKGRldmljZUNsYXNzICYmIEVOVElUWV9JQ09OU1tkZXZpY2VDbGFzc10pIHtcbiAgICByZXR1cm4gRU5USVRZX0lDT05TW2RldmljZUNsYXNzXTtcbiAgfVxuICBcbiAgLy8gTWF0Y2ggYnkgZW50aXR5IElEIHBhdHRlcm5zXG4gIGZvciAoY29uc3QgW3BhdHRlcm4sIGljb25dIG9mIE9iamVjdC5lbnRyaWVzKEVOVElUWV9JQ09OUykpIHtcbiAgICBpZiAoZW50aXR5SWQuaW5jbHVkZXMocGF0dGVybikpIHtcbiAgICAgIHJldHVybiBpY29uO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gRG9tYWluIGZhbGxiYWNrXG4gIGNvbnN0IGRvbWFpbiA9IGVudGl0eUlkLnNwbGl0KCcuJylbMF07XG4gIHJldHVybiBFTlRJVFlfSUNPTlNbZG9tYWluXSB8fCBFTlRJVFlfSUNPTlMuZGVmYXVsdDtcbn1cblxuLyoqXG4gKiBHZXQgaWNvbiBjb2xvciBiYXNlZCBvbiBlbnRpdHkgc3RhdGUgYW5kIGRvbWFpbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVudGl0eUljb25Db2xvcihlbnRpdHlJZDogc3RyaW5nLCBzdGF0ZT86IGFueSk6IHN0cmluZyB7XG4gIGNvbnN0IGRvbWFpbiA9IGVudGl0eUlkLnNwbGl0KCcuJylbMF07XG4gIGNvbnN0IGlzT24gPSBzdGF0ZT8uc3RhdGUgPT09ICdvbic7XG4gIGNvbnN0IGlzQWN0aXZlID0gWydwbGF5aW5nJywgJ29wZW4nLCAndW5sb2NrZWQnLCAnaG9tZScsICdkZXRlY3RlZCddLmluY2x1ZGVzKHN0YXRlPy5zdGF0ZSk7XG4gIGNvbnN0IGlzVW5hdmFpbGFibGUgPSBzdGF0ZT8uc3RhdGUgPT09ICd1bmF2YWlsYWJsZSc7XG4gIFxuICBpZiAoaXNVbmF2YWlsYWJsZSkge1xuICAgIHJldHVybiAndmFyKC0tZGlzYWJsZWQtdGV4dC1jb2xvciknO1xuICB9XG4gIFxuICAvLyBEb21haW4tc3BlY2lmaWMgY29sb3JzIHdoZW4gYWN0aXZlXG4gIGlmIChpc09uIHx8IGlzQWN0aXZlKSB7XG4gICAgc3dpdGNoIChkb21haW4pIHtcbiAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgcmV0dXJuIHN0YXRlPy5hdHRyaWJ1dGVzPy5yZ2JfY29sb3IgXG4gICAgICAgICAgPyBgcmdiKCR7c3RhdGUuYXR0cmlidXRlcy5yZ2JfY29sb3Iuam9pbignLCcpfSlgIFxuICAgICAgICAgIDogJ3ZhcigtLXByaW1hcnktY29sb3IpJztcbiAgICAgIGNhc2UgJ2NsaW1hdGUnOlxuICAgICAgICBjb25zdCBtb2RlID0gc3RhdGU/LnN0YXRlO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2hlYXQnKSByZXR1cm4gJyNmZjZiMDAnO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2Nvb2wnKSByZXR1cm4gJyMwMjg4ZDEnO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2hlYXRfY29vbCcgfHwgbW9kZSA9PT0gJ2F1dG8nKSByZXR1cm4gJyMzODhlM2MnO1xuICAgICAgICByZXR1cm4gJ3ZhcigtLXByaW1hcnktY29sb3IpJztcbiAgICAgIGNhc2UgJ2xvY2snOlxuICAgICAgICByZXR1cm4gc3RhdGU/LnN0YXRlID09PSAnbG9ja2VkJyA/ICcjNGNhZjUwJyA6ICcjZjQ0MzM2JztcbiAgICAgIGNhc2UgJ2FsYXJtX2NvbnRyb2xfcGFuZWwnOlxuICAgICAgICBpZiAoc3RhdGU/LnN0YXRlID09PSAnYXJtZWRfYXdheScpIHJldHVybiAnI2Y0NDMzNic7XG4gICAgICAgIGlmIChzdGF0ZT8uc3RhdGUgPT09ICdhcm1lZF9ob21lJykgcmV0dXJuICcjZmY5ODAwJztcbiAgICAgICAgaWYgKHN0YXRlPy5zdGF0ZSA9PT0gJ2Rpc2FybWVkJykgcmV0dXJuICcjNGNhZjUwJztcbiAgICAgICAgcmV0dXJuICd2YXIoLS1wcmltYXJ5LWNvbG9yKSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ3ZhcigtLXByaW1hcnktY29sb3IpJztcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiAndmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpJztcbn1cblxuLyoqXG4gKiBHZXQgYSBtaW5pIGljb24gZm9yIGVudGl0eSBzdW1tYXJpZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW5pSWNvbihlbnRpdHlUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtaW5pSWNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgJ2xpZ2h0cyc6ICdtZGk6bGlnaHRidWxiJyxcbiAgICAndGVtcGVyYXR1cmUnOiAnbWRpOnRoZXJtb21ldGVyJyxcbiAgICAnaHVtaWRpdHknOiAnbWRpOndhdGVyLXBlcmNlbnQnLFxuICAgICdtb3Rpb24nOiAnbWRpOm1vdGlvbi1zZW5zb3InLFxuICAgICdkb29ycyc6ICdtZGk6ZG9vcicsXG4gICAgJ3dpbmRvd3MnOiAnbWRpOndpbmRvdy1jbG9zZWQnLFxuICAgICdtZWRpYSc6ICdtZGk6dGVsZXZpc2lvbicsXG4gICAgJ2NsaW1hdGUnOiAnbWRpOnRoZXJtb3N0YXQnXG4gIH07XG4gIFxuICByZXR1cm4gbWluaUljb25zW2VudGl0eVR5cGVdIHx8ICdtZGk6Y2lyY2xlJztcbn0iLCIvKipcbiAqIFJvb20gd2lkZ2V0IGZvciBEYXNodmlldyBWMi5cbiAqIERpc3BsYXlzIGFsbCBlbnRpdGllcyBpbiBhIHJvb20gd2l0aCBzdW1tYXJ5IGFuZCBjb250cm9scy5cbiAqL1xuXG5pbXBvcnQgeyBQcm9wZXJ0eVZhbHVlcywgVGVtcGxhdGVSZXN1bHQsIGNzcywgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBEYXNodmlld1dpZGdldCwgV2lkZ2V0Q29uZmlnIH0gZnJvbSAnLi4vY29yZS93aWRnZXQtYmFzZSc7XG5pbXBvcnQgeyBnZXRFbnRpdHlJY29uLCBnZXRFbnRpdHlJY29uQ29sb3IgfSBmcm9tICcuLi91dGlscy9pY29ucyc7XG5pbXBvcnQgeyBza2VsZXRvblN0eWxlcywgdG91Y2hTdHlsZXMgfSBmcm9tICcuLi9zdHlsZXMvYW5pbWF0aW9ucyc7XG5cbmludGVyZmFjZSBSb29tV2lkZ2V0Q29uZmlnIGV4dGVuZHMgV2lkZ2V0Q29uZmlnIHtcbiAgdHlwZTogJ3Jvb20nO1xuICBhcmVhSWQ/OiBzdHJpbmc7XG4gIGFyZWFOYW1lPzogc3RyaW5nO1xuICBzaG93RW1wdHk/OiBib29sZWFuO1xufVxuXG5AY3VzdG9tRWxlbWVudCgnZGFzaHZpZXctcm9vbS13aWRnZXQnKVxuZXhwb3J0IGNsYXNzIFJvb21XaWRnZXQgZXh0ZW5kcyBEYXNodmlld1dpZGdldCB7XG4gIEBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KSBhcmVhSWQ/OiBzdHJpbmc7XG4gIEBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KSBhcmVhTmFtZT86IHN0cmluZztcbiAgQHN0YXRlKCkgcHJpdmF0ZSBleHBhbmRlZCA9IGZhbHNlO1xuICBAc3RhdGUoKSBwcml2YXRlIGxpZ2h0Q291bnQgPSAwO1xuICBAc3RhdGUoKSBwcml2YXRlIGxpZ2h0c09uID0gMDtcbiAgQHN0YXRlKCkgcHJpdmF0ZSB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBodW1pZGl0eT86IG51bWJlcjtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBsYXN0TW90aW9uPzogRGF0ZTtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBncm91cGVkRW50aXRpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHt9O1xuXG4gIHByb3RlY3RlZCBzdWJzY3JpYmVkRW50aXRpZXMoKTogc3RyaW5nW10ge1xuICAgIC8vIFN1YnNjcmliZSB0byBhbGwgZW50aXRpZXMgd2hlbiBleHBhbmRlZCwgb3IganVzdCBrZXkgZW50aXRpZXMgd2hlbiBjb2xsYXBzZWRcbiAgICBpZiAodGhpcy5leHBhbmRlZCB8fCB0aGlzLmVudGl0eVN0YXRlcy5zaXplIDwgMTApIHtcbiAgICAgIHJldHVybiB0aGlzLndpZGdldENvbmZpZz8uZW50aXRpZXMgfHwgW107XG4gICAgfVxuICAgIFxuICAgIC8vIFdoZW4gY29sbGFwc2VkIHdpdGggbWFueSBlbnRpdGllcywgb25seSBzdWJzY3JpYmUgdG8ga2V5IGVudGl0aWVzXG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLndpZGdldENvbmZpZz8uZW50aXRpZXMgfHwgW107XG4gICAgcmV0dXJuIGVudGl0aWVzLmZpbHRlcihpZCA9PiBcbiAgICAgIGlkLmluY2x1ZGVzKCdtb3Rpb24nKSB8fCBcbiAgICAgIGlkLmluY2x1ZGVzKCdkb29yJykgfHwgXG4gICAgICBpZC5pbmNsdWRlcygncHJlc2VuY2UnKSB8fFxuICAgICAgaWQuaW5jbHVkZXMoJ3RlbXBlcmF0dXJlJykgfHxcbiAgICAgIGlkLmluY2x1ZGVzKCdodW1pZGl0eScpIHx8XG4gICAgICBpZC5zdGFydHNXaXRoKCdsaWdodC4nKVxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdENvbmZpZygpOiBQYXJ0aWFsPFJvb21XaWRnZXRDb25maWc+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3Jvb20nLFxuICAgICAgZW50aXRpZXM6IFtdLFxuICAgICAgc2hvd0VtcHR5OiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TdGF0ZUNoYW5nZWQoZW50aXR5SWQ6IHN0cmluZywgbmV3U3RhdGU6IGFueSwgb2xkU3RhdGU6IGFueSk6IHZvaWQge1xuICAgIHN1cGVyLm9uU3RhdGVDaGFuZ2VkKGVudGl0eUlkLCBuZXdTdGF0ZSwgb2xkU3RhdGUpO1xuICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdW1tYXJ5KCk6IHZvaWQge1xuICAgIGxldCBsaWdodENvdW50ID0gMDtcbiAgICBsZXQgbGlnaHRzT24gPSAwO1xuICAgIGxldCB0ZW1wZXJhdHVyZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGxldCBodW1pZGl0eTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGxldCBsYXN0TW90aW9uOiBEYXRlIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gR3JvdXAgZW50aXRpZXMgYnkgdHlwZSBmb3IgYmV0dGVyIG9yZ2FuaXphdGlvblxuICAgIHRoaXMuZ3JvdXBlZEVudGl0aWVzID0gdGhpcy5ncm91cEVudGl0aWVzQnlUeXBlKCk7XG5cbiAgICBmb3IgKGNvbnN0IFtlbnRpdHlJZCwgc3RhdGVdIG9mIHRoaXMuZW50aXR5U3RhdGVzKSB7XG4gICAgICBpZiAoZW50aXR5SWQuc3RhcnRzV2l0aCgnbGlnaHQuJykpIHtcbiAgICAgICAgbGlnaHRDb3VudCsrO1xuICAgICAgICBpZiAoc3RhdGUuc3RhdGUgPT09ICdvbicpIHtcbiAgICAgICAgICBsaWdodHNPbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVudGl0eUlkLmluY2x1ZGVzKCd0ZW1wZXJhdHVyZScpICYmIHN0YXRlLnN0YXRlICE9PSAndW5hdmFpbGFibGUnKSB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwYXJzZUZsb2F0KHN0YXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKCFpc05hTih0ZW1wKSkge1xuICAgICAgICAgIHRlbXBlcmF0dXJlID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbnRpdHlJZC5pbmNsdWRlcygnaHVtaWRpdHknKSAmJiBzdGF0ZS5zdGF0ZSAhPT0gJ3VuYXZhaWxhYmxlJykge1xuICAgICAgICBjb25zdCBodW0gPSBwYXJzZUZsb2F0KHN0YXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKCFpc05hTihodW0pKSB7XG4gICAgICAgICAgaHVtaWRpdHkgPSBodW07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZW50aXR5SWQuaW5jbHVkZXMoJ21vdGlvbicpIHx8IGVudGl0eUlkLmluY2x1ZGVzKCdwcmVzZW5jZScpKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zdGF0ZSA9PT0gJ29uJyAmJiBzdGF0ZS5sYXN0X2NoYW5nZWQpIHtcbiAgICAgICAgICBjb25zdCBtb3Rpb25UaW1lID0gbmV3IERhdGUoc3RhdGUubGFzdF9jaGFuZ2VkKTtcbiAgICAgICAgICBpZiAoIWxhc3RNb3Rpb24gfHwgbW90aW9uVGltZSA+IGxhc3RNb3Rpb24pIHtcbiAgICAgICAgICAgIGxhc3RNb3Rpb24gPSBtb3Rpb25UaW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubGlnaHRDb3VudCA9IGxpZ2h0Q291bnQ7XG4gICAgdGhpcy5saWdodHNPbiA9IGxpZ2h0c09uO1xuICAgIHRoaXMudGVtcGVyYXR1cmUgPSB0ZW1wZXJhdHVyZTtcbiAgICB0aGlzLmh1bWlkaXR5ID0gaHVtaWRpdHk7XG4gICAgdGhpcy5sYXN0TW90aW9uID0gbGFzdE1vdGlvbjtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IHJvb21OYW1lID0gdGhpcy5hcmVhTmFtZSB8fCB0aGlzLndpZGdldENvbmZpZz8udGl0bGUgfHwgJ1Vua25vd24gUm9vbSc7XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclNrZWxldG9uKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwid2lkZ2V0LWVycm9yXCI+XG4gICAgICAgICAgJHt0aGlzLmVycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtY2FyZCByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIiR7cm9vbU5hbWV9IHJvb20gY29udHJvbHNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlciB0b3VjaC10YXJnZXRcIiBAY2xpY2s9JHt0aGlzLnRvZ2dsZUV4cGFuZGVkfSBAa2V5ZG93bj0ke3RoaXMuaGFuZGxlSGVhZGVyS2V5ZG93bn0+XG4gICAgICAgICAgPGgyPiR7cm9vbU5hbWV9PC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VtbWFyeVwiPlxuICAgICAgICAgICAgJHt0aGlzLnJlbmRlclN1bW1hcnkoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aGEtaWNvblxuICAgICAgICAgICAgY2xhc3M9XCJleHBhbmQtaWNvbiAke3RoaXMuZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJyd9XCJcbiAgICAgICAgICAgIGljb249XCJtZGk6Y2hldnJvbi1kb3duXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCIke3RoaXMuZXhwYW5kZWQgPyAnQ29sbGFwc2UnIDogJ0V4cGFuZCd9IHJvb20gZGV0YWlsc1wiXG4gICAgICAgICAgPjwvaGEtaWNvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudCAke3RoaXMuZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCd9XCI+XG4gICAgICAgICAgJHt0aGlzLnJlbmRlckV4cGFuZGVkKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbnNcIj5cbiAgICAgICAgICAke3RoaXMubGlnaHRDb3VudCA+IDAgPyBodG1sYFxuICAgICAgICAgICAgPG13Yy1idXR0b24gQGNsaWNrPSR7dGhpcy50dXJuQWxsTGlnaHRzT2ZmfSBhcmlhLWxhYmVsPVwiVHVybiBhbGwgbGlnaHRzIG9mZlwiPlxuICAgICAgICAgICAgICA8aGEtaWNvbiBpY29uPVwibWRpOmxpZ2h0YnVsYi1vZmZcIj48L2hhLWljb24+XG4gICAgICAgICAgICAgIEFsbCBPZmZcbiAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICBgIDogJyd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYS1jYXJkPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclN1bW1hcnkoKTogVGVtcGxhdGVSZXN1bHRbXSB7XG4gICAgY29uc3Qgc3VtbWFyeTogVGVtcGxhdGVSZXN1bHRbXSA9IFtdO1xuXG4gICAgLy8gTGlnaHQgc3RhdHVzXG4gICAgaWYgKHRoaXMubGlnaHRDb3VudCA+IDApIHtcbiAgICAgIHN1bW1hcnkucHVzaChodG1sYFxuICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktaXRlbVwiPlxuICAgICAgICAgIDxoYS1pY29uIGljb249XCJtZGk6bGlnaHRidWxiXCI+PC9oYS1pY29uPlxuICAgICAgICAgICR7dGhpcy5saWdodHNPbn0vJHt0aGlzLmxpZ2h0Q291bnR9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIGApO1xuICAgIH1cblxuICAgIC8vIFRlbXBlcmF0dXJlXG4gICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VtbWFyeS5wdXNoKGh0bWxgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS1pdGVtXCI+XG4gICAgICAgICAgPGhhLWljb24gaWNvbj1cIm1kaTp0aGVybW9tZXRlclwiPjwvaGEtaWNvbj5cbiAgICAgICAgICAke3RoaXMudGVtcGVyYXR1cmUudG9GaXhlZCgxKX3CsFxuICAgICAgICA8L3NwYW4+XG4gICAgICBgKTtcbiAgICB9XG5cbiAgICAvLyBIdW1pZGl0eVxuICAgIGlmICh0aGlzLmh1bWlkaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN1bW1hcnkucHVzaChodG1sYFxuICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktaXRlbVwiPlxuICAgICAgICAgIDxoYS1pY29uIGljb249XCJtZGk6d2F0ZXItcGVyY2VudFwiPjwvaGEtaWNvbj5cbiAgICAgICAgICAke3RoaXMuaHVtaWRpdHkudG9GaXhlZCgwKX0lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIGApO1xuICAgIH1cblxuICAgIC8vIExhc3QgbW90aW9uXG4gICAgaWYgKHRoaXMubGFzdE1vdGlvbikge1xuICAgICAgY29uc3QgbWludXRlc0FnbyA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3Rpb24uZ2V0VGltZSgpKSAvIDYwMDAwKTtcbiAgICAgIGNvbnN0IHRpbWVTdHIgPSBtaW51dGVzQWdvIDwgMSA/ICdub3cnIDogXG4gICAgICAgICAgICAgICAgICAgICAgbWludXRlc0FnbyA8IDYwID8gYCR7bWludXRlc0Fnb31tIGFnb2AgOlxuICAgICAgICAgICAgICAgICAgICAgIGAke01hdGguZmxvb3IobWludXRlc0FnbyAvIDYwKX1oIGFnb2A7XG4gICAgICBzdW1tYXJ5LnB1c2goaHRtbGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWl0ZW1cIj5cbiAgICAgICAgICA8aGEtaWNvbiBpY29uPVwibWRpOm1vdGlvbi1zZW5zb3JcIj48L2hhLWljb24+XG4gICAgICAgICAgJHt0aW1lU3RyfVxuICAgICAgICA8L3NwYW4+XG4gICAgICBgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VtbWFyeTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRXhwYW5kZWQoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImVudGl0eS1saXN0XCI+XG4gICAgICAgICR7T2JqZWN0LmVudHJpZXModGhpcy5ncm91cGVkRW50aXRpZXMpLm1hcCgoW3R5cGUsIGVudGl0aWVzXSkgPT4gXG4gICAgICAgICAgdGhpcy5yZW5kZXJFbnRpdHlHcm91cCh0eXBlLCBlbnRpdGllcylcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckVudGl0eShlbnRpdHlJZDogc3RyaW5nKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHlTdGF0ZXMuZ2V0KGVudGl0eUlkKTtcbiAgICBpZiAoIXN0YXRlKSByZXR1cm4gaHRtbGBgO1xuXG4gICAgY29uc3QgbmFtZSA9IHN0YXRlLmF0dHJpYnV0ZXMuZnJpZW5kbHlfbmFtZSB8fCBlbnRpdHlJZDtcbiAgICBjb25zdCBkb21haW4gPSBlbnRpdHlJZC5zcGxpdCgnLicpWzBdO1xuICAgIGNvbnN0IGlzVG9nZ2xlYWJsZSA9IFsnbGlnaHQnLCAnc3dpdGNoJywgJ2ZhbicsICdpbnB1dF9ib29sZWFuJ10uaW5jbHVkZXMoZG9tYWluKTtcbiAgICBjb25zdCBpY29uID0gZ2V0RW50aXR5SWNvbihlbnRpdHlJZCwgc3RhdGUpO1xuICAgIGNvbnN0IGljb25Db2xvciA9IGdldEVudGl0eUljb25Db2xvcihlbnRpdHlJZCwgc3RhdGUpO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiZW50aXR5LWl0ZW0gdG91Y2gtdGFyZ2V0XCIgQGNsaWNrPSR7aXNUb2dnbGVhYmxlID8gKCkgPT4gdGhpcy50b2dnbGVFbnRpdHkoZW50aXR5SWQpIDogdW5kZWZpbmVkfT5cbiAgICAgICAgPGhhLWljb24gXG4gICAgICAgICAgY2xhc3M9XCJlbnRpdHktaWNvbiAke3N0YXRlLnN0YXRlfSAke3N0YXRlLnN0YXRlID09PSAndW5hdmFpbGFibGUnID8gJ3VuYXZhaWxhYmxlJyA6ICcnfVwiXG4gICAgICAgICAgaWNvbj1cIiR7aWNvbn1cIlxuICAgICAgICAgIHN0eWxlPVwiY29sb3I6ICR7aWNvbkNvbG9yfVwiXG4gICAgICAgID48L2hhLWljb24+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZW50aXR5LW5hbWVcIj4ke25hbWV9PC9zcGFuPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZW50aXR5LWNvbnRyb2xzXCI+XG4gICAgICAgICAgJHtpc1RvZ2dsZWFibGUgPyBodG1sYFxuICAgICAgICAgICAgPGhhLXN3aXRjaFxuICAgICAgICAgICAgICAuY2hlY2tlZD0ke3N0YXRlLnN0YXRlID09PSAnb24nfVxuICAgICAgICAgICAgICBAY2hhbmdlPSR7KGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUVudGl0eShlbnRpdHlJZCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJUb2dnbGUgJHtuYW1lfVwiXG4gICAgICAgICAgICA+PC9oYS1zd2l0Y2g+XG4gICAgICAgICAgYCA6IGh0bWxgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVudGl0eS1zdGF0ZVwiPiR7c3RhdGUuc3RhdGV9PC9zcGFuPlxuICAgICAgICAgIGB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U29ydGVkRW50aXRpZXMoKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGVudGl0aWVzID0gQXJyYXkuZnJvbSh0aGlzLmVudGl0eVN0YXRlcy5rZXlzKCkpO1xuICAgIFxuICAgIC8vIFNvcnQgYnkgZG9tYWluIHByaW9yaXR5LCB0aGVuIGJ5IG5hbWVcbiAgICBjb25zdCBkb21haW5Qcmlvcml0eTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICAgICdsaWdodCc6IDEsXG4gICAgICAnc3dpdGNoJzogMixcbiAgICAgICdmYW4nOiAzLFxuICAgICAgJ2NsaW1hdGUnOiA0LFxuICAgICAgJ2NvdmVyJzogNSxcbiAgICAgICdzZW5zb3InOiA2LFxuICAgICAgJ2JpbmFyeV9zZW5zb3InOiA3LFxuICAgIH07XG5cbiAgICByZXR1cm4gZW50aXRpZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgZG9tYWluQSA9IGEuc3BsaXQoJy4nKVswXTtcbiAgICAgIGNvbnN0IGRvbWFpbkIgPSBiLnNwbGl0KCcuJylbMF07XG4gICAgICBjb25zdCBwcmlvcml0eUEgPSBkb21haW5Qcmlvcml0eVtkb21haW5BXSB8fCA5OTk7XG4gICAgICBjb25zdCBwcmlvcml0eUIgPSBkb21haW5Qcmlvcml0eVtkb21haW5CXSB8fCA5OTk7XG4gICAgICBcbiAgICAgIGlmIChwcmlvcml0eUEgIT09IHByaW9yaXR5Qikge1xuICAgICAgICByZXR1cm4gcHJpb3JpdHlBIC0gcHJpb3JpdHlCO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB0b2dnbGVFeHBhbmRlZCgpOiB2b2lkIHtcbiAgICB0aGlzLmV4cGFuZGVkID0gIXRoaXMuZXhwYW5kZWQ7XG4gICAgXG4gICAgLy8gVXBkYXRlIHN1YnNjcmlwdGlvbnMgd2hlbiBleHBhbmRpbmcvY29sbGFwc2luZ1xuICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUhlYWRlcktleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy50b2dnbGVFeHBhbmRlZCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ3JvdXBFbnRpdGllc0J5VHlwZSgpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4ge1xuICAgIGNvbnN0IGdyb3VwczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge307XG4gICAgXG4gICAgZm9yIChjb25zdCBlbnRpdHlJZCBvZiB0aGlzLmVudGl0eVN0YXRlcy5rZXlzKCkpIHtcbiAgICAgIGNvbnN0IGRvbWFpbiA9IGVudGl0eUlkLnNwbGl0KCcuJylbMF07XG4gICAgICBcbiAgICAgIC8vIEdyb3VwIGJ5IGRvbWFpbiB3aXRoIGZyaWVuZGx5IG5hbWVzXG4gICAgICBjb25zdCBncm91cE5hbWUgPSB0aGlzLmdldERvbWFpbkdyb3VwTmFtZShkb21haW4pO1xuICAgICAgaWYgKCFncm91cHNbZ3JvdXBOYW1lXSkge1xuICAgICAgICBncm91cHNbZ3JvdXBOYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2dyb3VwTmFtZV0ucHVzaChlbnRpdHlJZCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNvcnQgZW50aXRpZXMgd2l0aGluIGVhY2ggZ3JvdXBcbiAgICBmb3IgKGNvbnN0IFtncm91cE5hbWUsIGVudGl0aWVzXSBvZiBPYmplY3QuZW50cmllcyhncm91cHMpKSB7XG4gICAgICBncm91cHNbZ3JvdXBOYW1lXSA9IGVudGl0aWVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGVBID0gdGhpcy5lbnRpdHlTdGF0ZXMuZ2V0KGEpO1xuICAgICAgICBjb25zdCBzdGF0ZUIgPSB0aGlzLmVudGl0eVN0YXRlcy5nZXQoYik7XG4gICAgICAgIGNvbnN0IG5hbWVBID0gc3RhdGVBPy5hdHRyaWJ1dGVzPy5mcmllbmRseV9uYW1lIHx8IGE7XG4gICAgICAgIGNvbnN0IG5hbWVCID0gc3RhdGVCPy5hdHRyaWJ1dGVzPy5mcmllbmRseV9uYW1lIHx8IGI7XG4gICAgICAgIHJldHVybiBuYW1lQS5sb2NhbGVDb21wYXJlKG5hbWVCKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZ3JvdXBzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREb21haW5Hcm91cE5hbWUoZG9tYWluOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRvbWFpbk5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ2xpZ2h0JzogJ0xpZ2h0cycsXG4gICAgICAnc3dpdGNoJzogJ1N3aXRjaGVzJyxcbiAgICAgICdmYW4nOiAnRmFucycsXG4gICAgICAnY2xpbWF0ZSc6ICdDbGltYXRlJyxcbiAgICAgICdjb3Zlcic6ICdDb3ZlcnMnLFxuICAgICAgJ2xvY2snOiAnTG9ja3MnLFxuICAgICAgJ3NlbnNvcic6ICdTZW5zb3JzJyxcbiAgICAgICdiaW5hcnlfc2Vuc29yJzogJ0JpbmFyeSBTZW5zb3JzJyxcbiAgICAgICdtZWRpYV9wbGF5ZXInOiAnTWVkaWEnLFxuICAgICAgJ2NhbWVyYSc6ICdDYW1lcmFzJyxcbiAgICAgICdhbGFybV9jb250cm9sX3BhbmVsJzogJ1NlY3VyaXR5J1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIGRvbWFpbk5hbWVzW2RvbWFpbl0gfHwgZG9tYWluLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZG9tYWluLnNsaWNlKDEpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJFbnRpdHlHcm91cCh0eXBlOiBzdHJpbmcsIGVudGl0aWVzOiBzdHJpbmdbXSk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBpZiAoZW50aXRpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gaHRtbGBgO1xuICAgIFxuICAgIGNvbnN0IHR5cGVJY29uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdMaWdodHMnOiAnbWRpOmxpZ2h0YnVsYicsXG4gICAgICAnU3dpdGNoZXMnOiAnbWRpOmxpZ2h0LXN3aXRjaCcsXG4gICAgICAnU2Vuc29ycyc6ICdtZGk6ZXllJyxcbiAgICAgICdDbGltYXRlJzogJ21kaTp0aGVybW9zdGF0JyxcbiAgICAgICdNZWRpYSc6ICdtZGk6dGVsZXZpc2lvbicsXG4gICAgICAnQ292ZXJzJzogJ21kaTp3aW5kb3ctc2h1dHRlcicsXG4gICAgICAnTG9ja3MnOiAnbWRpOmxvY2snLFxuICAgICAgJ0ZhbnMnOiAnbWRpOmZhbicsXG4gICAgICAnQ2FtZXJhcyc6ICdtZGk6Y2N0dicsXG4gICAgICAnU2VjdXJpdHknOiAnbWRpOnNoaWVsZC1ob21lJ1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiZW50aXR5LWdyb3VwXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlbnRpdHktZ3JvdXAtaGVhZGVyXCI+XG4gICAgICAgICAgPGhhLWljb24gaWNvbj0ke3R5cGVJY29uc1t0eXBlXSB8fCAnbWRpOmhvbWUnfT48L2hhLWljb24+XG4gICAgICAgICAgPHNwYW4+JHt0eXBlfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvdW50XCI+KCR7ZW50aXRpZXMubGVuZ3RofSk8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke2VudGl0aWVzLm1hcChlbnRpdHkgPT4gdGhpcy5yZW5kZXJFbnRpdHkoZW50aXR5KSl9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTa2VsZXRvbigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtY2FyZD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2VsZXRvbiBza2VsZXRvbi10ZXh0IGxhcmdlXCIgc3R5bGU9XCJ3aWR0aDogMTIwcHg7XCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInN1bW1hcnlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2VsZXRvbiBza2VsZXRvbi10ZXh0XCIgc3R5bGU9XCJ3aWR0aDogNDBweDtcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2VsZXRvbiBza2VsZXRvbi10ZXh0XCIgc3R5bGU9XCJ3aWR0aDogNTBweDtcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2VsZXRvbiBza2VsZXRvbi10ZXh0XCIgc3R5bGU9XCJ3aWR0aDogNDVweDtcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24taWNvblwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGEtY2FyZD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB0dXJuQWxsTGlnaHRzT2ZmKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxpZ2h0cyA9IEFycmF5LmZyb20odGhpcy5lbnRpdHlTdGF0ZXMua2V5cygpKS5maWx0ZXIoaWQgPT4gXG4gICAgICBpZC5zdGFydHNXaXRoKCdsaWdodC4nKSAmJiB0aGlzLmVudGl0eVN0YXRlcy5nZXQoaWQpPy5zdGF0ZSA9PT0gJ29uJ1xuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIGxpZ2h0cykge1xuICAgICAgYXdhaXQgdGhpcy50dXJuT2ZmKGxpZ2h0KTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3R5bGVzID0gY3NzYFxuICAgICR7RGFzaHZpZXdXaWRnZXQuc3R5bGVzfVxuICAgICR7c2tlbGV0b25TdHlsZXN9XG4gICAgJHt0b3VjaFN0eWxlc31cbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMTUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xuICAgICAgfVxuXG4gICAgICAuaGVhZGVyOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAuaGVhZGVyOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICBvdXRsaW5lLW9mZnNldDogMnB4O1xuICAgICAgfVxuXG4gICAgICAuaGVhZGVyIGgyIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgfVxuXG4gICAgICAuc3VtbWFyeSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTZweDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIH1cblxuICAgICAgLnN1bW1hcnktaXRlbSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogNHB4O1xuICAgICAgfVxuXG4gICAgICAuc3VtbWFyeS1pdGVtIGhhLWljb24ge1xuICAgICAgICAtLW1kYy1pY29uLXNpemU6IDE2cHg7XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtaWNvbiB7XG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSk7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMjRweDtcbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1pY29uLmV4cGFuZGVkIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgICAgIH1cblxuICAgICAgLyogRW5oYW5jZWQgY29udGVudCB3aXRoIHNtb290aCBhbmltYXRpb25zICovXG4gICAgICAuY29udGVudCB7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMjUwbXMgY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpO1xuICAgICAgfVxuXG4gICAgICAuY29udGVudC5jb2xsYXBzZWQge1xuICAgICAgICBtYXgtaGVpZ2h0OiAwO1xuICAgICAgfVxuXG4gICAgICAuY29udGVudC5leHBhbmRlZCB7XG4gICAgICAgIG1heC1oZWlnaHQ6IDYwMHB4O1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LWxpc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDJweDtcbiAgICAgICAgbWF4LWhlaWdodDogNDAwcHg7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjtcbiAgICAgICAgcGFkZGluZzogMCAxNnB4IDE2cHg7XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktZ3JvdXAge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LWdyb3VwOmxhc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LWdyb3VwLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBwYWRkaW5nOiA4cHggMDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktZ3JvdXAtaGVhZGVyIGhhLWljb24ge1xuICAgICAgICAtLW1kYy1pY29uLXNpemU6IDE4cHg7XG4gICAgICB9XG5cbiAgICAgIC5jb3VudCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktaXRlbSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xuICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktaXRlbTpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLmVudGl0eS1pdGVtOmFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktaWNvbiB7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMjRweDtcbiAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMTUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIH1cblxuICAgICAgLmVudGl0eS1pY29uLnVuYXZhaWxhYmxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWRpc2FibGVkLXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LW5hbWUge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktY29udHJvbHMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIH1cblxuICAgICAgLmVudGl0eS1zdGF0ZSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICBtaW4td2lkdGg6IDYwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hY3Rpb25zIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5hY3Rpb25zOmVtcHR5IHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgbXdjLWJ1dHRvbiB7XG4gICAgICAgIC0tbWRjLXRoZW1lLXByaW1hcnk6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgfVxuXG4gICAgICBtd2MtYnV0dG9uIGhhLWljb24ge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgICAgIH1cblxuICAgICAgLyogTW9iaWxlIG9wdGltaXphdGlvbnMgKi9cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN1bW1hcnkge1xuICAgICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lbnRpdHktaXRlbSB7XG4gICAgICAgICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmVudGl0eS1uYW1lIHtcbiAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIEFjY2Vzc2liaWxpdHkgZW5oYW5jZW1lbnRzICovXG4gICAgICBAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkge1xuICAgICAgICAuaGVhZGVyLFxuICAgICAgICAuZXhwYW5kLWljb24sXG4gICAgICAgIC5lbnRpdHktaXRlbSxcbiAgICAgICAgLmVudGl0eS1pY29uLFxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgdHJhbnNpdGlvbjogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lbnRpdHktaXRlbTphY3RpdmUge1xuICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBGb2N1cyBpbmRpY2F0b3JzICovXG4gICAgICAuZW50aXR5LWl0ZW06Zm9jdXMsXG4gICAgICBoYS1zd2l0Y2g6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgICB9XG4gICAgYDtcbn0iLCIvKipcbiAqIERldmljZSBncm91cCB3aWRnZXQgZm9yIERhc2h2aWV3IFYyLlxuICogR3JvdXBzIGFuZCBkaXNwbGF5cyBkZXZpY2VzIGJ5IHR5cGUgKHN3aXRjaGVzLCBzZW5zb3JzLCBldGMpLlxuICovXG5cbmltcG9ydCB7IFByb3BlcnR5VmFsdWVzLCBUZW1wbGF0ZVJlc3VsdCwgY3NzLCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IERhc2h2aWV3V2lkZ2V0LCBXaWRnZXRDb25maWcgfSBmcm9tICcuLi9jb3JlL3dpZGdldC1iYXNlJztcblxuaW50ZXJmYWNlIERldmljZUdyb3VwV2lkZ2V0Q29uZmlnIGV4dGVuZHMgV2lkZ2V0Q29uZmlnIHtcbiAgdHlwZTogJ2RldmljZS1ncm91cCc7XG4gIGRldmljZVR5cGU6ICdzd2l0Y2gnIHwgJ3NlbnNvcicgfCAnYmluYXJ5X3NlbnNvcicgfCAnY292ZXInIHwgJ2Zhbic7XG4gIGdyb3VwTmFtZT86IHN0cmluZztcbiAgc2hvd09mZmxpbmU/OiBib29sZWFuO1xuICBzaG93R3JvdXBDb250cm9scz86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBHcm91cGVkRW50aXR5IHtcbiAgZW50aXR5SWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGF0ZTogc3RyaW5nO1xuICBpY29uPzogc3RyaW5nO1xuICBsYXN0Q2hhbmdlZD86IERhdGU7XG4gIGlzVG9nZ2xlYWJsZTogYm9vbGVhbjtcbiAgaXNPbmxpbmU6IGJvb2xlYW47XG59XG5cbkBjdXN0b21FbGVtZW50KCdkYXNodmlldy1kZXZpY2UtZ3JvdXAtd2lkZ2V0JylcbmV4cG9ydCBjbGFzcyBEZXZpY2VHcm91cFdpZGdldCBleHRlbmRzIERhc2h2aWV3V2lkZ2V0IHtcbiAgQHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pIGRldmljZVR5cGU6IHN0cmluZyA9ICdzd2l0Y2gnO1xuICBAcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSkgZ3JvdXBOYW1lPzogc3RyaW5nO1xuICBAc3RhdGUoKSBwcml2YXRlIGV4cGFuZGVkID0gZmFsc2U7XG4gIEBzdGF0ZSgpIHByaXZhdGUgZ3JvdXBlZEVudGl0aWVzOiBHcm91cGVkRW50aXR5W10gPSBbXTtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBvbmxpbmVDb3VudCA9IDA7XG4gIEBzdGF0ZSgpIHByaXZhdGUgYWN0aXZlQ291bnQgPSAwO1xuXG4gIHByb3RlY3RlZCBzdWJzY3JpYmVkRW50aXRpZXMoKTogc3RyaW5nW10ge1xuICAgIC8vIFN1YnNjcmliZSB0byBhbGwgZW50aXRpZXMgd2hlbiBleHBhbmRlZCwgb3IganVzdCBhY3RpdmUgb25lcyB3aGVuIGNvbGxhcHNlZFxuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy53aWRnZXRDb25maWc/LmVudGl0aWVzIHx8IFtdO1xuICAgIFxuICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gZW50aXRpZXM7XG4gICAgfVxuICAgIFxuICAgIC8vIFdoZW4gY29sbGFwc2VkLCBvbmx5IHN1YnNjcmliZSB0byBhY3RpdmUgZW50aXRpZXNcbiAgICByZXR1cm4gZW50aXRpZXMuZmlsdGVyKGlkID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHlTdGF0ZXMuZ2V0KGlkKTtcbiAgICAgIHJldHVybiBzdGF0ZSAmJiBzdGF0ZS5zdGF0ZSAhPT0gJ3VuYXZhaWxhYmxlJyAmJiBzdGF0ZS5zdGF0ZSAhPT0gJ3Vua25vd24nO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERlZmF1bHRDb25maWcoKTogUGFydGlhbDxEZXZpY2VHcm91cFdpZGdldENvbmZpZz4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnZGV2aWNlLWdyb3VwJyxcbiAgICAgIGRldmljZVR5cGU6ICdzd2l0Y2gnLFxuICAgICAgZW50aXRpZXM6IFtdLFxuICAgICAgc2hvd09mZmxpbmU6IGZhbHNlLFxuICAgICAgc2hvd0dyb3VwQ29udHJvbHM6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpO1xuICAgIHRoaXMudXBkYXRlR3JvdXBlZEVudGl0aWVzKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TdGF0ZUNoYW5nZWQoZW50aXR5SWQ6IHN0cmluZywgbmV3U3RhdGU6IGFueSwgb2xkU3RhdGU6IGFueSk6IHZvaWQge1xuICAgIHN1cGVyLm9uU3RhdGVDaGFuZ2VkKGVudGl0eUlkLCBuZXdTdGF0ZSwgb2xkU3RhdGUpO1xuICAgIHRoaXMudXBkYXRlR3JvdXBlZEVudGl0aWVzKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUdyb3VwZWRFbnRpdGllcygpOiB2b2lkIHtcbiAgICBjb25zdCBncm91cGVkOiBHcm91cGVkRW50aXR5W10gPSBbXTtcbiAgICBsZXQgb25saW5lQ291bnQgPSAwO1xuICAgIGxldCBhY3RpdmVDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IFtlbnRpdHlJZCwgc3RhdGVdIG9mIHRoaXMuZW50aXR5U3RhdGVzKSB7XG4gICAgICBjb25zdCBpc09ubGluZSA9IHN0YXRlLnN0YXRlICE9PSAndW5hdmFpbGFibGUnICYmIHN0YXRlLnN0YXRlICE9PSAndW5rbm93bic7XG4gICAgICBjb25zdCBpc1RvZ2dsZWFibGUgPSB0aGlzLmlzVG9nZ2xlYWJsZUVudGl0eShlbnRpdHlJZCk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGlzVG9nZ2xlYWJsZSA/IHN0YXRlLnN0YXRlID09PSAnb24nIDogaXNPbmxpbmU7XG5cbiAgICAgIGlmIChpc09ubGluZSkgb25saW5lQ291bnQrKztcbiAgICAgIGlmIChpc0FjdGl2ZSkgYWN0aXZlQ291bnQrKztcblxuICAgICAgZ3JvdXBlZC5wdXNoKHtcbiAgICAgICAgZW50aXR5SWQsXG4gICAgICAgIG5hbWU6IHN0YXRlLmF0dHJpYnV0ZXMuZnJpZW5kbHlfbmFtZSB8fCBlbnRpdHlJZC5zcGxpdCgnLicpWzFdLnJlcGxhY2UoL18vZywgJyAnKSxcbiAgICAgICAgc3RhdGU6IHN0YXRlLnN0YXRlLFxuICAgICAgICBpY29uOiBzdGF0ZS5hdHRyaWJ1dGVzLmljb24gfHwgdGhpcy5nZXREZWZhdWx0SWNvbihlbnRpdHlJZCksXG4gICAgICAgIGxhc3RDaGFuZ2VkOiBzdGF0ZS5sYXN0X2NoYW5nZWQgPyBuZXcgRGF0ZShzdGF0ZS5sYXN0X2NoYW5nZWQpIDogdW5kZWZpbmVkLFxuICAgICAgICBpc1RvZ2dsZWFibGUsXG4gICAgICAgIGlzT25saW5lLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBieSBvbmxpbmUgc3RhdHVzLCB0aGVuIGJ5IHN0YXRlLCB0aGVuIGJ5IG5hbWVcbiAgICBncm91cGVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLmlzT25saW5lICE9PSBiLmlzT25saW5lKSByZXR1cm4gYi5pc09ubGluZSA/IDEgOiAtMTtcbiAgICAgIGlmIChhLnN0YXRlICE9PSBiLnN0YXRlKSB7XG4gICAgICAgIGlmIChhLnN0YXRlID09PSAnb24nKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChiLnN0YXRlID09PSAnb24nKSByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ncm91cGVkRW50aXRpZXMgPSBncm91cGVkO1xuICAgIHRoaXMub25saW5lQ291bnQgPSBvbmxpbmVDb3VudDtcbiAgICB0aGlzLmFjdGl2ZUNvdW50ID0gYWN0aXZlQ291bnQ7XG4gIH1cblxuICBwcml2YXRlIGlzVG9nZ2xlYWJsZUVudGl0eShlbnRpdHlJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZG9tYWluID0gZW50aXR5SWQuc3BsaXQoJy4nKVswXTtcbiAgICByZXR1cm4gWydzd2l0Y2gnLCAnbGlnaHQnLCAnZmFuJywgJ2lucHV0X2Jvb2xlYW4nLCAnY292ZXInXS5pbmNsdWRlcyhkb21haW4pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWZhdWx0SWNvbihlbnRpdHlJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBkb21haW4gPSBlbnRpdHlJZC5zcGxpdCgnLicpWzBdO1xuICAgIGNvbnN0IGljb25NYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnc3dpdGNoJzogJ21kaTp0b2dnbGUtc3dpdGNoJyxcbiAgICAgICdzZW5zb3InOiAnbWRpOmV5ZScsXG4gICAgICAnYmluYXJ5X3NlbnNvcic6ICdtZGk6cmFkaW9ib3gtYmxhbmsnLFxuICAgICAgJ2NvdmVyJzogJ21kaTp3aW5kb3ctc2h1dHRlcicsXG4gICAgICAnZmFuJzogJ21kaTpmYW4nLFxuICAgICAgJ2xpZ2h0JzogJ21kaTpsaWdodGJ1bGInLFxuICAgIH07XG4gICAgcmV0dXJuIGljb25NYXBbZG9tYWluXSB8fCAnbWRpOmRldmljZXMnO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLmdyb3VwTmFtZSB8fCBcbiAgICAgICAgICAgICAgICAgIHRoaXMud2lkZ2V0Q29uZmlnPy50aXRsZSB8fCBcbiAgICAgICAgICAgICAgICAgIGAke3RoaXMuZGV2aWNlVHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuZGV2aWNlVHlwZS5zbGljZSgxKX1zYDtcblxuICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3aWRnZXQtbG9hZGluZ1wiPlxuICAgICAgICAgIExvYWRpbmcgZGV2aWNlcy4uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwid2lkZ2V0LWVycm9yXCI+XG4gICAgICAgICAgJHt0aGlzLmVycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgY29uc3QgY29uZmlnID0gdGhpcy53aWRnZXRDb25maWcgYXMgRGV2aWNlR3JvdXBXaWRnZXRDb25maWc7XG4gICAgY29uc3Qgc2hvd09mZmxpbmUgPSBjb25maWc/LnNob3dPZmZsaW5lID8/IGZhbHNlO1xuICAgIGNvbnN0IGZpbHRlcmVkRW50aXRpZXMgPSBzaG93T2ZmbGluZSA/IFxuICAgICAgdGhpcy5ncm91cGVkRW50aXRpZXMgOiBcbiAgICAgIHRoaXMuZ3JvdXBlZEVudGl0aWVzLmZpbHRlcihlID0+IGUuaXNPbmxpbmUpO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtY2FyZD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiIEBjbGljaz0ke3RoaXMudG9nZ2xlRXhwYW5kZWR9PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItY29udGVudFwiPlxuICAgICAgICAgICAgPGgyPiR7dGl0bGV9PC9oMj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtY291bnRcIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmFjdGl2ZUNvdW50fS8ke3RoaXMub25saW5lQ291bnR9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aGEtaWNvblxuICAgICAgICAgICAgY2xhc3M9XCJleHBhbmQtaWNvbiAke3RoaXMuZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJyd9XCJcbiAgICAgICAgICAgIGljb249XCJtZGk6Y2hldnJvbi1kb3duXCJcbiAgICAgICAgICA+PC9oYS1pY29uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICAke3RoaXMuZXhwYW5kZWQgPyBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbnRpdGllc1wiPlxuICAgICAgICAgICAgJHtmaWx0ZXJlZEVudGl0aWVzLmxlbmd0aCA9PT0gMCA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgICAgIE5vICR7c2hvd09mZmxpbmUgPyAnJyA6ICdvbmxpbmUnfSBkZXZpY2VzIGZvdW5kXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYCA6IGZpbHRlcmVkRW50aXRpZXMubWFwKGVudGl0eSA9PiB0aGlzLnJlbmRlckVudGl0eShlbnRpdHkpKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCA6ICcnfVxuXG4gICAgICAgICR7dGhpcy5yZW5kZXJBY3Rpb25zKCl9XG4gICAgICA8L2hhLWNhcmQ+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRW50aXR5KGVudGl0eTogR3JvdXBlZEVudGl0eSk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBzdGF0ZURpc3BsYXkgPSB0aGlzLmdldFN0YXRlRGlzcGxheShlbnRpdHkpO1xuICAgIGNvbnN0IHN0YXRlQ2xhc3MgPSBlbnRpdHkuaXNPbmxpbmUgPyAnJyA6ICdvZmZsaW5lJztcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImVudGl0eS1yb3cgJHtzdGF0ZUNsYXNzfVwiPlxuICAgICAgICA8aGEtaWNvbiBcbiAgICAgICAgICBpY29uPVwiJHtlbnRpdHkuaWNvbn1cIlxuICAgICAgICAgIGNsYXNzPVwiZW50aXR5LWljb24gJHtlbnRpdHkuc3RhdGUgPT09ICdvbicgPyAnYWN0aXZlJyA6ICcnfVwiXG4gICAgICAgID48L2hhLWljb24+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZW50aXR5LW5hbWVcIj4ke2VudGl0eS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgJHtlbnRpdHkuaXNUb2dnbGVhYmxlICYmIGVudGl0eS5pc09ubGluZSA/IGh0bWxgXG4gICAgICAgICAgPGhhLXN3aXRjaFxuICAgICAgICAgICAgLmNoZWNrZWQ9JHtlbnRpdHkuc3RhdGUgPT09ICdvbid9XG4gICAgICAgICAgICBAY2hhbmdlPSR7KCkgPT4gdGhpcy50b2dnbGVFbnRpdHkoZW50aXR5LmVudGl0eUlkKX1cbiAgICAgICAgICA+PC9oYS1zd2l0Y2g+XG4gICAgICAgIGAgOiBodG1sYFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZW50aXR5LXN0YXRlXCI+JHtzdGF0ZURpc3BsYXl9PC9zcGFuPlxuICAgICAgICBgfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RhdGVEaXNwbGF5KGVudGl0eTogR3JvdXBlZEVudGl0eSk6IHN0cmluZyB7XG4gICAgaWYgKCFlbnRpdHkuaXNPbmxpbmUpIHJldHVybiAnT2ZmbGluZSc7XG4gICAgXG4gICAgLy8gRm9yIHNlbnNvcnMsIHNob3cgdGhlIHZhbHVlIHdpdGggdW5pdFxuICAgIGlmIChlbnRpdHkuZW50aXR5SWQuaW5jbHVkZXMoJ3NlbnNvcicpKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW50aXR5U3RhdGVzLmdldChlbnRpdHkuZW50aXR5SWQpO1xuICAgICAgY29uc3QgdW5pdCA9IHN0YXRlPy5hdHRyaWJ1dGVzPy51bml0X29mX21lYXN1cmVtZW50IHx8ICcnO1xuICAgICAgcmV0dXJuIGAke2VudGl0eS5zdGF0ZX0ke3VuaXQgPyAnICcgKyB1bml0IDogJyd9YDtcbiAgICB9XG4gICAgXG4gICAgLy8gRm9yIGJpbmFyeSBzZW5zb3JzLCBzaG93IG1vcmUgZGVzY3JpcHRpdmUgdGV4dFxuICAgIGlmIChlbnRpdHkuZW50aXR5SWQuaW5jbHVkZXMoJ2JpbmFyeV9zZW5zb3InKSkge1xuICAgICAgcmV0dXJuIGVudGl0eS5zdGF0ZSA9PT0gJ29uJyA/ICdEZXRlY3RlZCcgOiAnQ2xlYXInO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZW50aXR5LnN0YXRlO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJBY3Rpb25zKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLndpZGdldENvbmZpZyBhcyBEZXZpY2VHcm91cFdpZGdldENvbmZpZztcbiAgICBjb25zdCBzaG93R3JvdXBDb250cm9scyA9IGNvbmZpZz8uc2hvd0dyb3VwQ29udHJvbHMgPz8gdHJ1ZTtcbiAgICBcbiAgICBpZiAoIXNob3dHcm91cENvbnRyb2xzIHx8ICF0aGlzLmhhc1RvZ2dsZWFibGVFbnRpdGllcygpKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc0FjdGl2ZURldmljZXMgPSB0aGlzLmdyb3VwZWRFbnRpdGllcy5zb21lKGUgPT4gXG4gICAgICBlLmlzVG9nZ2xlYWJsZSAmJiBlLmlzT25saW5lICYmIGUuc3RhdGUgPT09ICdvbidcbiAgICApO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uc1wiPlxuICAgICAgICAke2hhc0FjdGl2ZURldmljZXMgPyBodG1sYFxuICAgICAgICAgIDxtd2MtYnV0dG9uIEBjbGljaz0ke3RoaXMudHVybkFsbE9mZn0+XG4gICAgICAgICAgICA8aGEtaWNvbiBpY29uPVwibWRpOnBvd2VyLW9mZlwiPjwvaGEtaWNvbj5cbiAgICAgICAgICAgIEFsbCBPZmZcbiAgICAgICAgICA8L213Yy1idXR0b24+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgPG13Yy1idXR0b24gQGNsaWNrPSR7dGhpcy50dXJuQWxsT259PlxuICAgICAgICAgIDxoYS1pY29uIGljb249XCJtZGk6cG93ZXItb25cIj48L2hhLWljb24+XG4gICAgICAgICAgQWxsIE9uXG4gICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIGhhc1RvZ2dsZWFibGVFbnRpdGllcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cGVkRW50aXRpZXMuc29tZShlID0+IGUuaXNUb2dnbGVhYmxlICYmIGUuaXNPbmxpbmUpO1xuICB9XG5cbiAgcHJpdmF0ZSB0b2dnbGVFeHBhbmRlZCgpOiB2b2lkIHtcbiAgICB0aGlzLmV4cGFuZGVkID0gIXRoaXMuZXhwYW5kZWQ7XG4gICAgXG4gICAgLy8gVXBkYXRlIHN1YnNjcmlwdGlvbnMgd2hlbiBleHBhbmRpbmcvY29sbGFwc2luZ1xuICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHR1cm5BbGxPZmYoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdG9nZ2xlYWJsZSA9IHRoaXMuZ3JvdXBlZEVudGl0aWVzLmZpbHRlcihlID0+IFxuICAgICAgZS5pc1RvZ2dsZWFibGUgJiYgZS5pc09ubGluZSAmJiBlLnN0YXRlID09PSAnb24nXG4gICAgKTtcblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRvZ2dsZWFibGUpIHtcbiAgICAgIGF3YWl0IHRoaXMudHVybk9mZihlbnRpdHkuZW50aXR5SWQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdHVybkFsbE9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHRvZ2dsZWFibGUgPSB0aGlzLmdyb3VwZWRFbnRpdGllcy5maWx0ZXIoZSA9PiBcbiAgICAgIGUuaXNUb2dnbGVhYmxlICYmIGUuaXNPbmxpbmUgJiYgZS5zdGF0ZSA9PT0gJ29mZidcbiAgICApO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdG9nZ2xlYWJsZSkge1xuICAgICAgYXdhaXQgdGhpcy50dXJuT24oZW50aXR5LmVudGl0eUlkKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3R5bGVzID0gW1xuICAgIERhc2h2aWV3V2lkZ2V0LnN0eWxlcyxcbiAgICBjc3NgXG4gICAgICBoYS1jYXJkIHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuXG4gICAgICAuaGVhZGVyIHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEodmFyKC0tcmdiLXByaW1hcnktY29sb3IpLCAwLjA1KSwgdHJhbnNwYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICAuaGVhZGVyLWNvbnRlbnQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIgaDIge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5kZXZpY2UtY291bnQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeS1jb2xvciwgd2hpdGUpO1xuICAgICAgICBwYWRkaW5nOiAycHggOHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuXG4gICAgICAuZXhwYW5kLWljb24ge1xuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlO1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAuZXhwYW5kLWljb24uZXhwYW5kZWQge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgICAgfVxuXG4gICAgICAuZW50aXRpZXMge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICBwYWRkaW5nOiAwIDE2cHg7XG4gICAgICAgIG1heC1oZWlnaHQ6IDQwMHB4O1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LXJvdyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgcGFkZGluZzogMTJweCAwO1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlO1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LXJvdzpsYXN0LWNoaWxkIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmVudGl0eS1yb3cub2ZmbGluZSB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgIH1cblxuICAgICAgLmVudGl0eS1pY29uIHtcbiAgICAgICAgLS1tZGMtaWNvbi1zaXplOiAyMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjJzIGVhc2U7XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktaWNvbi5hY3RpdmUge1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5lbnRpdHktbmFtZSB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgfVxuXG4gICAgICAuZW50aXR5LXN0YXRlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgbWluLXdpZHRoOiA2MHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgIH1cblxuICAgICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgcGFkZGluZzogMzJweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICB9XG5cbiAgICAgIC5hY3Rpb25zIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5hY3Rpb25zOmVtcHR5IHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgbXdjLWJ1dHRvbiB7XG4gICAgICAgIC0tbWRjLXRoZW1lLXByaW1hcnk6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgfVxuXG4gICAgICBtd2MtYnV0dG9uIGhhLWljb24ge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgICAgIH1cbiAgICBgXG4gIF07XG59IiwiLyoqXG4gKiBDbGltYXRlIHdpZGdldCBmb3IgRGFzaHZpZXcgVjIuXG4gKiBDb250cm9scyBIVkFDIHN5c3RlbXMsIHRoZXJtb3N0YXRzLCBhbmQgY2xpbWF0ZSBlbnRpdGllcy5cbiAqL1xuXG5pbXBvcnQgeyBQcm9wZXJ0eVZhbHVlcywgVGVtcGxhdGVSZXN1bHQsIGNzcywgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBEYXNodmlld1dpZGdldCwgV2lkZ2V0Q29uZmlnIH0gZnJvbSAnLi4vY29yZS93aWRnZXQtYmFzZSc7XG5pbXBvcnQgeyBza2VsZXRvblN0eWxlcywgdG91Y2hTdHlsZXMgfSBmcm9tICcuLi9zdHlsZXMvYW5pbWF0aW9ucyc7XG5cbmludGVyZmFjZSBDbGltYXRlV2lkZ2V0Q29uZmlnIGV4dGVuZHMgV2lkZ2V0Q29uZmlnIHtcbiAgdHlwZTogJ2NsaW1hdGUnO1xuICBjbGltYXRlRW50aXR5SWQ6IHN0cmluZztcbiAgc2hvd0h1bWlkaXR5PzogYm9vbGVhbjtcbiAgc2hvd1ByZXNldHM/OiBib29sZWFuO1xuICB0ZW1wZXJhdHVyZVN0ZXA/OiBudW1iZXI7XG59XG5cbnR5cGUgSHZhY01vZGUgPSAnb2ZmJyB8ICdoZWF0JyB8ICdjb29sJyB8ICdoZWF0X2Nvb2wnIHwgJ2F1dG8nIHwgJ2RyeScgfCAnZmFuX29ubHknO1xudHlwZSBQcmVzZXRNb2RlID0gJ2VjbycgfCAnYXdheScgfCAnYm9vc3QnIHwgJ2NvbWZvcnQnIHwgJ2hvbWUnIHwgJ3NsZWVwJyB8ICdhY3Rpdml0eSc7XG5cbkBjdXN0b21FbGVtZW50KCdkYXNodmlldy1jbGltYXRlLXdpZGdldCcpXG5leHBvcnQgY2xhc3MgQ2xpbWF0ZVdpZGdldCBleHRlbmRzIERhc2h2aWV3V2lkZ2V0IHtcbiAgQHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pIGNsaW1hdGVFbnRpdHlJZD86IHN0cmluZztcbiAgQHN0YXRlKCkgcHJpdmF0ZSBjdXJyZW50VGVtcD86IG51bWJlcjtcbiAgQHN0YXRlKCkgcHJpdmF0ZSB0YXJnZXRUZW1wPzogbnVtYmVyO1xuICBAc3RhdGUoKSBwcml2YXRlIHRhcmdldFRlbXBMb3c/OiBudW1iZXI7XG4gIEBzdGF0ZSgpIHByaXZhdGUgdGFyZ2V0VGVtcEhpZ2g/OiBudW1iZXI7XG4gIEBzdGF0ZSgpIHByaXZhdGUgaHVtaWRpdHk/OiBudW1iZXI7XG4gIEBzdGF0ZSgpIHByaXZhdGUgaHZhY01vZGU6IEh2YWNNb2RlID0gJ29mZic7XG4gIEBzdGF0ZSgpIHByaXZhdGUgcHJlc2V0TW9kZT86IFByZXNldE1vZGU7XG4gIEBzdGF0ZSgpIHByaXZhdGUgYXZhaWxhYmxlTW9kZXM6IEh2YWNNb2RlW10gPSBbXTtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBhdmFpbGFibGVQcmVzZXRzOiBQcmVzZXRNb2RlW10gPSBbXTtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBpc0FkanVzdGluZyA9IGZhbHNlO1xuICBAc3RhdGUoKSBwcml2YXRlIHNob3dUZW1wRGlhbCA9IHRydWU7XG5cbiAgcHJvdGVjdGVkIHN1YnNjcmliZWRFbnRpdGllcygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgZW50aXRpZXM6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgLy8gUHJpbWFyeSBjbGltYXRlIGVudGl0eVxuICAgIGNvbnN0IGNsaW1hdGVJZCA9IHRoaXMuY2xpbWF0ZUVudGl0eUlkIHx8IHRoaXMud2lkZ2V0Q29uZmlnPy5lbnRpdGllcz8uWzBdO1xuICAgIGlmIChjbGltYXRlSWQpIHtcbiAgICAgIGVudGl0aWVzLnB1c2goY2xpbWF0ZUlkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVsYXRlZCBodW1pZGl0eSBzZW5zb3IgaWYgYW55XG4gICAgY29uc3QgaHVtaWRpdHlFbnRpdHkgPSB0aGlzLndpZGdldENvbmZpZz8uZW50aXRpZXM/LmZpbmQoZSA9PiBcbiAgICAgIGUuaW5jbHVkZXMoJ2h1bWlkaXR5JykgJiYgIWUuaW5jbHVkZXMoJ2NsaW1hdGUnKVxuICAgICk7XG4gICAgaWYgKGh1bWlkaXR5RW50aXR5KSB7XG4gICAgICBlbnRpdGllcy5wdXNoKGh1bWlkaXR5RW50aXR5KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGVudGl0aWVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERlZmF1bHRDb25maWcoKTogUGFydGlhbDxDbGltYXRlV2lkZ2V0Q29uZmlnPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdjbGltYXRlJyxcbiAgICAgIGVudGl0aWVzOiBbXSxcbiAgICAgIHNob3dIdW1pZGl0eTogdHJ1ZSxcbiAgICAgIHNob3dQcmVzZXRzOiB0cnVlLFxuICAgICAgdGVtcGVyYXR1cmVTdGVwOiAwLjUsXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpO1xuICAgIHRoaXMudXBkYXRlQ2xpbWF0ZVN0YXRlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TdGF0ZUNoYW5nZWQoZW50aXR5SWQ6IHN0cmluZywgbmV3U3RhdGU6IGFueSwgb2xkU3RhdGU6IGFueSk6IHZvaWQge1xuICAgIHN1cGVyLm9uU3RhdGVDaGFuZ2VkKGVudGl0eUlkLCBuZXdTdGF0ZSwgb2xkU3RhdGUpO1xuICAgIHRoaXMudXBkYXRlQ2xpbWF0ZVN0YXRlKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNsaW1hdGVTdGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBjbGltYXRlSWQgPSB0aGlzLmNsaW1hdGVFbnRpdHlJZCB8fCB0aGlzLndpZGdldENvbmZpZz8uZW50aXRpZXM/LlswXTtcbiAgICBpZiAoIWNsaW1hdGVJZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2xpbWF0ZVN0YXRlID0gdGhpcy5lbnRpdHlTdGF0ZXMuZ2V0KGNsaW1hdGVJZCk7XG4gICAgaWYgKCFjbGltYXRlU3RhdGUpIHJldHVybjtcblxuICAgIC8vIFVwZGF0ZSB0ZW1wZXJhdHVyZSB2YWx1ZXNcbiAgICB0aGlzLmN1cnJlbnRUZW1wID0gY2xpbWF0ZVN0YXRlLmF0dHJpYnV0ZXMuY3VycmVudF90ZW1wZXJhdHVyZTtcbiAgICB0aGlzLmh2YWNNb2RlID0gY2xpbWF0ZVN0YXRlLnN0YXRlIGFzIEh2YWNNb2RlO1xuICAgIHRoaXMucHJlc2V0TW9kZSA9IGNsaW1hdGVTdGF0ZS5hdHRyaWJ1dGVzLnByZXNldF9tb2RlIGFzIFByZXNldE1vZGU7XG4gICAgXG4gICAgLy8gSGFuZGxlIGRpZmZlcmVudCB0ZW1wZXJhdHVyZSBjb250cm9sIG1vZGVzXG4gICAgaWYgKGNsaW1hdGVTdGF0ZS5hdHRyaWJ1dGVzLnRhcmdldF90ZW1wX2xvdyAmJiBjbGltYXRlU3RhdGUuYXR0cmlidXRlcy50YXJnZXRfdGVtcF9oaWdoKSB7XG4gICAgICB0aGlzLnRhcmdldFRlbXBMb3cgPSBjbGltYXRlU3RhdGUuYXR0cmlidXRlcy50YXJnZXRfdGVtcF9sb3c7XG4gICAgICB0aGlzLnRhcmdldFRlbXBIaWdoID0gY2xpbWF0ZVN0YXRlLmF0dHJpYnV0ZXMudGFyZ2V0X3RlbXBfaGlnaDtcbiAgICAgIHRoaXMudGFyZ2V0VGVtcCA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50YXJnZXRUZW1wID0gY2xpbWF0ZVN0YXRlLmF0dHJpYnV0ZXMudGVtcGVyYXR1cmU7XG4gICAgICB0aGlzLnRhcmdldFRlbXBMb3cgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnRhcmdldFRlbXBIaWdoID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIEF2YWlsYWJsZSBtb2Rlc1xuICAgIHRoaXMuYXZhaWxhYmxlTW9kZXMgPSBjbGltYXRlU3RhdGUuYXR0cmlidXRlcy5odmFjX21vZGVzIHx8IFtdO1xuICAgIHRoaXMuYXZhaWxhYmxlUHJlc2V0cyA9IGNsaW1hdGVTdGF0ZS5hdHRyaWJ1dGVzLnByZXNldF9tb2RlcyB8fCBbXTtcblxuICAgIC8vIENoZWNrIGZvciBodW1pZGl0eSBzZW5zb3JcbiAgICBjb25zdCBodW1pZGl0eUVudGl0eSA9IHRoaXMud2lkZ2V0Q29uZmlnPy5lbnRpdGllcz8uZmluZChlID0+IFxuICAgICAgZS5pbmNsdWRlcygnaHVtaWRpdHknKSAmJiAhZS5pbmNsdWRlcygnY2xpbWF0ZScpXG4gICAgKTtcbiAgICBpZiAoaHVtaWRpdHlFbnRpdHkpIHtcbiAgICAgIGNvbnN0IGh1bWlkaXR5U3RhdGUgPSB0aGlzLmVudGl0eVN0YXRlcy5nZXQoaHVtaWRpdHlFbnRpdHkpO1xuICAgICAgaWYgKGh1bWlkaXR5U3RhdGUgJiYgaHVtaWRpdHlTdGF0ZS5zdGF0ZSAhPT0gJ3VuYXZhaWxhYmxlJykge1xuICAgICAgICB0aGlzLmh1bWlkaXR5ID0gcGFyc2VGbG9hdChodW1pZGl0eVN0YXRlLnN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBjbGltYXRlSWQgPSB0aGlzLmNsaW1hdGVFbnRpdHlJZCB8fCB0aGlzLndpZGdldENvbmZpZz8uZW50aXRpZXM/LlswXTtcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMud2lkZ2V0Q29uZmlnPy50aXRsZSB8fCAnQ2xpbWF0ZSBDb250cm9sJztcblxuICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyU2tlbGV0b24oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lcnJvciB8fCAhY2xpbWF0ZUlkKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIndpZGdldC1lcnJvclwiPlxuICAgICAgICAgICR7dGhpcy5lcnJvciB8fCAnTm8gY2xpbWF0ZSBlbnRpdHkgY29uZmlndXJlZCd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jYXJkPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGgyPiR7dGl0bGV9PC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaHZhYy1tb2RlICR7dGhpcy5odmFjTW9kZX1cIj5cbiAgICAgICAgICAgICR7dGhpcy5odmFjTW9kZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwidGVtcGVyYXR1cmUtZGlzcGxheVwiPlxuICAgICAgICAgICR7dGhpcy5zaG93VGVtcERpYWwgPyB0aGlzLnJlbmRlclRlbXBlcmF0dXJlRGlhbCgpIDogdGhpcy5yZW5kZXJUZW1wZXJhdHVyZURpc3BsYXkoKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgJHt0aGlzLnJlbmRlclRlbXBlcmF0dXJlQ29udHJvbHMoKX1cbiAgICAgICAgJHt0aGlzLnJlbmRlck1vZGVTZWxlY3RvcigpfVxuICAgICAgICAke3RoaXMucmVuZGVyUHJlc2V0U2VsZWN0b3IoKX1cbiAgICAgICAgJHt0aGlzLnJlbmRlckh1bWlkaXR5KCl9XG4gICAgICA8L2hhLWNhcmQ+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVGVtcGVyYXR1cmVEaXNwbGF5KCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBpZiAodGhpcy5jdXJyZW50VGVtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaHRtbGA8c3BhbiBjbGFzcz1cInRlbXAtdW5hdmFpbGFibGVcIj4tLTwvc3Bhbj5gO1xuICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImN1cnJlbnQtdGVtcFwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInRlbXAtdmFsdWVcIj4ke3RoaXMuY3VycmVudFRlbXAudG9GaXhlZCgxKX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwidGVtcC11bml0XCI+wrBDPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICAke3RoaXMucmVuZGVyVGFyZ2V0VGVtcCgpfVxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRlbXBlcmF0dXJlRGlhbCgpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKHRoaXMuY3VycmVudFRlbXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cInRlbXAtZGlhbC11bmF2YWlsYWJsZVwiPlRlbXBlcmF0dXJlIFVuYXZhaWxhYmxlPC9kaXY+YDtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5UZW1wID0gMTA7XG4gICAgY29uc3QgbWF4VGVtcCA9IDM1O1xuICAgIGNvbnN0IGN1cnJlbnRQZXJjZW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCAoKHRoaXMuY3VycmVudFRlbXAgLSBtaW5UZW1wKSAvIChtYXhUZW1wIC0gbWluVGVtcCkpICogMTAwKSk7XG4gICAgY29uc3QgdGFyZ2V0UGVyY2VudCA9IHRoaXMudGFyZ2V0VGVtcCA/IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgKCh0aGlzLnRhcmdldFRlbXAgLSBtaW5UZW1wKSAvIChtYXhUZW1wIC0gbWluVGVtcCkpICogMTAwKSkgOiBjdXJyZW50UGVyY2VudDtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cInRlbXAtZGlhbC1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRlbXAtZGlhbFwiPlxuICAgICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyMDAgMjAwXCIgY2xhc3M9XCJkaWFsLXN2Z1wiPlxuICAgICAgICAgICAgPCEtLSBCYWNrZ3JvdW5kIGNpcmNsZSAtLT5cbiAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMDBcIiBjeT1cIjEwMFwiIHI9XCI4MFwiIGNsYXNzPVwiZGlhbC1iZ1wiIC8+XG4gICAgICAgICAgICA8IS0tIEN1cnJlbnQgdGVtcGVyYXR1cmUgYXJjIC0tPlxuICAgICAgICAgICAgPGNpcmNsZSBcbiAgICAgICAgICAgICAgY3g9XCIxMDBcIiBcbiAgICAgICAgICAgICAgY3k9XCIxMDBcIiBcbiAgICAgICAgICAgICAgcj1cIjgwXCIgXG4gICAgICAgICAgICAgIGNsYXNzPVwiZGlhbC1jdXJyZW50XCJcbiAgICAgICAgICAgICAgc3Ryb2tlLWRhc2hhcnJheT1cIiR7KGN1cnJlbnRQZXJjZW50IC8gMTAwKSAqIDUwMi42fSA1MDIuNlwiXG4gICAgICAgICAgICAgIHRyYW5zZm9ybT1cInJvdGF0ZSgtOTAgMTAwIDEwMClcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwhLS0gVGFyZ2V0IHRlbXBlcmF0dXJlIGluZGljYXRvciAtLT5cbiAgICAgICAgICAgICR7dGhpcy50YXJnZXRUZW1wID8gaHRtbGBcbiAgICAgICAgICAgICAgPGNpcmNsZSBcbiAgICAgICAgICAgICAgICBjeD1cIjEwMFwiIFxuICAgICAgICAgICAgICAgIGN5PVwiMTAwXCIgXG4gICAgICAgICAgICAgICAgcj1cIjgwXCIgXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJkaWFsLXRhcmdldFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlLWRhc2hhcnJheT1cIjMgNTAyLjZcIlxuICAgICAgICAgICAgICAgIHN0cm9rZS1kYXNob2Zmc2V0PVwiJHstKCh0YXJnZXRQZXJjZW50IC8gMTAwKSAqIDUwMi42KX1cIlxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1cInJvdGF0ZSgtOTAgMTAwIDEwMClcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgYCA6ICcnfVxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN1cnJlbnQtdGVtcC1kaWFsXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGVtcC12YWx1ZS1kaWFsXCI+JHt0aGlzLmN1cnJlbnRUZW1wLnRvRml4ZWQoMSl9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRlbXAtdW5pdC1kaWFsXCI+wrBDPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAke3RoaXMudGFyZ2V0VGVtcCA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXJnZXQtdGVtcC1kaWFsXCI+XG4gICAgICAgICAgICAgICAgVGFyZ2V0OiAke3RoaXMudGFyZ2V0VGVtcC50b0ZpeGVkKDEpfcKwQ1xuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZW1wLXRyZW5kXCI+XG4gICAgICAgICAgJHt0aGlzLnJlbmRlclRlbXBlcmF0dXJlVHJlbmQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUZW1wZXJhdHVyZVRyZW5kKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICAvLyBQbGFjZWhvbGRlciBmb3IgdGVtcGVyYXR1cmUgdHJlbmQgbWluaS1ncmFwaFxuICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBzaG93IGhpc3RvcmljYWwgZGF0YVxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cInRyZW5kLWluZGljYXRvclwiPlxuICAgICAgICA8aGEtaWNvbiBpY29uPVwibWRpOnRyZW5kaW5nLXVwXCIgY2xhc3M9XCJ0cmVuZC1pY29uXCI+PC9oYS1pY29uPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInRyZW5kLXRleHRcIj5UcmVuZGluZyB1cDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRhcmdldFRlbXAoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLmh2YWNNb2RlID09PSAnb2ZmJykge1xuICAgICAgcmV0dXJuIGh0bWxgYDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50YXJnZXRUZW1wTG93ICE9PSB1bmRlZmluZWQgJiYgdGhpcy50YXJnZXRUZW1wSGlnaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhcmdldC10ZW1wLXJhbmdlXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0YXJnZXQtbGFiZWxcIj5UYXJnZXQ6PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGFyZ2V0LXZhbHVlXCI+JHt0aGlzLnRhcmdldFRlbXBMb3cudG9GaXhlZCgxKX0gLSAke3RoaXMudGFyZ2V0VGVtcEhpZ2gudG9GaXhlZCgxKX3CsEM8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50YXJnZXRUZW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFyZ2V0LXRlbXBcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRhcmdldC1sYWJlbFwiPlRhcmdldDo8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0YXJnZXQtdmFsdWVcIj4ke3RoaXMudGFyZ2V0VGVtcC50b0ZpeGVkKDEpfcKwQzwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIHJldHVybiBodG1sYGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRlbXBlcmF0dXJlQ29udHJvbHMoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLmh2YWNNb2RlID09PSAnb2ZmJyB8fCB0aGlzLmh2YWNNb2RlID09PSAnZmFuX29ubHknKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMud2lkZ2V0Q29uZmlnIGFzIENsaW1hdGVXaWRnZXRDb25maWc7XG4gICAgY29uc3Qgc3RlcCA9IGNvbmZpZz8udGVtcGVyYXR1cmVTdGVwIHx8IDAuNTtcblxuICAgIGlmICh0aGlzLnRhcmdldFRlbXBMb3cgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRhcmdldFRlbXBIaWdoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGVtcC1jb250cm9scy1kdWFsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRlbXAtY29udHJvbFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+Q29vbCB0bzwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgaWNvbj1cIm1kaTptaW51c1wiXG4gICAgICAgICAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5hZGp1c3RUYXJnZXRUZW1wKCdsb3cnLCAtc3RlcCl9XG4gICAgICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnRyb2wtdmFsdWVcIj4ke3RoaXMudGFyZ2V0VGVtcExvdy50b0ZpeGVkKDEpfcKwQzwvc3Bhbj5cbiAgICAgICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgaWNvbj1cIm1kaTpwbHVzXCJcbiAgICAgICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB0aGlzLmFkanVzdFRhcmdldFRlbXAoJ2xvdycsIHN0ZXApfVxuICAgICAgICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZW1wLWNvbnRyb2xcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPkhlYXQgdG88L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbC1idXR0b25zXCI+XG4gICAgICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgIGljb249XCJtZGk6bWludXNcIlxuICAgICAgICAgICAgICAgIEBjbGljaz0keygpID0+IHRoaXMuYWRqdXN0VGFyZ2V0VGVtcCgnaGlnaCcsIC1zdGVwKX1cbiAgICAgICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29udHJvbC12YWx1ZVwiPiR7dGhpcy50YXJnZXRUZW1wSGlnaC50b0ZpeGVkKDEpfcKwQzwvc3Bhbj5cbiAgICAgICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgaWNvbj1cIm1kaTpwbHVzXCJcbiAgICAgICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB0aGlzLmFkanVzdFRhcmdldFRlbXAoJ2hpZ2gnLCBzdGVwKX1cbiAgICAgICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRhcmdldFRlbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZW1wLWNvbnRyb2xzXCI+XG4gICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICBpY29uPVwibWRpOm1pbnVzXCJcbiAgICAgICAgICAgIEBjbGljaz0keygpID0+IHRoaXMuYWRqdXN0VGFyZ2V0VGVtcCgnc2luZ2xlJywgLXN0ZXApfVxuICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29udHJvbC12YWx1ZVwiPiR7dGhpcy50YXJnZXRUZW1wLnRvRml4ZWQoMSl9wrBDPC9zcGFuPlxuICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgaWNvbj1cIm1kaTpwbHVzXCJcbiAgICAgICAgICAgIEBjbGljaz0keygpID0+IHRoaXMuYWRqdXN0VGFyZ2V0VGVtcCgnc2luZ2xlJywgc3RlcCl9XG4gICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJNb2RlU2VsZWN0b3IoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLmF2YWlsYWJsZU1vZGVzLmxlbmd0aCA8PSAxKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIGNvbnN0IG1vZGVJY29uczogUmVjb3JkPEh2YWNNb2RlLCBzdHJpbmc+ID0ge1xuICAgICAgJ29mZic6ICdtZGk6cG93ZXInLFxuICAgICAgJ2hlYXQnOiAnbWRpOmZpcmUnLFxuICAgICAgJ2Nvb2wnOiAnbWRpOnNub3dmbGFrZScsXG4gICAgICAnaGVhdF9jb29sJzogJ21kaTphdXRvcmVuZXcnLFxuICAgICAgJ2F1dG8nOiAnbWRpOmNhbGVuZGFyLXN5bmMnLFxuICAgICAgJ2RyeSc6ICdtZGk6d2F0ZXItcGVyY2VudCcsXG4gICAgICAnZmFuX29ubHknOiAnbWRpOmZhbicsXG4gICAgfTtcblxuICAgIGNvbnN0IG1vZGVDb2xvcnM6IFJlY29yZDxIdmFjTW9kZSwgc3RyaW5nPiA9IHtcbiAgICAgICdvZmYnOiAndmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpJyxcbiAgICAgICdoZWF0JzogJyNmZjZiMDAnLFxuICAgICAgJ2Nvb2wnOiAnIzAyODhkMScsXG4gICAgICAnaGVhdF9jb29sJzogJyMzODhlM2MnLFxuICAgICAgJ2F1dG8nOiAnIzM4OGUzYycsXG4gICAgICAnZHJ5JzogJyM5YzI3YjAnLFxuICAgICAgJ2Zhbl9vbmx5JzogJyM2MDdkOGInLFxuICAgIH07XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RlLXNlbGVjdG9yXCI+XG4gICAgICAgICR7dGhpcy5hdmFpbGFibGVNb2Rlcy5tYXAobW9kZSA9PiBodG1sYFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwibW9kZS1idXR0b24gdG91Y2gtdGFyZ2V0ICR7bW9kZSA9PT0gdGhpcy5odmFjTW9kZSA/ICdhY3RpdmUnIDogJyd9XCJcbiAgICAgICAgICAgIEBjbGljaz0keygpID0+IHRoaXMuc2V0SHZhY01vZGUobW9kZSl9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2V0ICR7bW9kZS5yZXBsYWNlKCdfJywgJyAnKX0gbW9kZVwiXG4gICAgICAgICAgICBzdHlsZT1cIi0tbW9kZS1jb2xvcjogJHttb2RlQ29sb3JzW21vZGVdfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGhhLWljb24gaWNvbj1cIiR7bW9kZUljb25zW21vZGVdfVwiPjwvaGEtaWNvbj5cbiAgICAgICAgICAgIDxzcGFuPiR7bW9kZS5yZXBsYWNlKCdfJywgJyAnKX08L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGApfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUHJlc2V0U2VsZWN0b3IoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMud2lkZ2V0Q29uZmlnIGFzIENsaW1hdGVXaWRnZXRDb25maWc7XG4gICAgaWYgKCFjb25maWc/LnNob3dQcmVzZXRzIHx8IHRoaXMuYXZhaWxhYmxlUHJlc2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYGA7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlc2V0SWNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnZWNvJzogJ21kaTpsZWFmJyxcbiAgICAgICdhd2F5JzogJ21kaTpob21lLWV4cG9ydC1vdXRsaW5lJyxcbiAgICAgICdib29zdCc6ICdtZGk6cm9ja2V0LWxhdW5jaCcsXG4gICAgICAnY29tZm9ydCc6ICdtZGk6c29mYScsXG4gICAgICAnaG9tZSc6ICdtZGk6aG9tZScsXG4gICAgICAnc2xlZXAnOiAnbWRpOnNsZWVwJyxcbiAgICAgICdhY3Rpdml0eSc6ICdtZGk6cnVuJ1xuICAgIH07XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJwcmVzZXQtc2VsZWN0b3JcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmVzZXQtbGFiZWxcIj5QcmVzZXRzOjwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByZXNldC1idXR0b25zXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwicHJlc2V0LWJ1dHRvbiB0b3VjaC10YXJnZXQgJHshdGhpcy5wcmVzZXRNb2RlID8gJ2FjdGl2ZScgOiAnJ31cIlxuICAgICAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5zZXRQcmVzZXRNb2RlKG51bGwpfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk5vIHByZXNldFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGhhLWljb24gaWNvbj1cIm1kaTpjbG9zZVwiPjwvaGEtaWNvbj5cbiAgICAgICAgICAgIDxzcGFuPk5vbmU8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgJHt0aGlzLmF2YWlsYWJsZVByZXNldHMubWFwKHByZXNldCA9PiBodG1sYFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzcz1cInByZXNldC1idXR0b24gdG91Y2gtdGFyZ2V0ICR7cHJlc2V0ID09PSB0aGlzLnByZXNldE1vZGUgPyAnYWN0aXZlJyA6ICcnfVwiXG4gICAgICAgICAgICAgIEBjbGljaz0keygpID0+IHRoaXMuc2V0UHJlc2V0TW9kZShwcmVzZXQpfVxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2V0ICR7cHJlc2V0fSBwcmVzZXRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aGEtaWNvbiBpY29uPVwiJHtwcmVzZXRJY29uc1twcmVzZXRdIHx8ICdtZGk6Y29nJ31cIj48L2hhLWljb24+XG4gICAgICAgICAgICAgIDxzcGFuPiR7cHJlc2V0fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIGApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckh1bWlkaXR5KCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLndpZGdldENvbmZpZyBhcyBDbGltYXRlV2lkZ2V0Q29uZmlnO1xuICAgIGlmICghY29uZmlnPy5zaG93SHVtaWRpdHkgfHwgdGhpcy5odW1pZGl0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImh1bWlkaXR5LWRpc3BsYXlcIj5cbiAgICAgICAgPGhhLWljb24gaWNvbj1cIm1kaTp3YXRlci1wZXJjZW50XCI+PC9oYS1pY29uPlxuICAgICAgICA8c3Bhbj5IdW1pZGl0eTogJHt0aGlzLmh1bWlkaXR5LnRvRml4ZWQoMCl9JTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGFkanVzdFRhcmdldFRlbXAodHlwZTogJ3NpbmdsZScgfCAnbG93JyB8ICdoaWdoJywgY2hhbmdlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5pc0FkanVzdGluZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGNsaW1hdGVJZCA9IHRoaXMuY2xpbWF0ZUVudGl0eUlkIHx8IHRoaXMud2lkZ2V0Q29uZmlnPy5lbnRpdGllcz8uWzBdO1xuICAgIGlmICghY2xpbWF0ZUlkKSByZXR1cm47XG5cbiAgICB0aGlzLmlzQWRqdXN0aW5nID0gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXJ2aWNlX2RhdGE6IGFueSA9IHt9O1xuICAgICAgXG4gICAgICBpZiAodHlwZSA9PT0gJ3NpbmdsZScgJiYgdGhpcy50YXJnZXRUZW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VydmljZV9kYXRhLnRlbXBlcmF0dXJlID0gTWF0aC5yb3VuZCgodGhpcy50YXJnZXRUZW1wICsgY2hhbmdlKSAqIDIpIC8gMjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xvdycgJiYgdGhpcy50YXJnZXRUZW1wTG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VydmljZV9kYXRhLnRhcmdldF90ZW1wX2xvdyA9IE1hdGgucm91bmQoKHRoaXMudGFyZ2V0VGVtcExvdyArIGNoYW5nZSkgKiAyKSAvIDI7XG4gICAgICAgIHNlcnZpY2VfZGF0YS50YXJnZXRfdGVtcF9oaWdoID0gdGhpcy50YXJnZXRUZW1wSGlnaDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2hpZ2gnICYmIHRoaXMudGFyZ2V0VGVtcEhpZ2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXJ2aWNlX2RhdGEudGFyZ2V0X3RlbXBfbG93ID0gdGhpcy50YXJnZXRUZW1wTG93O1xuICAgICAgICBzZXJ2aWNlX2RhdGEudGFyZ2V0X3RlbXBfaGlnaCA9IE1hdGgucm91bmQoKHRoaXMudGFyZ2V0VGVtcEhpZ2ggKyBjaGFuZ2UpICogMikgLyAyO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoJ2NsaW1hdGUnLCAnc2V0X3RlbXBlcmF0dXJlJywge1xuICAgICAgICBlbnRpdHlfaWQ6IGNsaW1hdGVJZCxcbiAgICAgICAgLi4uc2VydmljZV9kYXRhXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFkanVzdCB0ZW1wZXJhdHVyZTonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNBZGp1c3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNldEh2YWNNb2RlKG1vZGU6IEh2YWNNb2RlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY2xpbWF0ZUlkID0gdGhpcy5jbGltYXRlRW50aXR5SWQgfHwgdGhpcy53aWRnZXRDb25maWc/LmVudGl0aWVzPy5bMF07XG4gICAgaWYgKCFjbGltYXRlSWQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoJ2NsaW1hdGUnLCAnc2V0X2h2YWNfbW9kZScsIHtcbiAgICAgICAgZW50aXR5X2lkOiBjbGltYXRlSWQsXG4gICAgICAgIGh2YWNfbW9kZTogbW9kZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZXQgSFZBQyBtb2RlOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNldFByZXNldE1vZGUocHJlc2V0OiBQcmVzZXRNb2RlIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNsaW1hdGVJZCA9IHRoaXMuY2xpbWF0ZUVudGl0eUlkIHx8IHRoaXMud2lkZ2V0Q29uZmlnPy5lbnRpdGllcz8uWzBdO1xuICAgIGlmICghY2xpbWF0ZUlkKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5oYXNzLmNhbGxTZXJ2aWNlKCdjbGltYXRlJywgJ3NldF9wcmVzZXRfbW9kZScsIHtcbiAgICAgICAgZW50aXR5X2lkOiBjbGltYXRlSWQsXG4gICAgICAgIHByZXNldF9tb2RlOiBwcmVzZXRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2V0IHByZXNldCBtb2RlOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclNrZWxldG9uKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jYXJkPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNrZWxldG9uIHNrZWxldG9uLXRleHQgbGFyZ2VcIiBzdHlsZT1cIndpZHRoOiAxNDBweDtcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24tYnV0dG9uXCIgc3R5bGU9XCJ3aWR0aDogODBweDsgaGVpZ2h0OiAyOHB4O1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRlbXBlcmF0dXJlLWRpc3BsYXlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24tY2FyZFwiIHN0eWxlPVwiaGVpZ2h0OiAyMDBweDsgbWFyZ2luOiAxNnB4O1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGUtc2VsZWN0b3JcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24tYnV0dG9uXCIgc3R5bGU9XCJtYXJnaW46IDhweDtcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24tYnV0dG9uXCIgc3R5bGU9XCJtYXJnaW46IDhweDtcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24tYnV0dG9uXCIgc3R5bGU9XCJtYXJnaW46IDhweDtcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hhLWNhcmQ+XG4gICAgYDtcbiAgfVxuXG4gIHN0YXRpYyBzdHlsZXMgPSBjc3NgXG4gICAgJHtEYXNodmlld1dpZGdldC5zdHlsZXN9XG4gICAgJHtza2VsZXRvblN0eWxlc31cbiAgICAke3RvdWNoU3R5bGVzfVxuICAgICAgaGEtY2FyZCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgbWluLWhlaWdodDogMjUwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIgaDIge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5odmFjLW1vZGUge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTJweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDVlbTtcbiAgICAgIH1cblxuICAgICAgLmh2YWMtbW9kZS5vZmYge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5odmFjLW1vZGUuaGVhdCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAxNTIsIDAsIDAuMik7XG4gICAgICAgIGNvbG9yOiAjZmY2YjAwO1xuICAgICAgfVxuXG4gICAgICAuaHZhYy1tb2RlLmNvb2wge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDMzLCAxNTAsIDI0MywgMC4yKTtcbiAgICAgICAgY29sb3I6ICMwMjg4ZDE7XG4gICAgICB9XG5cbiAgICAgIC5odmFjLW1vZGUuaGVhdF9jb29sLFxuICAgICAgLmh2YWMtbW9kZS5hdXRvIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSg3NiwgMTc1LCA4MCwgMC4yKTtcbiAgICAgICAgY29sb3I6ICMzODhlM2M7XG4gICAgICB9XG5cbiAgICAgIC50ZW1wZXJhdHVyZS1kaXNwbGF5IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICB9XG5cbiAgICAgIC5jdXJyZW50LXRlbXAge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XG4gICAgICAgIGdhcDogNHB4O1xuICAgICAgfVxuXG4gICAgICAudGVtcC12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMy41ZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICB9XG5cbiAgICAgIC50ZW1wLXVuaXQge1xuICAgICAgICBmb250LXNpemU6IDEuNWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAudGVtcC11bmF2YWlsYWJsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogM2VtO1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAudGFyZ2V0LXRlbXAsXG4gICAgICAudGFyZ2V0LXRlbXAtcmFuZ2Uge1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICB9XG5cbiAgICAgIC50YXJnZXQtbGFiZWwge1xuICAgICAgICBvcGFjaXR5OiAwLjg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogNHB4O1xuICAgICAgfVxuXG4gICAgICAudGVtcC1jb250cm9scyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLnRlbXAtY29udHJvbHMtZHVhbCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMjRweDtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAudGVtcC1jb250cm9sIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9sLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9sLWJ1dHRvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9sLXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjRlbTtcbiAgICAgICAgbWluLXdpZHRoOiA2MHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5tb2RlLXNlbGVjdG9yIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCg4MHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLm1vZGUtYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIHBhZGRpbmc6IDEycHggOHB4O1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xuICAgICAgICBmb250LXNpemU6IDAuNzVlbTtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIG1pbi13aWR0aDogNDRweDtcbiAgICAgIH1cblxuICAgICAgLm1vZGUtYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICB9XG5cbiAgICAgIC5tb2RlLWJ1dHRvbi5hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1tb2RlLWNvbG9yLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1tb2RlLWNvbG9yLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICAgICAgfVxuXG4gICAgICAubW9kZS1idXR0b246YWN0aXZlIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApIHNjYWxlKDAuOTUpO1xuICAgICAgfVxuXG4gICAgICAubW9kZS1idXR0b24gaGEtaWNvbiB7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMjRweDtcbiAgICAgIH1cblxuICAgICAgLnByZXNldC1zZWxlY3RvciB7XG4gICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAucHJlc2V0LWxhYmVsIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgLnByZXNldC1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgIH1cblxuICAgICAgLnByZXNldC1idXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDJweDtcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDE1MG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMC4yLCAxKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjdlbTtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIG1pbi13aWR0aDogNDRweDtcbiAgICAgIH1cblxuICAgICAgLnByZXNldC1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5wcmVzZXQtYnV0dG9uLmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5wcmVzZXQtYnV0dG9uIGhhLWljb24ge1xuICAgICAgICAtLW1kYy1pY29uLXNpemU6IDE4cHg7XG4gICAgICB9XG5cbiAgICAgIC5odW1pZGl0eS1kaXNwbGF5IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIH1cblxuICAgICAgLmh1bWlkaXR5LWRpc3BsYXkgaGEtaWNvbiB7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMThweDtcbiAgICAgIH1cblxuICAgICAgaGEtaWNvbi1idXR0b24ge1xuICAgICAgICAtLW1kYy1pY29uLWJ1dHRvbi1zaXplOiA0OHB4O1xuICAgICAgICAtLW1kYy1pY29uLXNpemU6IDI0cHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIG1pbi13aWR0aDogNDRweDtcbiAgICAgIH1cblxuICAgICAgLyogVGVtcGVyYXR1cmUgZGlhbCBzdHlsZXMgKi9cbiAgICAgIC50ZW1wLWRpYWwtY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAudGVtcC1kaWFsIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB3aWR0aDogMjAwcHg7XG4gICAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5kaWFsLXN2ZyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5kaWFsLWJnIHtcbiAgICAgICAgZmlsbDogbm9uZTtcbiAgICAgICAgc3Ryb2tlOiB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiA4O1xuICAgICAgfVxuXG4gICAgICAuZGlhbC1jdXJyZW50IHtcbiAgICAgICAgZmlsbDogbm9uZTtcbiAgICAgICAgc3Ryb2tlOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiA4O1xuICAgICAgICBzdHJva2UtbGluZWNhcDogcm91bmQ7XG4gICAgICAgIHRyYW5zaXRpb246IHN0cm9rZS1kYXNoYXJyYXkgMzUwbXMgY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpO1xuICAgICAgfVxuXG4gICAgICAuZGlhbC10YXJnZXQge1xuICAgICAgICBmaWxsOiBub25lO1xuICAgICAgICBzdHJva2U6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiA0O1xuICAgICAgICBzdHJva2UtbGluZWNhcDogcm91bmQ7XG4gICAgICB9XG5cbiAgICAgIC5kaWFsLWNlbnRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLmN1cnJlbnQtdGVtcC1kaWFsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC50ZW1wLXZhbHVlLWRpYWwge1xuICAgICAgICBmb250LXNpemU6IDIuNWVtO1xuICAgICAgICBmb250LXdlaWdodDogMzAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgfVxuXG4gICAgICAudGVtcC11bml0LWRpYWwge1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAudGFyZ2V0LXRlbXAtZGlhbCB7XG4gICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgIH1cblxuICAgICAgLnRlbXAtZGlhbC11bmF2YWlsYWJsZSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBoZWlnaHQ6IDIwMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgfVxuXG4gICAgICAudHJlbmQtaW5kaWNhdG9yIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAudHJlbmQtaWNvbiB7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMTZweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXN1Y2Nlc3MtY29sb3IsICM0Y2FmNTApO1xuICAgICAgfVxuXG4gICAgICAvKiBNb2JpbGUgb3B0aW1pemF0aW9ucyAqL1xuICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC50ZW1wLWRpYWwge1xuICAgICAgICAgIHdpZHRoOiAxNjBweDtcbiAgICAgICAgICBoZWlnaHQ6IDE2MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRlbXAtdmFsdWUtZGlhbCB7XG4gICAgICAgICAgZm9udC1zaXplOiAyZW07XG4gICAgICAgIH1cblxuICAgICAgICAudGVtcC11bml0LWRpYWwge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGUtc2VsZWN0b3Ige1xuICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoNjBweCwgMWZyKSk7XG4gICAgICAgIH1cblxuICAgICAgICAucHJlc2V0LWJ1dHRvbnMge1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIEFjY2Vzc2liaWxpdHkgKi9cbiAgICAgIEBtZWRpYSAocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKSB7XG4gICAgICAgIC5tb2RlLWJ1dHRvbjpob3ZlciB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGUtYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kaWFsLWN1cnJlbnQge1xuICAgICAgICAgIHRyYW5zaXRpb246IG5vbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xufSIsIi8qKlxuICogUXVpY2sgY29udHJvbHMgd2lkZ2V0IGZvciBEYXNodmlldyBWMi5cbiAqIFByb3ZpZGVzIGZhc3QgYWNjZXNzIHRvIGZyZXF1ZW50bHkgdXNlZCBjb250cm9scyBhbmQgc2NlbmVzLlxuICovXG5cbmltcG9ydCB7IFByb3BlcnR5VmFsdWVzLCBUZW1wbGF0ZVJlc3VsdCwgY3NzLCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IERhc2h2aWV3V2lkZ2V0LCBXaWRnZXRDb25maWcgfSBmcm9tICcuLi9jb3JlL3dpZGdldC1iYXNlJztcblxuaW50ZXJmYWNlIFF1aWNrQ29udHJvbENvbmZpZyB7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIGxhYmVsPzogc3RyaW5nO1xuICBpY29uPzogc3RyaW5nO1xuICBjb2xvcj86IHN0cmluZztcbiAgY29uZmlybUFjdGlvbj86IGJvb2xlYW47XG4gIHNlcnZpY2U/OiB7XG4gICAgZG9tYWluOiBzdHJpbmc7XG4gICAgc2VydmljZTogc3RyaW5nO1xuICAgIGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgUXVpY2tDb250cm9sc1dpZGdldENvbmZpZyBleHRlbmRzIFdpZGdldENvbmZpZyB7XG4gIHR5cGU6ICdxdWljay1jb250cm9scyc7XG4gIGNvbnRyb2xzOiBRdWlja0NvbnRyb2xDb25maWdbXTtcbiAgY29sdW1ucz86IG51bWJlcjtcbiAgc2hvd0xhYmVscz86IGJvb2xlYW47XG4gIGljb25TaXplPzogJ3NtYWxsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJztcbn1cblxuQGN1c3RvbUVsZW1lbnQoJ2Rhc2h2aWV3LXF1aWNrLWNvbnRyb2xzLXdpZGdldCcpXG5leHBvcnQgY2xhc3MgUXVpY2tDb250cm9sc1dpZGdldCBleHRlbmRzIERhc2h2aWV3V2lkZ2V0IHtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBjb250cm9sU3RhdGVzOiBNYXA8c3RyaW5nLCBib29sZWFuPiA9IG5ldyBNYXAoKTtcbiAgQHN0YXRlKCkgcHJpdmF0ZSBleGVjdXRpbmdDb250cm9sOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBwcm90ZWN0ZWQgc3Vic2NyaWJlZEVudGl0aWVzKCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLndpZGdldENvbmZpZyBhcyBRdWlja0NvbnRyb2xzV2lkZ2V0Q29uZmlnO1xuICAgIGlmICghY29uZmlnPy5jb250cm9scykgcmV0dXJuIFtdO1xuICAgIFxuICAgIC8vIFN1YnNjcmliZSB0byBhbGwgY29udHJvbCBlbnRpdGllc1xuICAgIHJldHVybiBjb25maWcuY29udHJvbHNcbiAgICAgIC5tYXAoY29udHJvbCA9PiBjb250cm9sLmVudGl0eUlkKVxuICAgICAgLmZpbHRlcihpZCA9PiBpZCAmJiAhaWQuc3RhcnRzV2l0aCgnc2NyaXB0LicpICYmICFpZC5zdGFydHNXaXRoKCdzY2VuZS4nKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdENvbmZpZygpOiBQYXJ0aWFsPFF1aWNrQ29udHJvbHNXaWRnZXRDb25maWc+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3F1aWNrLWNvbnRyb2xzJyxcbiAgICAgIGNvbnRyb2xzOiBbXSxcbiAgICAgIGNvbHVtbnM6IDQsXG4gICAgICBzaG93TGFiZWxzOiB0cnVlLFxuICAgICAgaWNvblNpemU6ICdtZWRpdW0nLFxuICAgIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2xTdGF0ZXMoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblN0YXRlQ2hhbmdlZChlbnRpdHlJZDogc3RyaW5nLCBuZXdTdGF0ZTogYW55LCBvbGRTdGF0ZTogYW55KTogdm9pZCB7XG4gICAgc3VwZXIub25TdGF0ZUNoYW5nZWQoZW50aXR5SWQsIG5ld1N0YXRlLCBvbGRTdGF0ZSk7XG4gICAgdGhpcy51cGRhdGVDb250cm9sU3RhdGVzKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNvbnRyb2xTdGF0ZXMoKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy53aWRnZXRDb25maWcgYXMgUXVpY2tDb250cm9sc1dpZGdldENvbmZpZztcbiAgICBpZiAoIWNvbmZpZz8uY29udHJvbHMpIHJldHVybjtcblxuICAgIGNvbnN0IG5ld1N0YXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpO1xuICAgIFxuICAgIGZvciAoY29uc3QgY29udHJvbCBvZiBjb25maWcuY29udHJvbHMpIHtcbiAgICAgIGNvbnN0IGVudGl0eUlkID0gY29udHJvbC5lbnRpdHlJZDtcbiAgICAgIGlmICghZW50aXR5SWQpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW50aXR5U3RhdGVzLmdldChlbnRpdHlJZCk7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgLy8gRm9yIHRvZ2dsZWFibGUgZW50aXRpZXMsIHRyYWNrIG9uL29mZiBzdGF0ZVxuICAgICAgICBjb25zdCBkb21haW4gPSBlbnRpdHlJZC5zcGxpdCgnLicpWzBdO1xuICAgICAgICBpZiAoWydsaWdodCcsICdzd2l0Y2gnLCAnZmFuJywgJ2lucHV0X2Jvb2xlYW4nXS5pbmNsdWRlcyhkb21haW4pKSB7XG4gICAgICAgICAgbmV3U3RhdGVzLnNldChlbnRpdHlJZCwgc3RhdGUuc3RhdGUgPT09ICdvbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jb250cm9sU3RhdGVzID0gbmV3U3RhdGVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy53aWRnZXRDb25maWcgYXMgUXVpY2tDb250cm9sc1dpZGdldENvbmZpZztcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMud2lkZ2V0Q29uZmlnPy50aXRsZSB8fCAnUXVpY2sgQ29udHJvbHMnO1xuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIndpZGdldC1sb2FkaW5nXCI+XG4gICAgICAgICAgTG9hZGluZyBjb250cm9scy4uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZXJyb3IgfHwgIWNvbmZpZz8uY29udHJvbHMgfHwgY29uZmlnLmNvbnRyb2xzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3aWRnZXQtZXJyb3JcIj5cbiAgICAgICAgICAke3RoaXMuZXJyb3IgfHwgJ05vIGNvbnRyb2xzIGNvbmZpZ3VyZWQnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgY29uc3QgY29sdW1ucyA9IGNvbmZpZy5jb2x1bW5zIHx8IDQ7XG4gICAgY29uc3QgaWNvblNpemUgPSBjb25maWcuaWNvblNpemUgfHwgJ21lZGl1bSc7XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jYXJkPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGgyPiR7dGl0bGV9PC9oMj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzcz1cImNvbnRyb2xzLWdyaWRcIlxuICAgICAgICAgIHN0eWxlPVwiZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoJHtjb2x1bW5zfSwgMWZyKVwiXG4gICAgICAgID5cbiAgICAgICAgICAke2NvbmZpZy5jb250cm9scy5tYXAoY29udHJvbCA9PiB0aGlzLnJlbmRlckNvbnRyb2woY29udHJvbCwgaWNvblNpemUpKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hhLWNhcmQ+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ29udHJvbChjb250cm9sOiBRdWlja0NvbnRyb2xDb25maWcsIGljb25TaXplOiBzdHJpbmcpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy53aWRnZXRDb25maWcgYXMgUXVpY2tDb250cm9sc1dpZGdldENvbmZpZztcbiAgICBjb25zdCBzaG93TGFiZWxzID0gY29uZmlnPy5zaG93TGFiZWxzID8/IHRydWU7XG4gICAgXG4gICAgY29uc3QgZW50aXR5SWQgPSBjb250cm9sLmVudGl0eUlkO1xuICAgIGNvbnN0IHN0YXRlID0gZW50aXR5SWQgPyB0aGlzLmVudGl0eVN0YXRlcy5nZXQoZW50aXR5SWQpIDogbnVsbDtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHRoaXMuY29udHJvbFN0YXRlcy5nZXQoZW50aXR5SWQpIHx8IGZhbHNlO1xuICAgIGNvbnN0IGlzRXhlY3V0aW5nID0gdGhpcy5leGVjdXRpbmdDb250cm9sID09PSBlbnRpdHlJZDtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgaWNvblxuICAgIGxldCBpY29uID0gY29udHJvbC5pY29uO1xuICAgIGlmICghaWNvbiAmJiBzdGF0ZSkge1xuICAgICAgaWNvbiA9IHN0YXRlLmF0dHJpYnV0ZXMuaWNvbiB8fCB0aGlzLmdldERlZmF1bHRJY29uKGVudGl0eUlkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGxhYmVsXG4gICAgbGV0IGxhYmVsID0gY29udHJvbC5sYWJlbDtcbiAgICBpZiAoIWxhYmVsICYmIHN0YXRlKSB7XG4gICAgICBsYWJlbCA9IHN0YXRlLmF0dHJpYnV0ZXMuZnJpZW5kbHlfbmFtZSB8fCBlbnRpdHlJZC5zcGxpdCgnLicpWzFdLnJlcGxhY2UoL18vZywgJyAnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGNvbG9yXG4gICAgbGV0IGNvbG9yID0gY29udHJvbC5jb2xvciB8fCAndmFyKC0tcHJpbWFyeS1jb2xvciknO1xuICAgIGlmIChpc0FjdGl2ZSAmJiAhY29udHJvbC5jb2xvcikge1xuICAgICAgY29sb3IgPSB0aGlzLmdldEFjdGl2ZUNvbG9yKGVudGl0eUlkKTtcbiAgICB9XG5cbiAgICBjb25zdCBidXR0b25DbGFzcyA9IGBjb250cm9sLWJ1dHRvbiAke2ljb25TaXplfSAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnJ30gJHtpc0V4ZWN1dGluZyA/ICdleGVjdXRpbmcnIDogJyd9YDtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cIiR7YnV0dG9uQ2xhc3N9XCJcbiAgICAgICAgc3R5bGU9XCItLWNvbnRyb2wtY29sb3I6ICR7Y29sb3J9XCJcbiAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5oYW5kbGVDb250cm9sQ2xpY2soY29udHJvbCl9XG4gICAgICAgID9kaXNhYmxlZD0ke2lzRXhlY3V0aW5nfVxuICAgICAgPlxuICAgICAgICAke2lzRXhlY3V0aW5nID8gaHRtbGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lclwiPjwvZGl2PlxuICAgICAgICBgIDogaHRtbGBcbiAgICAgICAgICA8aGEtaWNvbiBpY29uPVwiJHtpY29ufVwiPjwvaGEtaWNvbj5cbiAgICAgICAgYH1cbiAgICAgICAgJHtzaG93TGFiZWxzICYmIGxhYmVsID8gaHRtbGBcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgPC9idXR0b24+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGVmYXVsdEljb24oZW50aXR5SWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgW2RvbWFpbiwgbmFtZV0gPSBlbnRpdHlJZC5zcGxpdCgnLicpO1xuICAgIFxuICAgIC8vIERvbWFpbi1iYXNlZCBpY29uc1xuICAgIGNvbnN0IGRvbWFpbkljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ2xpZ2h0JzogJ21kaTpsaWdodGJ1bGInLFxuICAgICAgJ3N3aXRjaCc6ICdtZGk6dG9nZ2xlLXN3aXRjaCcsXG4gICAgICAnZmFuJzogJ21kaTpmYW4nLFxuICAgICAgJ3NjZW5lJzogJ21kaTpwYWxldHRlJyxcbiAgICAgICdzY3JpcHQnOiAnbWRpOnNjcmlwdC10ZXh0JyxcbiAgICAgICdhdXRvbWF0aW9uJzogJ21kaTpyb2JvdCcsXG4gICAgICAnaW5wdXRfYm9vbGVhbic6ICdtZGk6dG9nZ2xlLXN3aXRjaC1vdXRsaW5lJyxcbiAgICB9O1xuICAgIFxuICAgIC8vIE5hbWUtYmFzZWQgaWNvbnNcbiAgICBpZiAobmFtZS5pbmNsdWRlcygnbW9ybmluZycpKSByZXR1cm4gJ21kaTp3ZWF0aGVyLXN1bnNldC11cCc7XG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoJ25pZ2h0JykgfHwgbmFtZS5pbmNsdWRlcygnYmVkdGltZScpKSByZXR1cm4gJ21kaTp3ZWF0aGVyLW5pZ2h0JztcbiAgICBpZiAobmFtZS5pbmNsdWRlcygnYXdheScpKSByZXR1cm4gJ21kaTpob21lLWV4cG9ydC1vdXRsaW5lJztcbiAgICBpZiAobmFtZS5pbmNsdWRlcygnaG9tZScpKSByZXR1cm4gJ21kaTpob21lJztcbiAgICBpZiAobmFtZS5pbmNsdWRlcygncGFydHknKSkgcmV0dXJuICdtZGk6cGFydHktcG9wcGVyJztcbiAgICBpZiAobmFtZS5pbmNsdWRlcygnbW92aWUnKSB8fCBuYW1lLmluY2x1ZGVzKCd0dicpKSByZXR1cm4gJ21kaTp0ZWxldmlzaW9uJztcbiAgICBpZiAobmFtZS5pbmNsdWRlcygnZGlubmVyJykgfHwgbmFtZS5pbmNsdWRlcygnZGluaW5nJykpIHJldHVybiAnbWRpOnNpbHZlcndhcmUtZm9yay1rbmlmZSc7XG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoJ3JlYWRpbmcnKSkgcmV0dXJuICdtZGk6Ym9vay1vcGVuLXBhZ2UtdmFyaWFudCc7XG4gICAgXG4gICAgcmV0dXJuIGRvbWFpbkljb25zW2RvbWFpbl0gfHwgJ21kaTpnZXN0dXJlLXRhcCc7XG4gIH1cblxuICBwcml2YXRlIGdldEFjdGl2ZUNvbG9yKGVudGl0eUlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IFtkb21haW5dID0gZW50aXR5SWQuc3BsaXQoJy4nKTtcbiAgICBcbiAgICBzd2l0Y2ggKGRvbWFpbikge1xuICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICByZXR1cm4gJ3ZhcigtLXdhcm5pbmctY29sb3IpJztcbiAgICAgIGNhc2UgJ2Zhbic6XG4gICAgICAgIHJldHVybiAndmFyKC0taW5mby1jb2xvciknO1xuICAgICAgY2FzZSAnc3dpdGNoJzpcbiAgICAgICAgcmV0dXJuICd2YXIoLS1zdWNjZXNzLWNvbG9yKSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ3ZhcigtLXByaW1hcnktY29sb3IpJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUNvbnRyb2xDbGljayhjb250cm9sOiBRdWlja0NvbnRyb2xDb25maWcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5leGVjdXRpbmdDb250cm9sKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZW50aXR5SWQgPSBjb250cm9sLmVudGl0eUlkO1xuICAgIGlmICghZW50aXR5SWQpIHJldHVybjtcblxuICAgIC8vIEhhbmRsZSBjb25maXJtYXRpb24gaWYgcmVxdWlyZWRcbiAgICBpZiAoY29udHJvbC5jb25maXJtQWN0aW9uKSB7XG4gICAgICBjb25zdCBsYWJlbCA9IGNvbnRyb2wubGFiZWwgfHwgZW50aXR5SWQuc3BsaXQoJy4nKVsxXS5yZXBsYWNlKC9fL2csICcgJyk7XG4gICAgICBpZiAoIWNvbmZpcm0oYEV4ZWN1dGUgXCIke2xhYmVsfVwiP2ApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmV4ZWN1dGluZ0NvbnRyb2wgPSBlbnRpdHlJZDtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDdXN0b20gc2VydmljZSBjYWxsXG4gICAgICBpZiAoY29udHJvbC5zZXJ2aWNlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaGFzcy5jYWxsU2VydmljZShcbiAgICAgICAgICBjb250cm9sLnNlcnZpY2UuZG9tYWluLFxuICAgICAgICAgIGNvbnRyb2wuc2VydmljZS5zZXJ2aWNlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gICAgICAgICAgICAuLi5jb250cm9sLnNlcnZpY2UuZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgYmFzZWQgb24gZW50aXR5IHR5cGVcbiAgICAgICAgY29uc3QgW2RvbWFpbl0gPSBlbnRpdHlJZC5zcGxpdCgnLicpO1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoIChkb21haW4pIHtcbiAgICAgICAgICBjYXNlICdzY2VuZSc6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoJ3NjZW5lJywgJ3R1cm5fb24nLCB7IGVudGl0eV9pZDogZW50aXR5SWQgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIFxuICAgICAgICAgIGNhc2UgJ3NjcmlwdCc6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoJ3NjcmlwdCcsICd0dXJuX29uJywgeyBlbnRpdHlfaWQ6IGVudGl0eUlkIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBcbiAgICAgICAgICBjYXNlICdhdXRvbWF0aW9uJzpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFzcy5jYWxsU2VydmljZSgnYXV0b21hdGlvbicsICd0cmlnZ2VyJywgeyBlbnRpdHlfaWQ6IGVudGl0eUlkIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBcbiAgICAgICAgICBjYXNlICdsaWdodCc6XG4gICAgICAgICAgY2FzZSAnc3dpdGNoJzpcbiAgICAgICAgICBjYXNlICdmYW4nOlxuICAgICAgICAgIGNhc2UgJ2lucHV0X2Jvb2xlYW4nOlxuICAgICAgICAgICAgYXdhaXQgdGhpcy50b2dnbGVFbnRpdHkoZW50aXR5SWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIGVudGl0eSBkb21haW46ICR7ZG9tYWlufWApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFZpc3VhbCBmZWVkYmFjayBmb3Igbm9uLXRvZ2dsZWFibGUgZW50aXRpZXNcbiAgICAgIGlmIChbJ3NjZW5lJywgJ3NjcmlwdCddLmluY2x1ZGVzKGVudGl0eUlkLnNwbGl0KCcuJylbMF0pKSB7XG4gICAgICAgIC8vIEtlZXAgc3Bpbm5lciBmb3IgYSBtb21lbnQgdG8gc2hvdyBleGVjdXRpb25cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5leGVjdXRpbmdDb250cm9sID0gbnVsbDtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgY29udHJvbCAke2VudGl0eUlkfTpgLCBlcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy5leGVjdXRpbmdDb250cm9sID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBzdHlsZXMgPSBbXG4gICAgRGFzaHZpZXdXaWRnZXQuc3R5bGVzLFxuICAgIGNzc2BcbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIgaDIge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9scy1ncmlkIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBhbGlnbi1jb250ZW50OiBzdGFydDtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2wtYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBwYWRkaW5nOiAxNnB4IDhweDtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbC1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2wtYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2wtYnV0dG9uLmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbnRyb2wtY29sb3IpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LWNvbG9yLCB3aGl0ZSk7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29udHJvbC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9sLWJ1dHRvbi5hY3RpdmUgaGEtaWNvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnktY29sb3IsIHdoaXRlKTtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2wtYnV0dG9uOmRpc2FibGVkIHtcbiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbC1idXR0b24uZXhlY3V0aW5nIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC8qIEljb24gc2l6ZXMgKi9cbiAgICAgIC5jb250cm9sLWJ1dHRvbi5zbWFsbCB7XG4gICAgICAgIHBhZGRpbmc6IDEycHggOHB4O1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbC1idXR0b24uc21hbGwgaGEtaWNvbiB7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMjRweDtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2wtYnV0dG9uLm1lZGl1bSBoYS1pY29uIHtcbiAgICAgICAgLS1tZGMtaWNvbi1zaXplOiAzMnB4O1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbC1idXR0b24ubGFyZ2Uge1xuICAgICAgICBwYWRkaW5nOiAyMHB4IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9sLWJ1dHRvbi5sYXJnZSBoYS1pY29uIHtcbiAgICAgICAgLS1tZGMtaWNvbi1zaXplOiA0MHB4O1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbC1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC43NWVtO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7XG4gICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gICAgICB9XG5cbiAgICAgIC5jb250cm9sLWJ1dHRvbi5sYXJnZSAuY29udHJvbC1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAvKiBTcGlubmVyIGFuaW1hdGlvbiAqL1xuICAgICAgLnNwaW5uZXIge1xuICAgICAgICB3aWR0aDogMjRweDtcbiAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgYW5pbWF0aW9uOiBzcGluIDAuOHMgbGluZWFyIGluZmluaXRlO1xuICAgICAgfVxuXG4gICAgICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgICAgICB0byB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgICAgIH1cblxuICAgICAgLyogUmVzcG9uc2l2ZSBhZGp1c3RtZW50cyAqL1xuICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gICAgICAgIC5jb250cm9scy1ncmlkIHtcbiAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbnRyb2wtYnV0dG9uIHtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jb250cm9sLWJ1dHRvbi5tZWRpdW0gaGEtaWNvbiB7XG4gICAgICAgICAgLS1tZGMtaWNvbi1zaXplOiAyOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbnRyb2wtbGFiZWwge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC43ZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogUHVsc2UgYW5pbWF0aW9uIGZvciBzY2VuZXMvc2NyaXB0cyAqL1xuICAgICAgQGtleWZyYW1lcyBwdWxzZSB7XG4gICAgICAgIDAlIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB9XG4gICAgICAgIDUwJSB7XG4gICAgICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgICB9XG4gICAgICAgIDEwMCUge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2wtYnV0dG9uLmV4ZWN1dGluZyBoYS1pY29uIHtcbiAgICAgICAgYW5pbWF0aW9uOiBwdWxzZSAxcyBlYXNlLWluLW91dCBpbmZpbml0ZTtcbiAgICAgIH1cbiAgICBgXG4gIF07XG59IiwiaW1wb3J0IHsgUHJvcGVydHlWYWx1ZXMsIFRlbXBsYXRlUmVzdWx0LCBjc3MsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBEYXNodmlld0Jhc2VFbGVtZW50IH0gZnJvbSAnQC9jb3JlL2Jhc2UtZWxlbWVudCc7XG5pbXBvcnQgeyBXZWJTb2NrZXRDb25uZWN0aW9uIH0gZnJvbSAnQC9jb3JlL3dlYnNvY2tldC1jb25uZWN0aW9uJztcbmltcG9ydCB7IFN0YXRlTWFuYWdlciB9IGZyb20gJ0AvY29yZS9zdGF0ZS1tYW5hZ2VyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICdAL2NvcmUvc3Vic2NyaXB0aW9uLW1hbmFnZXInO1xuaW1wb3J0IHsgQXJlYUluZm8sIExheW91dEVuZ2luZSB9IGZyb20gJ0AvbGF5b3V0cy9sYXlvdXQtZW5naW5lJztcbmltcG9ydCB7IEJhc2VMYXlvdXQsIEJyZWFrcG9pbnQgfSBmcm9tICdAL2xheW91dHMvYmFzZS1sYXlvdXQnO1xuaW1wb3J0IHsgV2lkZ2V0Q29uZmlnIH0gZnJvbSAnQC9jb3JlL3dpZGdldC1iYXNlJztcbmltcG9ydCB7IGRhc2h2aWV3U3R5bGVzLCBkYXNodmlld1RoZW1lIH0gZnJvbSAnQC9zdHlsZXMvdGhlbWUnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC91dGlscy9sb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBIb21lSW5mbyB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyBJbXBvcnQgd2lkZ2V0c1xuaW1wb3J0ICcuLi93aWRnZXRzL3Jvb20td2lkZ2V0JztcbmltcG9ydCAnLi4vd2lkZ2V0cy9kZXZpY2UtZ3JvdXAtd2lkZ2V0JztcbmltcG9ydCAnLi4vd2lkZ2V0cy9jbGltYXRlLXdpZGdldCc7XG5pbXBvcnQgJy4uL3dpZGdldHMvcXVpY2stY29udHJvbHMtd2lkZ2V0JztcblxuQGN1c3RvbUVsZW1lbnQoJ2Rhc2h2aWV3LWRhc2hib2FyZCcpXG5leHBvcnQgY2xhc3MgRGFzaHZpZXdEYXNoYm9hcmQgZXh0ZW5kcyBEYXNodmlld0Jhc2VFbGVtZW50IHtcbiAgLy8gUHVibGljIGdldHRlcnMgZm9yIGNoaWxkIGNvbXBvbmVudHNcbiAgZ2V0IHN0YXRlTWFuYWdlcigpOiBTdGF0ZU1hbmFnZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGVNYW5hZ2VyO1xuICB9XG5cbiAgZ2V0IHN1YnNjcmlwdGlvbk1hbmFnZXIoKTogU3Vic2NyaXB0aW9uTWFuYWdlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyO1xuICB9XG5cbiAgLy8gUHJpdmF0ZSBzdGF0ZVxuICBwcml2YXRlIF9zdGF0ZU1hbmFnZXI6IFN0YXRlTWFuYWdlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF9zdWJzY3JpcHRpb25NYW5hZ2VyOiBTdWJzY3JpcHRpb25NYW5hZ2VyIHwgbnVsbCA9IG51bGw7XG4gIEBzdGF0ZSgpIHByaXZhdGUgbG9hZGluZyA9IHRydWU7XG4gIEBzdGF0ZSgpIHByaXZhdGUgZXJyb3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBAc3RhdGUoKSBwcml2YXRlIGhvbWVJbmZvOiBIb21lSW5mbyB8IG51bGwgPSBudWxsO1xuICBAc3RhdGUoKSBwcml2YXRlIHdzQ29ubmVjdGlvbjogV2ViU29ja2V0Q29ubmVjdGlvbiB8IG51bGwgPSBudWxsO1xuICBAc3RhdGUoKSBwcml2YXRlIGxheW91dEVuZ2luZTogTGF5b3V0RW5naW5lIHwgbnVsbCA9IG51bGw7XG4gIEBzdGF0ZSgpIHByaXZhdGUgY3VycmVudExheW91dDogQmFzZUxheW91dCB8IG51bGwgPSBudWxsO1xuICBAc3RhdGUoKSBwcml2YXRlIHdpZGdldHM6IFdpZGdldENvbmZpZ1tdID0gW107XG4gIEBzdGF0ZSgpIHByaXZhdGUgY3VycmVudEJyZWFrcG9pbnQ6IEJyZWFrcG9pbnQgPSAnZGVza3RvcCc7XG4gIEBzdGF0ZSgpIHByaXZhdGUgYXJlYXM6IE1hcDxzdHJpbmcsIEFyZWFJbmZvPiA9IG5ldyBNYXAoKTtcblxuICBzdGF0aWMgc3R5bGVzID0gW1xuICAgIGRhc2h2aWV3VGhlbWUsXG4gICAgZGFzaHZpZXdTdHlsZXMsXG4gICAgY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgLndlbGNvbWUtaGVhZGVyIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiB2YXIoLS1kYXNodmlldy1zcGFjaW5nLXhsKTtcbiAgICAgIH1cblxuICAgICAgLndlbGNvbWUtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDIuNXJlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICAgICAgY29sb3I6IHZhcigtLWRhc2h2aWV3LXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgICAgIG1hcmdpbjogMCAwIHZhcigtLWRhc2h2aWV3LXNwYWNpbmctc20pO1xuICAgICAgfVxuXG4gICAgICAud2VsY29tZS1zdWJ0aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFzaHZpZXctc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICB9XG5cbiAgICAgIC5pbmZvLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiB2YXIoLS1kYXNodmlldy1zcGFjaW5nLW1kKTtcbiAgICAgICAgbWFyZ2luLXRvcDogdmFyKC0tZGFzaHZpZXctc3BhY2luZy14bCk7XG4gICAgICB9XG5cbiAgICAgIC5pbmZvLWNhcmQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kYXNodmlldy1jYXJkLWJhY2tncm91bmQpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1kYXNodmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1sZyk7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tZGFzaHZpZXctYm94LXNoYWRvdyk7XG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2U7XG4gICAgICB9XG5cbiAgICAgIC5pbmZvLWNhcmQ6aG92ZXIge1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgICB9XG5cbiAgICAgIC5pbmZvLXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAzcmVtO1xuICAgICAgICBmb250LXdlaWdodDogMzAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cblxuICAgICAgLmluZm8tbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kYXNodmlldy1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIG1hcmdpbjogdmFyKC0tZGFzaHZpZXctc3BhY2luZy1zbSkgMCAwO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xuICAgICAgfVxuXG4gICAgICAuY29tcGxleGl0eS1tZXRlciB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiB2YXIoLS1kYXNodmlldy1zcGFjaW5nLW1kKTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmNvbXBsZXhpdHktZmlsbCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCBcbiAgICAgICAgICB2YXIoLS1zdWNjZXNzLWNvbG9yKSAwJSwgXG4gICAgICAgICAgdmFyKC0td2FybmluZy1jb2xvcikgNTAlLCBcbiAgICAgICAgICB2YXIoLS1lcnJvci1jb2xvcikgMTAwJVxuICAgICAgICApO1xuICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjVzIGVhc2U7XG4gICAgICB9XG5cbiAgICAgIC5hcmVhcy1saXN0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBnYXA6IHZhcigtLWRhc2h2aWV3LXNwYWNpbmctc20pO1xuICAgICAgICBtYXJnaW4tdG9wOiB2YXIoLS1kYXNodmlldy1zcGFjaW5nLW1kKTtcbiAgICAgIH1cblxuICAgICAgLmFyZWEtdGFnIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnktY29sb3IsIHdoaXRlKTtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tZGFzaHZpZXctc3BhY2luZy14cykgdmFyKC0tZGFzaHZpZXctc3BhY2luZy1zbSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWRhc2h2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgIH1cblxuICAgICAgLmxvYWRpbmctc3Bpbm5lciB7XG4gICAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgIHdpZHRoOiA0OHB4O1xuICAgICAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgICAgIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgfVxuXG4gICAgICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgICAgICB0byB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgICAgIH1cblxuICAgICAgLyogRGFzaGJvYXJkIGdyaWQgbGF5b3V0ICovXG4gICAgICAuZGFzaGJvYXJkLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgIH1cblxuICAgICAgLndpZGdldC1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgICAgfVxuXG4gICAgICAvKiBMb2FkaW5nIHN0YXRlIGZvciBkYXNoYm9hcmQgbW9kZSAqL1xuICAgICAgLmRhc2hib2FyZC1sb2FkaW5nIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiB2YXIoLS1kYXNodmlldy1zcGFjaW5nLW1kKTtcbiAgICAgIH1cblxuICAgICAgLmRhc2hib2FyZC1sb2FkaW5nIHAge1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFzaHZpZXctc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuICAgIGAsXG4gIF07XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplRGFzaGJvYXJkKCk7XG4gICAgdGhpcy5zZXR1cFJlc2l6ZU9ic2VydmVyKCk7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuY2xlYW51cCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplRGFzaGJvYXJkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuaW5mbygnSW5pdGlhbGl6aW5nIERhc2h2aWV3IGRhc2hib2FyZCcpO1xuICAgICAgXG4gICAgICBpZiAoIXRoaXMuaGFzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hvbWUgQXNzaXN0YW50IGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgICAgfVxuXG4gICAgICAvLyBJbml0aWFsaXplIGNvcmUgc2VydmljZXNcbiAgICAgIHRoaXMud3NDb25uZWN0aW9uID0gbmV3IFdlYlNvY2tldENvbm5lY3Rpb24odGhpcy5oYXNzKTtcbiAgICAgIHRoaXMuX3N0YXRlTWFuYWdlciA9IG5ldyBTdGF0ZU1hbmFnZXIoKTtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIgPSBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcih0aGlzLndzQ29ubmVjdGlvbiwgdGhpcy5fc3RhdGVNYW5hZ2VyKTtcbiAgICAgIHRoaXMubGF5b3V0RW5naW5lID0gbmV3IExheW91dEVuZ2luZSgpO1xuXG4gICAgICAvLyBMb2FkIGhvbWUgaW5mb3JtYXRpb25cbiAgICAgIGF3YWl0IHRoaXMubG9hZEhvbWVJbmZvKCk7XG4gICAgICBcbiAgICAgIC8vIEFuYWx5emUgaG9tZSBhbmQgc2V0IHVwIGRhc2hib2FyZFxuICAgICAgYXdhaXQgdGhpcy5hbmFseXplSG9tZSgpO1xuICAgICAgdGhpcy5zZWxlY3RPcHRpbWFsTGF5b3V0KCk7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVXaWRnZXRzKCk7XG5cbiAgICAgIC8vIFN0YXJ0IHN0YXRlIG1hbmFnZW1lbnRcbiAgICAgIHRoaXMuX3N0YXRlTWFuYWdlci5pbml0aWFsaXplRnJvbUhhc3ModGhpcy5oYXNzKTtcbiAgICAgIGF3YWl0IHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIuc3RhcnRMaXN0ZW5pbmcoKTtcbiAgICAgIFxuICAgICAgbG9nZ2VyLmluZm8oJ0Rhc2hib2FyZCBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGRhc2hib2FyZDonLCBlcnJvcik7XG4gICAgICB0aGlzLmVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGluaXRpYWxpemUgZGFzaGJvYXJkJztcbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZEhvbWVJbmZvKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy53c0Nvbm5lY3Rpb24pIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICBcbiAgICAgIGxvZ2dlci5kZWJ1ZygnTG9hZGluZyBob21lIGluZm9ybWF0aW9uJyk7XG4gICAgICB0aGlzLmhvbWVJbmZvID0gYXdhaXQgdGhpcy53c0Nvbm5lY3Rpb24uZ2V0SG9tZUluZm8oKTtcbiAgICAgIFxuICAgICAgbG9nZ2VyLmluZm8oJ0hvbWUgaW5mbyBsb2FkZWQ6JywgdGhpcy5ob21lSW5mbyk7XG4gICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBob21lIGluZm86JywgZXJyb3IpO1xuICAgICAgdGhpcy5lcnJvciA9ICdGYWlsZWQgdG8gbG9hZCBob21lIGluZm9ybWF0aW9uJztcbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXNodmlldy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaHZpZXctbG9hZGluZ1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctc3Bpbm5lclwiPjwvZGl2PlxuICAgICAgICAgICAgPHA+TG9hZGluZyB5b3VyIGRhc2hib2FyZC4uLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRhc2h2aWV3LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXNodmlldy1lcnJvclwiPlxuICAgICAgICAgICAgPGgyPkVycm9yPC9oMj5cbiAgICAgICAgICAgIDxwPiR7dGhpcy5lcnJvcn08L3A+XG4gICAgICAgICAgICA8YnV0dG9uIEBjbGljaz0keygpID0+IHRoaXMuaW5pdGlhbGl6ZURhc2hib2FyZCgpfT5SZXRyeTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZSB3aWRnZXRzLCBzaG93IHRoZSBkYXNoYm9hcmQgdmlld1xuICAgIGlmICh0aGlzLndpZGdldHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRGFzaGJvYXJkKCk7XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlIHNob3cgdGhlIHdlbGNvbWUvaW5mbyB2aWV3XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiZGFzaHZpZXctY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXNodmlldy1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIndlbGNvbWUtaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDEgY2xhc3M9XCJ3ZWxjb21lLXRpdGxlXCI+V2VsY29tZSB0byBEYXNodmlldyBWMjwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzcz1cIndlbGNvbWUtc3VidGl0bGVcIj5cbiAgICAgICAgICAgICAgWW91ciBpbnRlbGxpZ2VudCBob21lIGRhc2hib2FyZCBmb3IgJHt0aGlzLmhvbWVJbmZvPy5lbnRpdHlDb3VudCB8fCAwfSBlbnRpdGllc1xuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgJHt0aGlzLmhvbWVJbmZvID8gdGhpcy5yZW5kZXJIb21lSW5mbygpIDogdGhpcy5yZW5kZXJOb0RhdGEoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJIb21lSW5mbygpIHtcbiAgICBpZiAoIXRoaXMuaG9tZUluZm8pIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgY29tcGxleGl0eVBlcmNlbnRhZ2UgPSBNYXRoLm1pbigxMDAsIHRoaXMuaG9tZUluZm8uY29tcGxleGl0eVNjb3JlICogMTApO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1ncmlkXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWNhcmRcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cImluZm8tdmFsdWVcIj4ke3RoaXMuaG9tZUluZm8ucm9vbUNvdW50fTwvcD5cbiAgICAgICAgICA8cCBjbGFzcz1cImluZm8tbGFiZWxcIj5Sb29tczwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tY2FyZFwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwiaW5mby12YWx1ZVwiPiR7dGhpcy5ob21lSW5mby5lbnRpdHlDb3VudH08L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJpbmZvLWxhYmVsXCI+RW50aXRpZXM8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWNhcmRcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cImluZm8tdmFsdWVcIj4ke3RoaXMuaG9tZUluZm8uYXJlYXMubGVuZ3RofTwvcD5cbiAgICAgICAgICA8cCBjbGFzcz1cImluZm8tbGFiZWxcIj5BcmVhczwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tY2FyZFwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwiaW5mby12YWx1ZVwiPiR7dGhpcy5ob21lSW5mby5jb21wbGV4aXR5U2NvcmV9LzEwPC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwiaW5mby1sYWJlbFwiPkNvbXBsZXhpdHkgU2NvcmU8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbXBsZXhpdHktbWV0ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21wbGV4aXR5LWZpbGxcIiBzdHlsZT1cIndpZHRoOiAke2NvbXBsZXhpdHlQZXJjZW50YWdlfSVcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgJHt0aGlzLmhvbWVJbmZvLmFyZWFzLmxlbmd0aCA+IDAgPyBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaHZpZXctY2FyZFwiPlxuICAgICAgICAgIDxoMz5EZXRlY3RlZCBBcmVhczwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFyZWFzLWxpc3RcIj5cbiAgICAgICAgICAgICR7dGhpcy5ob21lSW5mby5hcmVhcy5tYXAoYXJlYSA9PiBodG1sYFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImFyZWEtdGFnXCI+JHthcmVhfTwvc3Bhbj5cbiAgICAgICAgICAgIGApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGAgOiAnJ31cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJOb0RhdGEoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiZGFzaHZpZXctY2FyZFwiPlxuICAgICAgICA8cD5ObyBob21lIGluZm9ybWF0aW9uIGF2YWlsYWJsZS4gTWFrZSBzdXJlIHlvdXIgSG9tZSBBc3Npc3RhbnQgaXMgY29uZmlndXJlZCB3aXRoIGFyZWFzIGFuZCBlbnRpdGllcy48L3A+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuYWx5emUgaG9tZSBjb21wbGV4aXR5IGFuZCBhcmVhcy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgYW5hbHl6ZUhvbWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmhvbWVJbmZvIHx8ICF0aGlzLndzQ29ubmVjdGlvbikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBkZXRhaWxlZCBhcmVhIGluZm9ybWF0aW9uXG4gICAgICBjb25zdCBhcmVhRGF0YSA9IGF3YWl0IHRoaXMuY2FsbFdlYlNvY2tldDxSZWNvcmQ8c3RyaW5nLCBhbnk+PignZ2V0X2FyZWFfZW50aXRpZXMnLCB7fSk7XG4gICAgICBcbiAgICAgIC8vIENvbnZlcnQgdG8gQXJlYUluZm8gZm9ybWF0XG4gICAgICBmb3IgKGNvbnN0IFthcmVhSWQsIGRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGFyZWFEYXRhKSkge1xuICAgICAgICB0aGlzLmFyZWFzLnNldChhcmVhSWQsIHtcbiAgICAgICAgICBhcmVhSWQsXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgIGVudGl0aWVzOiBkYXRhLmVudGl0aWVzIHx8IFtdLFxuICAgICAgICAgIGVudGl0eUNvdW50OiBkYXRhLmVudGl0eV9jb3VudCB8fCAwLFxuICAgICAgICAgIGRldmljZUNvdW50OiBkYXRhLmRldmljZV9jb3VudCB8fCAwLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbG9nZ2VyLmluZm8oYEFuYWx5emVkICR7dGhpcy5hcmVhcy5zaXplfSBhcmVhc2ApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBhbmFseXplIGhvbWU6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3Qgb3B0aW1hbCBsYXlvdXQgYmFzZWQgb24gY29tcGxleGl0eSBzY29yZSBhbmQgYXJlYSBjb3VudC5cbiAgICovXG4gIHByaXZhdGUgc2VsZWN0T3B0aW1hbExheW91dCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaG9tZUluZm8gfHwgIXRoaXMubGF5b3V0RW5naW5lKSByZXR1cm47XG5cbiAgICBjb25zdCBjb21wbGV4aXR5U2NvcmUgPSB0aGlzLmhvbWVJbmZvLmNvbXBsZXhpdHlTY29yZTtcbiAgICBjb25zdCBhcmVhQ291bnQgPSB0aGlzLmFyZWFzLnNpemU7XG4gICAgXG4gICAgdGhpcy5jdXJyZW50TGF5b3V0ID0gdGhpcy5sYXlvdXRFbmdpbmUuc2VsZWN0TGF5b3V0KGNvbXBsZXhpdHlTY29yZSwgYXJlYUNvdW50KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgYnJlYWtwb2ludFxuICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gdGhpcy5vZmZzZXRXaWR0aCB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gdGhpcy5jdXJyZW50TGF5b3V0LmdldEJyZWFrcG9pbnQoY29udGFpbmVyV2lkdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgd2lkZ2V0cyBiYXNlZCBvbiBhcmVhcyBhbmQgbGF5b3V0LlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplV2lkZ2V0cygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMubGF5b3V0RW5naW5lIHx8ICF0aGlzLmN1cnJlbnRMYXlvdXQpIHJldHVybjtcblxuICAgIC8vIE9yZ2FuaXplIHdpZGdldHMgZnJvbSBhcmVhc1xuICAgIGNvbnN0IGFyZWFJbmZvcyA9IEFycmF5LmZyb20odGhpcy5hcmVhcy52YWx1ZXMoKSk7XG4gICAgdGhpcy53aWRnZXRzID0gdGhpcy5sYXlvdXRFbmdpbmUub3JnYW5pemVXaWRnZXRzKGFyZWFJbmZvcyk7XG4gICAgXG4gICAgLy8gSGFuZGxlIG92ZXJmbG93XG4gICAgY29uc3QgeyB2aXNpYmxlIH0gPSB0aGlzLmxheW91dEVuZ2luZS5oYW5kbGVPdmVyZmxvdyhcbiAgICAgIHRoaXMud2lkZ2V0cyxcbiAgICAgIHRoaXMuY3VycmVudExheW91dCxcbiAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnRcbiAgICApO1xuICAgIFxuICAgIHRoaXMud2lkZ2V0cyA9IHZpc2libGU7XG4gICAgXG4gICAgbG9nZ2VyLmluZm8oYEluaXRpYWxpemVkICR7dGhpcy53aWRnZXRzLmxlbmd0aH0gd2lkZ2V0c2ApO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb25zIGZvciB2aXNpYmxlIGVudGl0aWVzXG4gICAgYXdhaXQgdGhpcy51cGRhdGVWaXNpYmxlU3Vic2NyaXB0aW9ucygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHZpc2libGUgd2lkZ2V0cy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgdXBkYXRlVmlzaWJsZVN1YnNjcmlwdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyKSByZXR1cm47XG5cbiAgICBjb25zdCB2aXNpYmxlRW50aXRpZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHdpZGdldCBvZiB0aGlzLndpZGdldHMpIHtcbiAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHdpZGdldC5lbnRpdGllcykge1xuICAgICAgICB2aXNpYmxlRW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIudXBkYXRlVmlzaWJsZUVudGl0aWVzKEFycmF5LmZyb20odmlzaWJsZUVudGl0aWVzKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHJlc2l6ZSBvYnNlcnZlciBmb3IgcmVzcG9uc2l2ZSBiZWhhdmlvci5cbiAgICovXG4gIHByaXZhdGUgc2V0dXBSZXNpemVPYnNlcnZlcigpOiB2b2lkIHtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgIGlmIChlbnRyeS50YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZShlbnRyeS5jb250ZW50UmVjdC53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjb250YWluZXIgcmVzaXplLlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVSZXNpemUod2lkdGg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5jdXJyZW50TGF5b3V0KSByZXR1cm47XG5cbiAgICBjb25zdCBicmVha3BvaW50Q2hhbmdlZCA9IHRoaXMuY3VycmVudExheW91dC51cGRhdGVDb250YWluZXJXaWR0aCh3aWR0aCk7XG4gICAgXG4gICAgaWYgKGJyZWFrcG9pbnRDaGFuZ2VkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gdGhpcy5jdXJyZW50TGF5b3V0LmdldEJyZWFrcG9pbnQoKTtcbiAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIGRhc2hib2FyZCBncmlkIHdpdGggd2lkZ2V0cy5cbiAgICovXG4gIHByaXZhdGUgcmVuZGVyRGFzaGJvYXJkKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBpZiAoIXRoaXMuY3VycmVudExheW91dCB8fCB0aGlzLndpZGdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRhc2hib2FyZC1sb2FkaW5nXCI+XG4gICAgICAgICAgPHA+U2V0dGluZyB1cCB5b3VyIGRhc2hib2FyZC4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIGNvbnN0IGdyaWRDU1MgPSB0aGlzLmN1cnJlbnRMYXlvdXQuZ2VuZXJhdGVHcmlkQ1NTKHRoaXMuY3VycmVudEJyZWFrcG9pbnQpO1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMubGF5b3V0RW5naW5lIS5jYWxjdWxhdGVQb3NpdGlvbnModGhpcy53aWRnZXRzLCB0aGlzLmFyZWFzLnNpemUpO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkLWdyaWRcIiBzdHlsZT1cIiR7Z3JpZENTU31cIj5cbiAgICAgICAgJHtwb3NpdGlvbnMubWFwKHBvcyA9PiB7XG4gICAgICAgICAgY29uc3Qgd2lkZ2V0ID0gdGhpcy53aWRnZXRzLmZpbmQodyA9PiBcbiAgICAgICAgICAgIHRoaXMuZ2V0V2lkZ2V0SWQodykgPT09IHBvcy53aWRnZXRJZFxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF3aWRnZXQpIHJldHVybiAnJztcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJXaWRnZXQod2lkZ2V0LCBwb3MpO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgc2luZ2xlIHdpZGdldC5cbiAgICovXG4gIHByaXZhdGUgcmVuZGVyV2lkZ2V0KHdpZGdldDogV2lkZ2V0Q29uZmlnLCBwb3NpdGlvbjogYW55KTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IHN0eWxlID0gYFxuICAgICAgZ3JpZC1hcmVhOiAke3Bvc2l0aW9uLmdyaWRBcmVhfTtcbiAgICAgICR7cG9zaXRpb24uZ3JpZENvbHVtbiA/IGBncmlkLWNvbHVtbjogJHtwb3NpdGlvbi5ncmlkQ29sdW1ufTtgIDogJyd9XG4gICAgICAke3Bvc2l0aW9uLmdyaWRSb3cgPyBgZ3JpZC1yb3c6ICR7cG9zaXRpb24uZ3JpZFJvd307YCA6ICcnfVxuICAgIGA7XG5cbiAgICBzd2l0Y2ggKHdpZGdldC50eXBlKSB7XG4gICAgICBjYXNlICdyb29tJzpcbiAgICAgICAgY29uc3QgYXJlYSA9IEFycmF5LmZyb20odGhpcy5hcmVhcy52YWx1ZXMoKSkuZmluZChhID0+IFxuICAgICAgICAgIGEuZW50aXRpZXMuc29tZShlID0+IHdpZGdldC5lbnRpdGllcy5pbmNsdWRlcyhlKSlcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3aWRnZXQtY29udGFpbmVyXCIgc3R5bGU9XCIke3N0eWxlfVwiPlxuICAgICAgICAgICAgPGRhc2h2aWV3LXJvb20td2lkZ2V0XG4gICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAud2lkZ2V0Q29uZmlnPSR7d2lkZ2V0fVxuICAgICAgICAgICAgICAuYXJlYUlkPSR7YXJlYT8uYXJlYUlkfVxuICAgICAgICAgICAgICAuYXJlYU5hbWU9JHthcmVhPy5uYW1lIHx8IHdpZGdldC50aXRsZX1cbiAgICAgICAgICAgID48L2Rhc2h2aWV3LXJvb20td2lkZ2V0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgXG4gICAgICAvLyBUT0RPOiBBZGQgb3RoZXIgd2lkZ2V0IHR5cGVzIHdoZW4gaW1wbGVtZW50ZWRcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3aWRnZXQtY29udGFpbmVyXCIgc3R5bGU9XCIke3N0eWxlfVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhc2h2aWV3LWNhcmRcIj5cbiAgICAgICAgICAgICAgPHA+V2lkZ2V0IHR5cGUgJyR7d2lkZ2V0LnR5cGV9JyBub3QgaW1wbGVtZW50ZWQgeWV0PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHdpZGdldCBJRC5cbiAgICovXG4gIHByaXZhdGUgZ2V0V2lkZ2V0SWQod2lkZ2V0OiBXaWRnZXRDb25maWcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZpcnN0RW50aXR5ID0gd2lkZ2V0LmVudGl0aWVzWzBdIHx8ICd1bmtub3duJztcbiAgICByZXR1cm4gYCR7d2lkZ2V0LnR5cGV9LSR7Zmlyc3RFbnRpdHkucmVwbGFjZSgvXFwuL2csICdfJyl9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cCByZXNvdXJjZXMuXG4gICAqL1xuICBwcml2YXRlIGNsZWFudXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIuY2xlYXIoKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuX3N0YXRlTWFuYWdlcikge1xuICAgICAgdGhpcy5fc3RhdGVNYW5hZ2VyLmNsZWFyKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0ICcuL2Rhc2hib2FyZC9kYXNodmlldy1kYXNoYm9hcmQnO1xuaW1wb3J0IHsgTG9nTGV2ZWwsIGxvZ2dlciB9IGZyb20gJy4vdXRpbHMvbG9nZ2VyJztcblxuLy8gU2V0IHVwIGxvZ2dlciBiYXNlZCBvbiBlbnZpcm9ubWVudFxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIGxvZ2dlci5zZXRMZXZlbChMb2dMZXZlbC5ERUJVRyk7XG59XG5cbi8vIFZlcmlmeSBkYXNoYm9hcmQgZWxlbWVudCBpcyByZWdpc3RlcmVkXG5jb25zdCBkYXNoYm9hcmRFbGVtZW50ID0gY3VzdG9tRWxlbWVudHMuZ2V0KCdkYXNodmlldy1kYXNoYm9hcmQnKTtcbmlmIChkYXNoYm9hcmRFbGVtZW50KSB7XG4gIGxvZ2dlci5pbmZvKCdEYXNodmlldyBWMiBkYXNoYm9hcmQgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknKTtcbn0gZWxzZSB7XG4gIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHJlZ2lzdGVyIGRhc2h2aWV3LWRhc2hib2FyZCBlbGVtZW50Jyk7XG59XG5cbi8vIEV4cG9ydCB2ZXJzaW9uIGZvciBkZWJ1Z2dpbmdcbmV4cG9ydCBjb25zdCBEQVNIVklFV19WRVJTSU9OID0gJzAuMi4wJztcblxuLy8gTG9nIGluaXRpYWxpemF0aW9uXG5sb2dnZXIuaW5mbyhgRGFzaHZpZXcgVjIgdiR7REFTSFZJRVdfVkVSU0lPTn0gaW5pdGlhbGl6ZWRgKTtcblxuLy8gU2V0IHVwIGdsb2JhbCBlcnJvciBoYW5kbGVyIGZvciBkZWJ1Z2dpbmdcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudCkgPT4ge1xuICBsb2dnZXIuZXJyb3IoJ0dsb2JhbCBlcnJvcjonLCBldmVudC5lcnJvcik7XG59KTtcblxuLy8gU2V0IHVwIHVuaGFuZGxlZCByZWplY3Rpb24gaGFuZGxlclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIChldmVudCkgPT4ge1xuICBsb2dnZXIuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbjonLCBldmVudC5yZWFzb24pO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///38\n\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			256: 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkDashviewV2"] = self["webpackChunkDashviewV2"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, [121], () => (__webpack_require__(38)))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});